(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))v(C);new MutationObserver(C=>{for(const p of C)if(p.type==="childList")for(const O of p.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&v(O)}).observe(document,{childList:!0,subtree:!0});function h(C){const p={};return C.integrity&&(p.integrity=C.integrity),C.referrerPolicy&&(p.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?p.credentials="include":C.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function v(C){if(C.ep)return;C.ep=!0;const p=h(C);fetch(C.href,p)}})();var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KE(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var u=a.default;if(typeof u=="function"){var h=function v(){return this instanceof v?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};h.prototype=u.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(a).forEach(function(v){var C=Object.getOwnPropertyDescriptor(a,v);Object.defineProperty(h,v,C.get?C:{enumerable:!0,get:function(){return a[v]}})}),h}var Ol={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function AE(){if(Tm)return Ur;Tm=1;var a=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function h(v,C,p){var O=null;if(p!==void 0&&(O=""+p),C.key!==void 0&&(O=""+C.key),"key"in C){p={};for(var g in C)g!=="key"&&(p[g]=C[g])}else p=C;return C=p.ref,{$$typeof:a,type:v,key:O,ref:C!==void 0?C:null,props:p}}return Ur.Fragment=u,Ur.jsx=h,Ur.jsxs=h,Ur}var Em;function PE(){return Em||(Em=1,Ol.exports=AE()),Ol.exports}var lt=PE(),Dl={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function jE(){if(Cm)return fe;Cm=1;var a=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),O=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),s=Symbol.iterator;function d(U){return U===null||typeof U!="object"?null:(U=s&&U[s]||U["@@iterator"],typeof U=="function"?U:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function b(U,Q,te){this.props=U,this.context=Q,this.refs=S,this.updater=te||m}b.prototype.isReactComponent={},b.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=b.prototype;function _(U,Q,te){this.props=U,this.context=Q,this.refs=S,this.updater=te||m}var D=_.prototype=new T;D.constructor=_,y(D,b.prototype),D.isPureReactComponent=!0;var M=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function L(U,Q,te,W,oe,ye){return te=ye.ref,{$$typeof:a,type:U,key:Q,ref:te!==void 0?te:null,props:ye}}function V(U,Q){return L(U.type,Q,void 0,void 0,void 0,U.props)}function K(U){return typeof U=="object"&&U!==null&&U.$$typeof===a}function j(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return Q[te]})}var k=/\/+/g;function H(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):Q.toString(36)}function x(){}function ie(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(x,x):(U.status="pending",U.then(function(Q){U.status==="pending"&&(U.status="fulfilled",U.value=Q)},function(Q){U.status==="pending"&&(U.status="rejected",U.reason=Q)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,Q,te,W,oe){var ye=typeof U;(ye==="undefined"||ye==="boolean")&&(U=null);var ae=!1;if(U===null)ae=!0;else switch(ye){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(U.$$typeof){case a:case u:ae=!0;break;case l:return ae=U._init,ee(ae(U._payload),Q,te,W,oe)}}if(ae)return oe=oe(U),ae=W===""?"."+H(U,0):W,M(oe)?(te="",ae!=null&&(te=ae.replace(k,"$&/")+"/"),ee(oe,Q,te,"",function(jt){return jt})):oe!=null&&(K(oe)&&(oe=V(oe,te+(oe.key==null||U&&U.key===oe.key?"":(""+oe.key).replace(k,"$&/")+"/")+ae)),Q.push(oe)),1;ae=0;var Ne=W===""?".":W+":";if(M(U))for(var Ve=0;Ve<U.length;Ve++)W=U[Ve],ye=Ne+H(W,Ve),ae+=ee(W,Q,te,ye,oe);else if(Ve=d(U),typeof Ve=="function")for(U=Ve.call(U),Ve=0;!(W=U.next()).done;)W=W.value,ye=Ne+H(W,Ve++),ae+=ee(W,Q,te,ye,oe);else if(ye==="object"){if(typeof U.then=="function")return ee(ie(U),Q,te,W,oe);throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ae}function q(U,Q,te){if(U==null)return U;var W=[],oe=0;return ee(U,W,"","",function(ye){return Q.call(te,ye,oe++)}),W}function Z(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var J=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ne(){}return fe.Children={map:q,forEach:function(U,Q,te){q(U,function(){Q.apply(this,arguments)},te)},count:function(U){var Q=0;return q(U,function(){Q++}),Q},toArray:function(U){return q(U,function(Q){return Q})||[]},only:function(U){if(!K(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},fe.Component=b,fe.Fragment=h,fe.Profiler=C,fe.PureComponent=_,fe.StrictMode=v,fe.Suspense=f,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,fe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},fe.cache=function(U){return function(){return U.apply(null,arguments)}},fe.cloneElement=function(U,Q,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var W=y({},U.props),oe=U.key,ye=void 0;if(Q!=null)for(ae in Q.ref!==void 0&&(ye=void 0),Q.key!==void 0&&(oe=""+Q.key),Q)!N.call(Q,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Q.ref===void 0||(W[ae]=Q[ae]);var ae=arguments.length-2;if(ae===1)W.children=te;else if(1<ae){for(var Ne=Array(ae),Ve=0;Ve<ae;Ve++)Ne[Ve]=arguments[Ve+2];W.children=Ne}return L(U.type,oe,void 0,void 0,ye,W)},fe.createContext=function(U){return U={$$typeof:O,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:p,_context:U},U},fe.createElement=function(U,Q,te){var W,oe={},ye=null;if(Q!=null)for(W in Q.key!==void 0&&(ye=""+Q.key),Q)N.call(Q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=Q[W]);var ae=arguments.length-2;if(ae===1)oe.children=te;else if(1<ae){for(var Ne=Array(ae),Ve=0;Ve<ae;Ve++)Ne[Ve]=arguments[Ve+2];oe.children=Ne}if(U&&U.defaultProps)for(W in ae=U.defaultProps,ae)oe[W]===void 0&&(oe[W]=ae[W]);return L(U,ye,void 0,void 0,null,oe)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(U){return{$$typeof:g,render:U}},fe.isValidElement=K,fe.lazy=function(U){return{$$typeof:l,_payload:{_status:-1,_result:U},_init:Z}},fe.memo=function(U,Q){return{$$typeof:o,type:U,compare:Q===void 0?null:Q}},fe.startTransition=function(U){var Q=A.T,te={};A.T=te;try{var W=U(),oe=A.S;oe!==null&&oe(te,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ne,J)}catch(ye){J(ye)}finally{A.T=Q}},fe.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},fe.use=function(U){return A.H.use(U)},fe.useActionState=function(U,Q,te){return A.H.useActionState(U,Q,te)},fe.useCallback=function(U,Q){return A.H.useCallback(U,Q)},fe.useContext=function(U){return A.H.useContext(U)},fe.useDebugValue=function(){},fe.useDeferredValue=function(U,Q){return A.H.useDeferredValue(U,Q)},fe.useEffect=function(U,Q,te){var W=A.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(U,Q)},fe.useId=function(){return A.H.useId()},fe.useImperativeHandle=function(U,Q,te){return A.H.useImperativeHandle(U,Q,te)},fe.useInsertionEffect=function(U,Q){return A.H.useInsertionEffect(U,Q)},fe.useLayoutEffect=function(U,Q){return A.H.useLayoutEffect(U,Q)},fe.useMemo=function(U,Q){return A.H.useMemo(U,Q)},fe.useOptimistic=function(U,Q){return A.H.useOptimistic(U,Q)},fe.useReducer=function(U,Q,te){return A.H.useReducer(U,Q,te)},fe.useRef=function(U){return A.H.useRef(U)},fe.useState=function(U){return A.H.useState(U)},fe.useSyncExternalStore=function(U,Q,te){return A.H.useSyncExternalStore(U,Q,te)},fe.useTransition=function(){return A.H.useTransition()},fe.version="19.1.0",fe}var Sm;function Mt(){return Sm||(Sm=1,Dl.exports=jE()),Dl.exports}var to=Mt(),Rl={exports:{}},wr={},Ml={exports:{}},Vl={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function UE(){return _m||(_m=1,function(a){function u(q,Z){var J=q.length;q.push(Z);e:for(;0<J;){var ne=J-1>>>1,U=q[ne];if(0<C(U,Z))q[ne]=Z,q[J]=U,J=ne;else break e}}function h(q){return q.length===0?null:q[0]}function v(q){if(q.length===0)return null;var Z=q[0],J=q.pop();if(J!==Z){q[0]=J;e:for(var ne=0,U=q.length,Q=U>>>1;ne<Q;){var te=2*(ne+1)-1,W=q[te],oe=te+1,ye=q[oe];if(0>C(W,J))oe<U&&0>C(ye,W)?(q[ne]=ye,q[oe]=J,ne=oe):(q[ne]=W,q[te]=J,ne=te);else if(oe<U&&0>C(ye,J))q[ne]=ye,q[oe]=J,ne=oe;else break e}}return Z}function C(q,Z){var J=q.sortIndex-Z.sortIndex;return J!==0?J:q.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var O=Date,g=O.now();a.unstable_now=function(){return O.now()-g}}var f=[],o=[],l=1,s=null,d=3,m=!1,y=!1,S=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var Z=h(o);Z!==null;){if(Z.callback===null)v(o);else if(Z.startTime<=q)v(o),Z.sortIndex=Z.expirationTime,u(f,Z);else break;Z=h(o)}}function A(q){if(S=!1,M(q),!y)if(h(f)!==null)y=!0,N||(N=!0,H());else{var Z=h(o);Z!==null&&ee(A,Z.startTime-q)}}var N=!1,L=-1,V=5,K=-1;function j(){return b?!0:!(a.unstable_now()-K<V)}function k(){if(b=!1,N){var q=a.unstable_now();K=q;var Z=!0;try{e:{y=!1,S&&(S=!1,_(L),L=-1),m=!0;var J=d;try{t:{for(M(q),s=h(f);s!==null&&!(s.expirationTime>q&&j());){var ne=s.callback;if(typeof ne=="function"){s.callback=null,d=s.priorityLevel;var U=ne(s.expirationTime<=q);if(q=a.unstable_now(),typeof U=="function"){s.callback=U,M(q),Z=!0;break t}s===h(f)&&v(f),M(q)}else v(f);s=h(f)}if(s!==null)Z=!0;else{var Q=h(o);Q!==null&&ee(A,Q.startTime-q),Z=!1}}break e}finally{s=null,d=J,m=!1}Z=void 0}}finally{Z?H():N=!1}}}var H;if(typeof D=="function")H=function(){D(k)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ie=x.port2;x.port1.onmessage=k,H=function(){ie.postMessage(null)}}else H=function(){T(k,0)};function ee(q,Z){L=T(function(){q(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return d},a.unstable_next=function(q){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var J=d;d=Z;try{return q()}finally{d=J}},a.unstable_requestPaint=function(){b=!0},a.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=d;d=q;try{return Z()}finally{d=J}},a.unstable_scheduleCallback=function(q,Z,J){var ne=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,q={id:l++,callback:Z,priorityLevel:q,startTime:J,expirationTime:U,sortIndex:-1},J>ne?(q.sortIndex=J,u(o,q),h(f)===null&&q===h(o)&&(S?(_(L),L=-1):S=!0,ee(A,J-ne))):(q.sortIndex=U,u(f,q),y||m||(y=!0,N||(N=!0,H()))),q},a.unstable_shouldYield=j,a.unstable_wrapCallback=function(q){var Z=d;return function(){var J=d;d=Z;try{return q.apply(this,arguments)}finally{d=J}}}}(Vl)),Vl}var Om;function wE(){return Om||(Om=1,Ml.exports=UE()),Ml.exports}var Kl={exports:{}},et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function NE(){if(Dm)return et;Dm=1;var a=Mt();function u(f){var o="https://react.dev/errors/"+f;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+f+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var v={d:{f:h,r:function(){throw Error(u(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},C=Symbol.for("react.portal");function p(f,o,l){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:s==null?null:""+s,children:f,containerInfo:o,implementation:l}}var O=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(f,o){if(f==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,et.createPortal=function(f,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(u(299));return p(f,o,null,l)},et.flushSync=function(f){var o=O.T,l=v.p;try{if(O.T=null,v.p=2,f)return f()}finally{O.T=o,v.p=l,v.d.f()}},et.preconnect=function(f,o){typeof f=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,v.d.C(f,o))},et.prefetchDNS=function(f){typeof f=="string"&&v.d.D(f)},et.preinit=function(f,o){if(typeof f=="string"&&o&&typeof o.as=="string"){var l=o.as,s=g(l,o.crossOrigin),d=typeof o.integrity=="string"?o.integrity:void 0,m=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;l==="style"?v.d.S(f,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:s,integrity:d,fetchPriority:m}):l==="script"&&v.d.X(f,{crossOrigin:s,integrity:d,fetchPriority:m,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},et.preinitModule=function(f,o){if(typeof f=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var l=g(o.as,o.crossOrigin);v.d.M(f,{crossOrigin:l,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&v.d.M(f)},et.preload=function(f,o){if(typeof f=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var l=o.as,s=g(l,o.crossOrigin);v.d.L(f,l,{crossOrigin:s,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},et.preloadModule=function(f,o){if(typeof f=="string")if(o){var l=g(o.as,o.crossOrigin);v.d.m(f,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:l,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else v.d.m(f)},et.requestFormReset=function(f){v.d.r(f)},et.unstable_batchedUpdates=function(f,o){return f(o)},et.useFormState=function(f,o,l){return O.H.useFormState(f,o,l)},et.useFormStatus=function(){return O.H.useHostTransitionStatus()},et.version="19.1.0",et}var Rm;function kE(){if(Rm)return Kl.exports;Rm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(u){console.error(u)}}return a(),Kl.exports=NE(),Kl.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function LE(){if(Mm)return wr;Mm=1;var a=wE(),u=Mt(),h=kE();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function O(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(p(e)!==e)throw Error(v(188))}function f(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(v(188));return t!==e?null:e}for(var i=e,n=t;;){var r=i.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===i)return g(r),e;if(c===n)return g(r),t;c=c.sibling}throw Error(v(188))}if(i.return!==n.return)i=r,n=c;else{for(var E=!1,R=r.child;R;){if(R===i){E=!0,i=r,n=c;break}if(R===n){E=!0,n=r,i=c;break}R=R.sibling}if(!E){for(R=c.child;R;){if(R===i){E=!0,i=c,n=r;break}if(R===n){E=!0,n=c,i=r;break}R=R.sibling}if(!E)throw Error(v(189))}}if(i.alternate!==n)throw Error(v(190))}if(i.tag!==3)throw Error(v(188));return i.stateNode.current===i?e:t}function o(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=o(e),t!==null)return t;e=e.sibling}return null}var l=Object.assign,s=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case b:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case m:return"Portal";case D:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var ee=Array.isArray,q=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ne=[],U=-1;function Q(e){return{current:e}}function te(e){0>U||(e.current=ne[U],ne[U]=null,U--)}function W(e,t){U++,ne[U]=e.current,e.current=t}var oe=Q(null),ye=Q(null),ae=Q(null),Ne=Q(null);function Ve(e,t){switch(W(ae,t),W(ye,e),W(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xv(t),e=Xv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(oe),W(oe,e)}function jt(){te(oe),te(ye),te(ae)}function jn(e){e.memoizedState!==null&&W(Ne,e);var t=oe.current,i=Xv(t,e.type);t!==i&&(W(ye,e),W(oe,i))}function Bi(e){ye.current===e&&(te(oe),te(ye)),Ne.current===e&&(te(Ne),Vr._currentValue=J)}var Un=Object.prototype.hasOwnProperty,Oi=a.unstable_scheduleCallback,ei=a.unstable_cancelCallback,wn=a.unstable_shouldYield,fo=a.unstable_requestPaint,st=a.unstable_now,Ir=a.unstable_getCurrentPriorityLevel,Nn=a.unstable_ImmediatePriority,qr=a.unstable_UserBlockingPriority,zr=a.unstable_NormalPriority,fb=a.unstable_LowPriority,Kf=a.unstable_IdlePriority,db=a.log,gb=a.unstable_setDisableYieldValue,kn=null,ct=null;function ti(e){if(typeof db=="function"&&gb(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(kn,e)}catch{}}var ft=Math.clz32?Math.clz32:yb,vb=Math.log,mb=Math.LN2;function yb(e){return e>>>=0,e===0?32:31-(vb(e)/mb|0)|0}var $r=256,Fr=4194304;function Di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gr(e,t,i){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var R=n&134217727;return R!==0?(n=R&~c,n!==0?r=Di(n):(E&=R,E!==0?r=Di(E):i||(i=R&~e,i!==0&&(r=Di(i))))):(R=n&~c,R!==0?r=Di(R):E!==0?r=Di(E):i||(i=n&~e,i!==0&&(r=Di(i)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:r}function Ln(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function hb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function Pf(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function go(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function In(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pb(e,t,i,n,r,c){var E=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var R=e.entanglements,P=e.expirationTimes,$=e.hiddenUpdates;for(i=E&~i;0<i;){var B=31-ft(i),X=1<<B;R[B]=0,P[B]=-1;var F=$[B];if(F!==null)for($[B]=null,B=0;B<F.length;B++){var G=F[B];G!==null&&(G.lane&=-536870913)}i&=~X}n!==0&&jf(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(E&~t))}function jf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ft(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|i&4194090}function Uf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-ft(i),r=1<<n;r&t|e[n]&t&&(e[n]|=t),i&=~r}}function vo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wf(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:vm(e.type))}function bb(e,t){var i=Z.p;try{return Z.p=e,t()}finally{Z.p=i}}var ii=Math.random().toString(36).slice(2),Je="__reactFiber$"+ii,nt="__reactProps$"+ii,Yi="__reactContainer$"+ii,yo="__reactEvents$"+ii,Tb="__reactListeners$"+ii,Eb="__reactHandles$"+ii,Nf="__reactResources$"+ii,qn="__reactMarker$"+ii;function ho(e){delete e[Je],delete e[nt],delete e[yo],delete e[Tb],delete e[Eb]}function xi(e){var t=e[Je];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Yi]||i[Je]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Wv(e);e!==null;){if(i=e[Je])return i;e=Wv(e)}return t}e=i,i=e.parentNode}return null}function Xi(e){if(e=e[Je]||e[Yi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function zn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function Qi(e){var t=e[Nf];return t||(t=e[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[qn]=!0}var kf=new Set,Lf={};function Ri(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(Lf[e]=t,e=0;e<t.length;e++)kf.add(t[e])}var Cb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),If={},qf={};function Sb(e){return Un.call(qf,e)?!0:Un.call(If,e)?!1:Cb.test(e)?qf[e]=!0:(If[e]=!0,!1)}function Hr(e,t,i){if(Sb(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Br(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function It(e,t,i,n){if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+n)}}var po,zf;function Ji(e){if(po===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);po=t&&t[1]||"",zf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+po+e+zf}var bo=!1;function To(e,t){if(!e||bo)return"";bo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var F=G}Reflect.construct(e,[],X)}else{try{X.call()}catch(G){F=G}e.call(X.prototype)}}else{try{throw Error()}catch(G){F=G}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),E=c[0],R=c[1];if(E&&R){var P=E.split(`
`),$=R.split(`
`);for(r=n=0;n<P.length&&!P[n].includes("DetermineComponentFrameRoot");)n++;for(;r<$.length&&!$[r].includes("DetermineComponentFrameRoot");)r++;if(n===P.length||r===$.length)for(n=P.length-1,r=$.length-1;1<=n&&0<=r&&P[n]!==$[r];)r--;for(;1<=n&&0<=r;n--,r--)if(P[n]!==$[r]){if(n!==1||r!==1)do if(n--,r--,0>r||P[n]!==$[r]){var B=`
`+P[n].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=n&&0<=r);break}}}finally{bo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ji(i):""}function _b(e){switch(e.tag){case 26:case 27:case 5:return Ji(e.type);case 16:return Ji("Lazy");case 13:return Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return To(e.type,!1);case 11:return To(e.type.render,!1);case 1:return To(e.type,!0);case 31:return Ji("Activity");default:return""}}function $f(e){try{var t="";do t+=_b(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ff(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ob(e){var t=Ff(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(E){n=""+E,c.call(this,E)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(E){n=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yr(e){e._valueTracker||(e._valueTracker=Ob(e))}function Gf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Ff(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Db=/[\n"\\]/g;function Tt(e){return e.replace(Db,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Eo(e,t,i,n,r,c,E,R){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?Co(e,E,bt(t)):i!=null?Co(e,E,bt(i)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+bt(R):e.removeAttribute("name")}function Hf(e,t,i,n,r,c,E,R){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+bt(i):"",t=t!=null?""+bt(t):i,R||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=R?e.checked:!!n,e.defaultChecked=!!n,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Co(e,t,i){t==="number"&&xr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Wi(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+bt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Bf(e,t,i){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+bt(i):""}function Yf(e,t,i,n){if(t==null){if(n!=null){if(i!=null)throw Error(v(92));if(ee(n)){if(1<n.length)throw Error(v(93));n=n[0]}i=n}i==null&&(i=""),t=i}i=bt(t),e.defaultValue=i,n=e.textContent,n===i&&n!==""&&n!==null&&(e.value=n)}function en(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Rb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xf(e,t,i){var n=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,i):typeof i!="number"||i===0||Rb.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Xf(e,t,i){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,i!=null){for(var n in i)!i.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&i[r]!==n&&xf(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&xf(e,c,t[c])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return Vb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _o=null;function Oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tn=null,nn=null;function Qf(e){var t=Xi(e);if(t&&(e=t.stateNode)){var i=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Eo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Tt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=n[nt]||null;if(!r)throw Error(v(90));Eo(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)n=i[t],n.form===e.form&&Gf(n)}break e;case"textarea":Bf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Wi(e,!!i.multiple,t,!1)}}}var Do=!1;function Zf(e,t,i){if(Do)return e(t,i);Do=!0;try{var n=e(t);return n}finally{if(Do=!1,(tn!==null||nn!==null)&&(Ua(),tn&&(t=tn,e=nn,nn=tn=null,Qf(t),e)))for(t=0;t<e.length;t++)Qf(e[t])}}function $n(e,t){var i=e.stateNode;if(i===null)return null;var n=i[nt]||null;if(n===null)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(v(231,t,typeof i));return i}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(qt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ro=!1}var ni=null,Mo=null,Qr=null;function Jf(){if(Qr)return Qr;var e,t=Mo,i=t.length,n,r="value"in ni?ni.value:ni.textContent,c=r.length;for(e=0;e<i&&t[e]===r[e];e++);var E=i-e;for(n=1;n<=E&&t[i-n]===r[c-n];n++);return Qr=r.slice(e,1<n?1-n:void 0)}function Zr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jr(){return!0}function Wf(){return!1}function rt(e){function t(i,n,r,c,E){this._reactName=i,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=E,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(c):c[R]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Jr:Wf,this.isPropagationStopped=Wf,this}return l(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),t}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=rt(Mi),Gn=l({},Mi,{view:0,detail:0}),Kb=rt(Gn),Vo,Ko,Hn,ea=l({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(Vo=e.screenX-Hn.screenX,Ko=e.screenY-Hn.screenY):Ko=Vo=0,Hn=e),Vo)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),ed=rt(ea),Ab=l({},ea,{dataTransfer:0}),Pb=rt(Ab),jb=l({},Gn,{relatedTarget:0}),Ao=rt(jb),Ub=l({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),wb=rt(Ub),Nb=l({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kb=rt(Nb),Lb=l({},Mi,{data:0}),td=rt(Lb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zb[e])?!!t[e]:!1}function Po(){return $b}var Fb=l({},Gn,{key:function(e){if(e.key){var t=Ib[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?Zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gb=rt(Fb),Hb=l({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=rt(Hb),Bb=l({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),Yb=rt(Bb),xb=l({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xb=rt(xb),Qb=l({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=rt(Qb),Jb=l({},Mi,{newState:0,oldState:0}),Wb=rt(Jb),eT=[9,13,27,32],jo=qt&&"CompositionEvent"in window,Bn=null;qt&&"documentMode"in document&&(Bn=document.documentMode);var tT=qt&&"TextEvent"in window&&!Bn,nd=qt&&(!jo||Bn&&8<Bn&&11>=Bn),rd=" ",ad=!1;function od(e,t){switch(e){case"keyup":return eT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function iT(e,t){switch(e){case"compositionend":return ud(t);case"keypress":return t.which!==32?null:(ad=!0,rd);case"textInput":return e=t.data,e===rd&&ad?null:e;default:return null}}function nT(e,t){if(rn)return e==="compositionend"||!jo&&od(e,t)?(e=Jf(),Qr=Mo=ni=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nd&&t.locale!=="ko"?null:t.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rT[e.type]:t==="textarea"}function sd(e,t,i,n){tn?nn?nn.push(n):nn=[n]:tn=n,t=qa(t,"onChange"),0<t.length&&(i=new Wr("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Yn=null,xn=null;function aT(e){Fv(e,0)}function ta(e){var t=zn(e);if(Gf(t))return e}function cd(e,t){if(e==="change")return t}var fd=!1;if(qt){var Uo;if(qt){var wo="oninput"in document;if(!wo){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),wo=typeof dd.oninput=="function"}Uo=wo}else Uo=!1;fd=Uo&&(!document.documentMode||9<document.documentMode)}function gd(){Yn&&(Yn.detachEvent("onpropertychange",vd),xn=Yn=null)}function vd(e){if(e.propertyName==="value"&&ta(xn)){var t=[];sd(t,xn,e,Oo(e)),Zf(aT,t)}}function oT(e,t,i){e==="focusin"?(gd(),Yn=t,xn=i,Yn.attachEvent("onpropertychange",vd)):e==="focusout"&&gd()}function uT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(xn)}function lT(e,t){if(e==="click")return ta(t)}function sT(e,t){if(e==="input"||e==="change")return ta(t)}function cT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:cT;function Xn(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!Un.call(t,r)||!dt(e[r],t[r]))return!1}return!0}function md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yd(e,t){var i=md(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=md(i)}}function hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=xr(e.document)}return t}function No(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fT=qt&&"documentMode"in document&&11>=document.documentMode,an=null,ko=null,Qn=null,Lo=!1;function bd(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lo||an==null||an!==xr(n)||(n=an,"selectionStart"in n&&No(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qn&&Xn(Qn,n)||(Qn=n,n=qa(ko,"onSelect"),0<n.length&&(t=new Wr("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=an)))}function Vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var on={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Io={},Td={};qt&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function Ki(e){if(Io[e])return Io[e];if(!on[e])return e;var t=on[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Td)return Io[e]=t[i];return e}var Ed=Ki("animationend"),Cd=Ki("animationiteration"),Sd=Ki("animationstart"),dT=Ki("transitionrun"),gT=Ki("transitionstart"),vT=Ki("transitioncancel"),_d=Ki("transitionend"),Od=new Map,qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qo.push("scrollEnd");function Kt(e,t){Od.set(e,t),Ri(t,[e])}var Dd=new WeakMap;function Et(e,t){if(typeof e=="object"&&e!==null){var i=Dd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:$f(t)},Dd.set(e,t),t)}return{value:e,source:t,stack:$f(t)}}var Ct=[],un=0,zo=0;function ia(){for(var e=un,t=zo=un=0;t<e;){var i=Ct[t];Ct[t++]=null;var n=Ct[t];Ct[t++]=null;var r=Ct[t];Ct[t++]=null;var c=Ct[t];if(Ct[t++]=null,n!==null&&r!==null){var E=n.pending;E===null?r.next=r:(r.next=E.next,E.next=r),n.pending=r}c!==0&&Rd(i,r,c)}}function na(e,t,i,n){Ct[un++]=e,Ct[un++]=t,Ct[un++]=i,Ct[un++]=n,zo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function $o(e,t,i,n){return na(e,t,i,n),ra(e)}function ln(e,t){return na(e,null,null,t),ra(e)}function Rd(e,t,i){e.lanes|=i;var n=e.alternate;n!==null&&(n.lanes|=i);for(var r=!1,c=e.return;c!==null;)c.childLanes|=i,n=c.alternate,n!==null&&(n.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-ft(i),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=i|536870912),c):null}function ra(e){if(50<Er)throw Er=0,xu=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var sn={};function mT(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,i,n){return new mT(e,t,i,n)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zt(e,t){var i=e.alternate;return i===null?(i=gt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Md(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function aa(e,t,i,n,r,c){var E=0;if(n=e,typeof e=="function")Fo(e)&&(E=1);else if(typeof e=="string")E=hE(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=gt(31,i,t,r),e.elementType=K,e.lanes=c,e;case y:return Ai(i.children,r,c,t);case S:E=8,r|=24;break;case b:return e=gt(12,i,t,r|2),e.elementType=b,e.lanes=c,e;case A:return e=gt(13,i,t,r),e.elementType=A,e.lanes=c,e;case N:return e=gt(19,i,t,r),e.elementType=N,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case D:E=10;break e;case _:E=9;break e;case M:E=11;break e;case L:E=14;break e;case V:E=16,n=null;break e}E=29,i=Error(v(130,e===null?"null":typeof e,"")),n=null}return t=gt(E,i,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function Ai(e,t,i,n){return e=gt(7,e,n,t),e.lanes=i,e}function Go(e,t,i){return e=gt(6,e,null,t),e.lanes=i,e}function Ho(e,t,i){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cn=[],fn=0,oa=null,ua=0,St=[],_t=0,Pi=null,$t=1,Ft="";function ji(e,t){cn[fn++]=ua,cn[fn++]=oa,oa=e,ua=t}function Vd(e,t,i){St[_t++]=$t,St[_t++]=Ft,St[_t++]=Pi,Pi=e;var n=$t;e=Ft;var r=32-ft(n)-1;n&=~(1<<r),i+=1;var c=32-ft(t)+r;if(30<c){var E=r-r%5;c=(n&(1<<E)-1).toString(32),n>>=E,r-=E,$t=1<<32-ft(t)+r|i<<r|n,Ft=c+e}else $t=1<<c|i<<r|n,Ft=e}function Bo(e){e.return!==null&&(ji(e,1),Vd(e,1,0))}function Yo(e){for(;e===oa;)oa=cn[--fn],cn[fn]=null,ua=cn[--fn],cn[fn]=null;for(;e===Pi;)Pi=St[--_t],St[_t]=null,Ft=St[--_t],St[_t]=null,$t=St[--_t],St[_t]=null}var it=null,Ue=null,Ee=!1,Ui=null,Ut=!1,xo=Error(v(519));function wi(e){var t=Error(v(418,""));throw Wn(Et(t,e)),xo}function Kd(e){var t=e.stateNode,i=e.type,n=e.memoizedProps;switch(t[Je]=e,t[nt]=n,i){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(i=0;i<Sr.length;i++)pe(Sr[i],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Hf(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Yr(t);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Yf(t,n.value,n.defaultValue,n.children),Yr(t)}i=n.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||n.suppressHydrationWarning===!0||Yv(t.textContent,i)?(n.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),n.onScroll!=null&&pe("scroll",t),n.onScrollEnd!=null&&pe("scrollend",t),n.onClick!=null&&(t.onclick=za),t=!0):t=!1,t||wi(e)}function Ad(e){for(it=e.return;it;)switch(it.tag){case 5:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:it=it.return}}function Zn(e){if(e!==it)return!1;if(!Ee)return Ad(e),Ee=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||cl(e.type,e.memoizedProps)),i=!i),i&&Ue&&wi(e),Ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ue=Pt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ue=null}}else t===27?(t=Ue,bi(e.type)?(e=vl,vl=null,Ue=e):Ue=t):Ue=it?Pt(e.stateNode.nextSibling):null;return!0}function Jn(){Ue=it=null,Ee=!1}function Pd(){var e=Ui;return e!==null&&(ut===null?ut=e:ut.push.apply(ut,e),Ui=null),e}function Wn(e){Ui===null?Ui=[e]:Ui.push(e)}var Xo=Q(null),Ni=null,Gt=null;function ri(e,t,i){W(Xo,t._currentValue),t._currentValue=i}function Ht(e){e._currentValue=Xo.current,te(Xo)}function Qo(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Zo(e,t,i,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var E=r.child;c=c.firstContext;e:for(;c!==null;){var R=c;c=r;for(var P=0;P<t.length;P++)if(R.context===t[P]){c.lanes|=i,R=c.alternate,R!==null&&(R.lanes|=i),Qo(c.return,i,e),n||(E=null);break e}c=R.next}}else if(r.tag===18){if(E=r.return,E===null)throw Error(v(341));E.lanes|=i,c=E.alternate,c!==null&&(c.lanes|=i),Qo(E,i,e),E=null}else E=r.child;if(E!==null)E.return=r;else for(E=r;E!==null;){if(E===e){E=null;break}if(r=E.sibling,r!==null){r.return=E.return,E=r;break}E=E.return}r=E}}function er(e,t,i,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var E=r.alternate;if(E===null)throw Error(v(387));if(E=E.memoizedProps,E!==null){var R=r.type;dt(r.pendingProps.value,E.value)||(e!==null?e.push(R):e=[R])}}else if(r===Ne.current){if(E=r.alternate,E===null)throw Error(v(387));E.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Vr):e=[Vr])}r=r.return}e!==null&&Zo(t,e,i,n),t.flags|=262144}function la(e){for(e=e.firstContext;e!==null;){if(!dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Ni=e,Gt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return jd(Ni,e)}function sa(e,t){return Ni===null&&ki(e),jd(e,t)}function jd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Gt===null){if(e===null)throw Error(v(308));Gt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Gt=Gt.next=t;return i}var yT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},hT=a.unstable_scheduleCallback,pT=a.unstable_NormalPriority,$e={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jo(){return{controller:new yT,data:new Map,refCount:0}}function tr(e){e.refCount--,e.refCount===0&&hT(pT,function(){e.controller.abort()})}var ir=null,Wo=0,dn=0,gn=null;function bT(e,t){if(ir===null){var i=ir=[];Wo=0,dn=tl(),gn={status:"pending",value:void 0,then:function(n){i.push(n)}}}return Wo++,t.then(Ud,Ud),t}function Ud(){if(--Wo===0&&ir!==null){gn!==null&&(gn.status="fulfilled");var e=ir;ir=null,dn=0,gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function TT(e,t){var i=[],n={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),n}var wd=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&bT(e,t),wd!==null&&wd(e,t)};var Li=Q(null);function eu(){var e=Li.current;return e!==null?e:Ke.pooledCache}function ca(e,t){t===null?W(Li,Li.current):W(Li,t.pool)}function Nd(){var e=eu();return e===null?null:{parent:$e._currentValue,pool:e}}var nr=Error(v(460)),kd=Error(v(474)),fa=Error(v(542)),tu={then:function(){}};function Ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function da(){}function Id(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(da,da),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e;default:if(typeof t.status=="string")t.then(da,da);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e}throw rr=t,nr}}var rr=null;function qd(){if(rr===null)throw Error(v(459));var e=rr;return rr=null,e}function zd(e){if(e===nr||e===fa)throw Error(v(483))}var ai=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ce&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=ra(e),Rd(e,null,i),t}return na(e,n,t,i),ra(e)}function ar(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,Uf(e,i)}}function ru(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var r=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var E={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?r=c=E:c=c.next=E,i=i.next}while(i!==null);c===null?r=c=t:c=c.next=t}else r=c=t;i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var au=!1;function or(){if(au){var e=gn;if(e!==null)throw e}}function ur(e,t,i,n){au=!1;var r=e.updateQueue;ai=!1;var c=r.firstBaseUpdate,E=r.lastBaseUpdate,R=r.shared.pending;if(R!==null){r.shared.pending=null;var P=R,$=P.next;P.next=null,E===null?c=$:E.next=$,E=P;var B=e.alternate;B!==null&&(B=B.updateQueue,R=B.lastBaseUpdate,R!==E&&(R===null?B.firstBaseUpdate=$:R.next=$,B.lastBaseUpdate=P))}if(c!==null){var X=r.baseState;E=0,B=$=P=null,R=c;do{var F=R.lane&-536870913,G=F!==R.lane;if(G?(be&F)===F:(n&F)===F){F!==0&&F===dn&&(au=!0),B!==null&&(B=B.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ce=e,le=R;F=t;var Re=i;switch(le.tag){case 1:if(ce=le.payload,typeof ce=="function"){X=ce.call(Re,X,F);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=le.payload,F=typeof ce=="function"?ce.call(Re,X,F):ce,F==null)break e;X=l({},X,F);break e;case 2:ai=!0}}F=R.callback,F!==null&&(e.flags|=64,G&&(e.flags|=8192),G=r.callbacks,G===null?r.callbacks=[F]:G.push(F))}else G={lane:F,tag:R.tag,payload:R.payload,callback:R.callback,next:null},B===null?($=B=G,P=X):B=B.next=G,E|=F;if(R=R.next,R===null){if(R=r.shared.pending,R===null)break;G=R,R=G.next,G.next=null,r.lastBaseUpdate=G,r.shared.pending=null}}while(!0);B===null&&(P=X),r.baseState=P,r.firstBaseUpdate=$,r.lastBaseUpdate=B,c===null&&(r.shared.lanes=0),mi|=E,e.lanes=E,e.memoizedState=X}}function $d(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function Fd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)$d(i[e],t)}var vn=Q(null),ga=Q(0);function Gd(e,t){e=Jt,W(ga,e),W(vn,t),Jt=e|t.baseLanes}function ou(){W(ga,Jt),W(vn,vn.current)}function uu(){Jt=ga.current,te(vn),te(ga)}var li=0,ge=null,Oe=null,Ie=null,va=!1,mn=!1,Ii=!1,ma=0,lr=0,yn=null,ET=0;function ke(){throw Error(v(321))}function lu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!dt(e[i],t[i]))return!1;return!0}function su(e,t,i,n,r,c){return li=c,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Rg:Mg,Ii=!1,c=i(n,r),Ii=!1,mn&&(c=Bd(t,i,n,r)),Hd(e),c}function Hd(e){q.H=Ea;var t=Oe!==null&&Oe.next!==null;if(li=0,Ie=Oe=ge=null,va=!1,lr=0,yn=null,t)throw Error(v(300));e===null||He||(e=e.dependencies,e!==null&&la(e)&&(He=!0))}function Bd(e,t,i,n){ge=e;var r=0;do{if(mn&&(yn=null),lr=0,mn=!1,25<=r)throw Error(v(301));if(r+=1,Ie=Oe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}q.H=MT,c=t(i,n)}while(mn);return c}function CT(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?sr(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(ge.flags|=1024),t}function cu(){var e=ma!==0;return ma=0,e}function fu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function du(e){if(va){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}va=!1}li=0,Ie=Oe=ge=null,mn=!1,lr=ma=0,yn=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ge.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function qe(){if(Oe===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Ie===null?ge.memoizedState:Ie.next;if(t!==null)Ie=t,Oe=e;else{if(e===null)throw ge.alternate===null?Error(v(467)):Error(v(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ie===null?ge.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sr(e){var t=lr;return lr+=1,yn===null&&(yn=[]),e=Id(yn,e,t),t=ge,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Rg:Mg),e}function ya(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sr(e);if(e.$$typeof===D)return We(e)}throw Error(v(438,String(e)))}function vu(e){var t=null,i=ge.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var n=ge.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=gu(),ge.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),n=0;n<e;n++)i[n]=j;return t.index++,i}function Bt(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=qe();return mu(t,Oe,e)}function mu(e,t,i){var n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=i;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var E=r.next;r.next=c.next,c.next=E}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var R=E=null,P=null,$=t,B=!1;do{var X=$.lane&-536870913;if(X!==$.lane?(be&X)===X:(li&X)===X){var F=$.revertLane;if(F===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),X===dn&&(B=!0);else if((li&F)===F){$=$.next,F===dn&&(B=!0);continue}else X={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(R=P=X,E=c):P=P.next=X,ge.lanes|=F,mi|=F;X=$.action,Ii&&i(c,X),c=$.hasEagerState?$.eagerState:i(c,X)}else F={lane:X,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(R=P=F,E=c):P=P.next=F,ge.lanes|=X,mi|=X;$=$.next}while($!==null&&$!==t);if(P===null?E=c:P.next=R,!dt(c,e.memoizedState)&&(He=!0,B&&(i=gn,i!==null)))throw i;e.memoizedState=c,e.baseState=E,e.baseQueue=P,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function yu(e){var t=qe(),i=t.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=e;var n=i.dispatch,r=i.pending,c=t.memoizedState;if(r!==null){i.pending=null;var E=r=r.next;do c=e(c,E.action),E=E.next;while(E!==r);dt(c,t.memoizedState)||(He=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,n]}function Yd(e,t,i){var n=ge,r=qe(),c=Ee;if(c){if(i===void 0)throw Error(v(407));i=i()}else i=t();var E=!dt((Oe||r).memoizedState,i);E&&(r.memoizedState=i,He=!0),r=r.queue;var R=Qd.bind(null,n,r,e);if(cr(2048,8,R,[e]),r.getSnapshot!==t||E||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,hn(9,pa(),Xd.bind(null,n,r,i,t),null),Ke===null)throw Error(v(349));c||(li&124)!==0||xd(n,t,i)}return i}function xd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ge.updateQueue,t===null?(t=gu(),ge.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Xd(e,t,i,n){t.value=i,t.getSnapshot=n,Zd(t)&&Jd(e)}function Qd(e,t,i){return i(function(){Zd(t)&&Jd(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!dt(e,i)}catch{return!0}}function Jd(e){var t=ln(e,2);t!==null&&pt(t,e,2)}function hu(e){var t=at();if(typeof e=="function"){var i=e;if(e=i(),Ii){ti(!0);try{i()}finally{ti(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:e},t}function Wd(e,t,i,n){return e.baseState=i,mu(e,Oe,typeof n=="function"?n:Bt)}function ST(e,t,i,n,r){if(Ta(e))throw Error(v(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){c.listeners.push(E)}};q.T!==null?i(!0):c.isTransition=!1,n(c),i=t.pending,i===null?(c.next=t.pending=c,eg(t,c)):(c.next=i.next,t.pending=i.next=c)}}function eg(e,t){var i=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=q.T,E={};q.T=E;try{var R=i(r,n),P=q.S;P!==null&&P(E,R),tg(e,t,R)}catch($){pu(e,t,$)}finally{q.T=c}}else try{c=i(r,n),tg(e,t,c)}catch($){pu(e,t,$)}}function tg(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(n){ig(e,t,n)},function(n){return pu(e,t,n)}):ig(e,t,i)}function ig(e,t,i){t.status="fulfilled",t.value=i,ng(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,eg(e,i)))}function pu(e,t,i){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=i,ng(t),t=t.next;while(t!==n)}e.action=null}function ng(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rg(e,t){return t}function ag(e,t){if(Ee){var i=Ke.formState;if(i!==null){e:{var n=ge;if(Ee){if(Ue){t:{for(var r=Ue,c=Ut;r.nodeType!==8;){if(!c){r=null;break t}if(r=Pt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Ue=Pt(r.nextSibling),n=r.data==="F!";break e}}wi(n)}n=!1}n&&(t=i[0])}}return i=at(),i.memoizedState=i.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:t},i.queue=n,i=_g.bind(null,ge,n),n.dispatch=i,n=hu(!1),c=Su.bind(null,ge,!1,n.queue),n=at(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,i=ST.bind(null,ge,r,c,i),r.dispatch=i,n.memoizedState=e,[t,i,!1]}function og(e){var t=qe();return ug(t,Oe,e)}function ug(e,t,i){if(t=mu(e,t,rg)[0],e=ha(Bt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=sr(t)}catch(E){throw E===nr?fa:E}else n=t;t=qe();var r=t.queue,c=r.dispatch;return i!==t.memoizedState&&(ge.flags|=2048,hn(9,pa(),_T.bind(null,r,i),null)),[n,c,e]}function _T(e,t){e.action=t}function lg(e){var t=qe(),i=Oe;if(i!==null)return ug(t,i,e);qe(),t=t.memoizedState,i=qe();var n=i.queue.dispatch;return i.memoizedState=e,[t,n,!1]}function hn(e,t,i,n){return e={tag:e,create:i,deps:n,inst:t,next:null},t=ge.updateQueue,t===null&&(t=gu(),ge.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function pa(){return{destroy:void 0,resource:void 0}}function sg(){return qe().memoizedState}function ba(e,t,i,n){var r=at();n=n===void 0?null:n,ge.flags|=e,r.memoizedState=hn(1|t,pa(),i,n)}function cr(e,t,i,n){var r=qe();n=n===void 0?null:n;var c=r.memoizedState.inst;Oe!==null&&n!==null&&lu(n,Oe.memoizedState.deps)?r.memoizedState=hn(t,c,i,n):(ge.flags|=e,r.memoizedState=hn(1|t,c,i,n))}function cg(e,t){ba(8390656,8,e,t)}function fg(e,t){cr(2048,8,e,t)}function dg(e,t){return cr(4,2,e,t)}function gg(e,t){return cr(4,4,e,t)}function vg(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mg(e,t,i){i=i!=null?i.concat([e]):null,cr(4,4,vg.bind(null,t,e),i)}function bu(){}function yg(e,t){var i=qe();t=t===void 0?null:t;var n=i.memoizedState;return t!==null&&lu(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function hg(e,t){var i=qe();t=t===void 0?null:t;var n=i.memoizedState;if(t!==null&&lu(t,n[1]))return n[0];if(n=e(),Ii){ti(!0);try{e()}finally{ti(!1)}}return i.memoizedState=[n,t],n}function Tu(e,t,i){return i===void 0||(li&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Tv(),ge.lanes|=e,mi|=e,i)}function pg(e,t,i,n){return dt(i,t)?i:vn.current!==null?(e=Tu(e,i,n),dt(e,t)||(He=!0),e):(li&42)===0?(He=!0,e.memoizedState=i):(e=Tv(),ge.lanes|=e,mi|=e,t)}function bg(e,t,i,n,r){var c=Z.p;Z.p=c!==0&&8>c?c:8;var E=q.T,R={};q.T=R,Su(e,!1,t,i);try{var P=r(),$=q.S;if($!==null&&$(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=TT(P,n);fr(e,t,B,ht(e))}else fr(e,t,n,ht(e))}catch(X){fr(e,t,{then:function(){},status:"rejected",reason:X},ht())}finally{Z.p=c,q.T=E}}function OT(){}function Eu(e,t,i,n){if(e.tag!==5)throw Error(v(476));var r=Tg(e).queue;bg(e,r,t,J,i===null?OT:function(){return Eg(e),i(n)})}function Tg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:J},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Eg(e){var t=Tg(e).next.queue;fr(e,t,{},ht())}function Cu(){return We(Vr)}function Cg(){return qe().memoizedState}function Sg(){return qe().memoizedState}function DT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=ht();e=oi(i);var n=ui(t,e,i);n!==null&&(pt(n,t,i),ar(n,t,i)),t={cache:Jo()},e.payload=t;return}t=t.return}}function RT(e,t,i){var n=ht();i={lane:n,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ta(e)?Og(t,i):(i=$o(e,t,i,n),i!==null&&(pt(i,e,n),Dg(i,t,n)))}function _g(e,t,i){var n=ht();fr(e,t,i,n)}function fr(e,t,i,n){var r={lane:n,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ta(e))Og(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var E=t.lastRenderedState,R=c(E,i);if(r.hasEagerState=!0,r.eagerState=R,dt(R,E))return na(e,t,r,0),Ke===null&&ia(),!1}catch{}finally{}if(i=$o(e,t,r,n),i!==null)return pt(i,e,n),Dg(i,t,n),!0}return!1}function Su(e,t,i,n){if(n={lane:2,revertLane:tl(),action:n,hasEagerState:!1,eagerState:null,next:null},Ta(e)){if(t)throw Error(v(479))}else t=$o(e,i,n,2),t!==null&&pt(t,e,2)}function Ta(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Og(e,t){mn=va=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Dg(e,t,i){if((i&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,Uf(e,i)}}var Ea={readContext:We,use:ya,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke},Rg={readContext:We,use:ya,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:cg,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ba(4194308,4,vg.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ba(4194308,4,e,t)},useInsertionEffect:function(e,t){ba(4,2,e,t)},useMemo:function(e,t){var i=at();t=t===void 0?null:t;var n=e();if(Ii){ti(!0);try{e()}finally{ti(!1)}}return i.memoizedState=[n,t],n},useReducer:function(e,t,i){var n=at();if(i!==void 0){var r=i(t);if(Ii){ti(!0);try{i(t)}finally{ti(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=RT.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=hu(e);var t=e.queue,i=_g.bind(null,ge,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:bu,useDeferredValue:function(e,t){var i=at();return Tu(i,e,t)},useTransition:function(){var e=hu(!1);return e=bg.bind(null,ge,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var n=ge,r=at();if(Ee){if(i===void 0)throw Error(v(407));i=i()}else{if(i=t(),Ke===null)throw Error(v(349));(be&124)!==0||xd(n,t,i)}r.memoizedState=i;var c={value:i,getSnapshot:t};return r.queue=c,cg(Qd.bind(null,n,c,e),[e]),n.flags|=2048,hn(9,pa(),Xd.bind(null,n,c,i,t),null),i},useId:function(){var e=at(),t=Ke.identifierPrefix;if(Ee){var i=Ft,n=$t;i=(n&~(1<<32-ft(n)-1)).toString(32)+i,t=""+t+"R"+i,i=ma++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=ET++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Cu,useFormState:ag,useActionState:ag,useOptimistic:function(e){var t=at();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Su.bind(null,ge,!0,i),i.dispatch=t,[e,t]},useMemoCache:vu,useCacheRefresh:function(){return at().memoizedState=DT.bind(null,ge)}},Mg={readContext:We,use:ya,useCallback:yg,useContext:We,useEffect:fg,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:gg,useMemo:hg,useReducer:ha,useRef:sg,useState:function(){return ha(Bt)},useDebugValue:bu,useDeferredValue:function(e,t){var i=qe();return pg(i,Oe.memoizedState,e,t)},useTransition:function(){var e=ha(Bt)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:sr(e),t]},useSyncExternalStore:Yd,useId:Cg,useHostTransitionStatus:Cu,useFormState:og,useActionState:og,useOptimistic:function(e,t){var i=qe();return Wd(i,Oe,e,t)},useMemoCache:vu,useCacheRefresh:Sg},MT={readContext:We,use:ya,useCallback:yg,useContext:We,useEffect:fg,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:gg,useMemo:hg,useReducer:yu,useRef:sg,useState:function(){return yu(Bt)},useDebugValue:bu,useDeferredValue:function(e,t){var i=qe();return Oe===null?Tu(i,e,t):pg(i,Oe.memoizedState,e,t)},useTransition:function(){var e=yu(Bt)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:sr(e),t]},useSyncExternalStore:Yd,useId:Cg,useHostTransitionStatus:Cu,useFormState:lg,useActionState:lg,useOptimistic:function(e,t){var i=qe();return Oe!==null?Wd(i,Oe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:vu,useCacheRefresh:Sg},pn=null,dr=0;function Ca(e){var t=dr;return dr+=1,pn===null&&(pn=[]),Id(pn,e,t)}function gr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sa(e,t){throw t.$$typeof===s?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vg(e){var t=e._init;return t(e._payload)}function Kg(e){function t(I,w){if(e){var z=I.deletions;z===null?(I.deletions=[w],I.flags|=16):z.push(w)}}function i(I,w){if(!e)return null;for(;w!==null;)t(I,w),w=w.sibling;return null}function n(I){for(var w=new Map;I!==null;)I.key!==null?w.set(I.key,I):w.set(I.index,I),I=I.sibling;return w}function r(I,w){return I=zt(I,w),I.index=0,I.sibling=null,I}function c(I,w,z){return I.index=z,e?(z=I.alternate,z!==null?(z=z.index,z<w?(I.flags|=67108866,w):z):(I.flags|=67108866,w)):(I.flags|=1048576,w)}function E(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function R(I,w,z,Y){return w===null||w.tag!==6?(w=Go(z,I.mode,Y),w.return=I,w):(w=r(w,z),w.return=I,w)}function P(I,w,z,Y){var re=z.type;return re===y?B(I,w,z.props.children,Y,z.key):w!==null&&(w.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===V&&Vg(re)===w.type)?(w=r(w,z.props),gr(w,z),w.return=I,w):(w=aa(z.type,z.key,z.props,null,I.mode,Y),gr(w,z),w.return=I,w)}function $(I,w,z,Y){return w===null||w.tag!==4||w.stateNode.containerInfo!==z.containerInfo||w.stateNode.implementation!==z.implementation?(w=Ho(z,I.mode,Y),w.return=I,w):(w=r(w,z.children||[]),w.return=I,w)}function B(I,w,z,Y,re){return w===null||w.tag!==7?(w=Ai(z,I.mode,Y,re),w.return=I,w):(w=r(w,z),w.return=I,w)}function X(I,w,z){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Go(""+w,I.mode,z),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case d:return z=aa(w.type,w.key,w.props,null,I.mode,z),gr(z,w),z.return=I,z;case m:return w=Ho(w,I.mode,z),w.return=I,w;case V:var Y=w._init;return w=Y(w._payload),X(I,w,z)}if(ee(w)||H(w))return w=Ai(w,I.mode,z,null),w.return=I,w;if(typeof w.then=="function")return X(I,Ca(w),z);if(w.$$typeof===D)return X(I,sa(I,w),z);Sa(I,w)}return null}function F(I,w,z,Y){var re=w!==null?w.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return re!==null?null:R(I,w,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===re?P(I,w,z,Y):null;case m:return z.key===re?$(I,w,z,Y):null;case V:return re=z._init,z=re(z._payload),F(I,w,z,Y)}if(ee(z)||H(z))return re!==null?null:B(I,w,z,Y,null);if(typeof z.then=="function")return F(I,w,Ca(z),Y);if(z.$$typeof===D)return F(I,w,sa(I,z),Y);Sa(I,z)}return null}function G(I,w,z,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(z)||null,R(w,I,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case d:return I=I.get(Y.key===null?z:Y.key)||null,P(w,I,Y,re);case m:return I=I.get(Y.key===null?z:Y.key)||null,$(w,I,Y,re);case V:var me=Y._init;return Y=me(Y._payload),G(I,w,z,Y,re)}if(ee(Y)||H(Y))return I=I.get(z)||null,B(w,I,Y,re,null);if(typeof Y.then=="function")return G(I,w,z,Ca(Y),re);if(Y.$$typeof===D)return G(I,w,z,sa(w,Y),re);Sa(w,Y)}return null}function ce(I,w,z,Y){for(var re=null,me=null,ue=w,se=w=0,Ye=null;ue!==null&&se<z.length;se++){ue.index>se?(Ye=ue,ue=null):Ye=ue.sibling;var Te=F(I,ue,z[se],Y);if(Te===null){ue===null&&(ue=Ye);break}e&&ue&&Te.alternate===null&&t(I,ue),w=c(Te,w,se),me===null?re=Te:me.sibling=Te,me=Te,ue=Ye}if(se===z.length)return i(I,ue),Ee&&ji(I,se),re;if(ue===null){for(;se<z.length;se++)ue=X(I,z[se],Y),ue!==null&&(w=c(ue,w,se),me===null?re=ue:me.sibling=ue,me=ue);return Ee&&ji(I,se),re}for(ue=n(ue);se<z.length;se++)Ye=G(ue,I,se,z[se],Y),Ye!==null&&(e&&Ye.alternate!==null&&ue.delete(Ye.key===null?se:Ye.key),w=c(Ye,w,se),me===null?re=Ye:me.sibling=Ye,me=Ye);return e&&ue.forEach(function(_i){return t(I,_i)}),Ee&&ji(I,se),re}function le(I,w,z,Y){if(z==null)throw Error(v(151));for(var re=null,me=null,ue=w,se=w=0,Ye=null,Te=z.next();ue!==null&&!Te.done;se++,Te=z.next()){ue.index>se?(Ye=ue,ue=null):Ye=ue.sibling;var _i=F(I,ue,Te.value,Y);if(_i===null){ue===null&&(ue=Ye);break}e&&ue&&_i.alternate===null&&t(I,ue),w=c(_i,w,se),me===null?re=_i:me.sibling=_i,me=_i,ue=Ye}if(Te.done)return i(I,ue),Ee&&ji(I,se),re;if(ue===null){for(;!Te.done;se++,Te=z.next())Te=X(I,Te.value,Y),Te!==null&&(w=c(Te,w,se),me===null?re=Te:me.sibling=Te,me=Te);return Ee&&ji(I,se),re}for(ue=n(ue);!Te.done;se++,Te=z.next())Te=G(ue,I,se,Te.value,Y),Te!==null&&(e&&Te.alternate!==null&&ue.delete(Te.key===null?se:Te.key),w=c(Te,w,se),me===null?re=Te:me.sibling=Te,me=Te);return e&&ue.forEach(function(VE){return t(I,VE)}),Ee&&ji(I,se),re}function Re(I,w,z,Y){if(typeof z=="object"&&z!==null&&z.type===y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:e:{for(var re=z.key;w!==null;){if(w.key===re){if(re=z.type,re===y){if(w.tag===7){i(I,w.sibling),Y=r(w,z.props.children),Y.return=I,I=Y;break e}}else if(w.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===V&&Vg(re)===w.type){i(I,w.sibling),Y=r(w,z.props),gr(Y,z),Y.return=I,I=Y;break e}i(I,w);break}else t(I,w);w=w.sibling}z.type===y?(Y=Ai(z.props.children,I.mode,Y,z.key),Y.return=I,I=Y):(Y=aa(z.type,z.key,z.props,null,I.mode,Y),gr(Y,z),Y.return=I,I=Y)}return E(I);case m:e:{for(re=z.key;w!==null;){if(w.key===re)if(w.tag===4&&w.stateNode.containerInfo===z.containerInfo&&w.stateNode.implementation===z.implementation){i(I,w.sibling),Y=r(w,z.children||[]),Y.return=I,I=Y;break e}else{i(I,w);break}else t(I,w);w=w.sibling}Y=Ho(z,I.mode,Y),Y.return=I,I=Y}return E(I);case V:return re=z._init,z=re(z._payload),Re(I,w,z,Y)}if(ee(z))return ce(I,w,z,Y);if(H(z)){if(re=H(z),typeof re!="function")throw Error(v(150));return z=re.call(z),le(I,w,z,Y)}if(typeof z.then=="function")return Re(I,w,Ca(z),Y);if(z.$$typeof===D)return Re(I,w,sa(I,z),Y);Sa(I,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,w!==null&&w.tag===6?(i(I,w.sibling),Y=r(w,z),Y.return=I,I=Y):(i(I,w),Y=Go(z,I.mode,Y),Y.return=I,I=Y),E(I)):i(I,w)}return function(I,w,z,Y){try{dr=0;var re=Re(I,w,z,Y);return pn=null,re}catch(ue){if(ue===nr||ue===fa)throw ue;var me=gt(29,ue,null,I.mode);return me.lanes=Y,me.return=I,me}finally{}}}var bn=Kg(!0),Ag=Kg(!1),Ot=Q(null),wt=null;function si(e){var t=e.alternate;W(Fe,Fe.current&1),W(Ot,e),wt===null&&(t===null||vn.current!==null||t.memoizedState!==null)&&(wt=e)}function Pg(e){if(e.tag===22){if(W(Fe,Fe.current),W(Ot,e),wt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(wt=e)}}else ci()}function ci(){W(Fe,Fe.current),W(Ot,Ot.current)}function Yt(e){te(Ot),wt===e&&(wt=null),te(Fe)}var Fe=Q(0);function _a(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||gl(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function _u(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:l({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ou={enqueueSetState:function(e,t,i){e=e._reactInternals;var n=ht(),r=oi(n);r.payload=t,i!=null&&(r.callback=i),t=ui(e,r,n),t!==null&&(pt(t,e,n),ar(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=ht(),r=oi(n);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=ui(e,r,n),t!==null&&(pt(t,e,n),ar(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ht(),n=oi(i);n.tag=2,t!=null&&(n.callback=t),t=ui(e,n,i),t!==null&&(pt(t,e,i),ar(t,e,i))}};function jg(e,t,i,n,r,c,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,E):t.prototype&&t.prototype.isPureReactComponent?!Xn(i,n)||!Xn(r,c):!0}function Ug(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Ou.enqueueReplaceState(t,t.state,null)}function qi(e,t){var i=t;if("ref"in t){i={};for(var n in t)n!=="ref"&&(i[n]=t[n])}if(e=e.defaultProps){i===t&&(i=l({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}var Oa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wg(e){Oa(e)}function Ng(e){console.error(e)}function kg(e){Oa(e)}function Da(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Lg(e,t,i){try{var n=e.onCaughtError;n(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Du(e,t,i){return i=oi(i),i.tag=3,i.payload={element:null},i.callback=function(){Da(e,t)},i}function Ig(e){return e=oi(e),e.tag=3,e}function qg(e,t,i,n){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){Lg(t,i,n)}}var E=i.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Lg(t,i,n),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var R=n.stack;this.componentDidCatch(n.value,{componentStack:R!==null?R:""})})}function VT(e,t,i,n,r){if(i.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=i.alternate,t!==null&&er(t,i,r,!0),i=Ot.current,i!==null){switch(i.tag){case 13:return wt===null?Qu():i.alternate===null&&we===0&&(we=3),i.flags&=-257,i.flags|=65536,i.lanes=r,n===tu?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([n]):t.add(n),Ju(e,n,r)),!1;case 22:return i.flags|=65536,n===tu?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([n]):i.add(n)),Ju(e,n,r)),!1}throw Error(v(435,i.tag))}return Ju(e,n,r),Qu(),!1}if(Ee)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==xo&&(e=Error(v(422),{cause:n}),Wn(Et(e,i)))):(n!==xo&&(t=Error(v(423),{cause:n}),Wn(Et(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Et(n,i),r=Du(e.stateNode,n,r),ru(e,r),we!==4&&(we=2)),!1;var c=Error(v(520),{cause:n});if(c=Et(c,i),Tr===null?Tr=[c]:Tr.push(c),we!==4&&(we=2),t===null)return!0;n=Et(n,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=Du(i.stateNode,n,e),ru(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(yi===null||!yi.has(c))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Ig(r),qg(r,e,i,n),ru(i,r),!1}i=i.return}while(i!==null);return!1}var zg=Error(v(461)),He=!1;function Xe(e,t,i,n){t.child=e===null?Ag(t,null,i,n):bn(t,e.child,i,n)}function $g(e,t,i,n,r){i=i.render;var c=t.ref;if("ref"in n){var E={};for(var R in n)R!=="ref"&&(E[R]=n[R])}else E=n;return ki(t),n=su(e,t,i,E,c,r),R=cu(),e!==null&&!He?(fu(e,t,r),xt(e,t,r)):(Ee&&R&&Bo(t),t.flags|=1,Xe(e,t,n,r),t.child)}function Fg(e,t,i,n,r){if(e===null){var c=i.type;return typeof c=="function"&&!Fo(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Gg(e,t,c,n,r)):(e=aa(i.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Uu(e,r)){var E=c.memoizedProps;if(i=i.compare,i=i!==null?i:Xn,i(E,n)&&e.ref===t.ref)return xt(e,t,r)}return t.flags|=1,e=zt(c,n),e.ref=t.ref,e.return=t,t.child=e}function Gg(e,t,i,n,r){if(e!==null){var c=e.memoizedProps;if(Xn(c,n)&&e.ref===t.ref)if(He=!1,t.pendingProps=n=c,Uu(e,r))(e.flags&131072)!==0&&(He=!0);else return t.lanes=e.lanes,xt(e,t,r)}return Ru(e,t,i,n,r)}function Hg(e,t,i){var n=t.pendingProps,r=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=c!==null?c.baseLanes|i:i,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;t.childLanes=c&~n}else t.childLanes=0,t.child=null;return Bg(e,t,n,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ca(t,c!==null?c.cachePool:null),c!==null?Gd(t,c):ou(),Pg(t);else return t.lanes=t.childLanes=536870912,Bg(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(ca(t,c.cachePool),Gd(t,c),ci(),t.memoizedState=null):(e!==null&&ca(t,null),ou(),ci());return Xe(e,t,r,i),t.child}function Bg(e,t,i,n){var r=eu();return r=r===null?null:{parent:$e._currentValue,pool:r},t.memoizedState={baseLanes:i,cachePool:r},e!==null&&ca(t,null),ou(),Pg(t),e!==null&&er(e,t,n,!0),null}function Ra(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(v(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ru(e,t,i,n,r){return ki(t),i=su(e,t,i,n,void 0,r),n=cu(),e!==null&&!He?(fu(e,t,r),xt(e,t,r)):(Ee&&n&&Bo(t),t.flags|=1,Xe(e,t,i,r),t.child)}function Yg(e,t,i,n,r,c){return ki(t),t.updateQueue=null,i=Bd(t,n,i,r),Hd(e),n=cu(),e!==null&&!He?(fu(e,t,c),xt(e,t,c)):(Ee&&n&&Bo(t),t.flags|=1,Xe(e,t,i,c),t.child)}function xg(e,t,i,n,r){if(ki(t),t.stateNode===null){var c=sn,E=i.contextType;typeof E=="object"&&E!==null&&(c=We(E)),c=new i(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ou,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},iu(t),E=i.contextType,c.context=typeof E=="object"&&E!==null?We(E):sn,c.state=t.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(_u(t,i,E,n),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(E=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),E!==c.state&&Ou.enqueueReplaceState(c,c.state,null),ur(t,n,c,r),or(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var R=t.memoizedProps,P=qi(i,R);c.props=P;var $=c.context,B=i.contextType;E=sn,typeof B=="object"&&B!==null&&(E=We(B));var X=i.getDerivedStateFromProps;B=typeof X=="function"||typeof c.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,B||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(R||$!==E)&&Ug(t,c,n,E),ai=!1;var F=t.memoizedState;c.state=F,ur(t,n,c,r),or(),$=t.memoizedState,R||F!==$||ai?(typeof X=="function"&&(_u(t,i,X,n),$=t.memoizedState),(P=ai||jg(t,i,P,n,F,$,E))?(B||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=$),c.props=n,c.state=$,c.context=E,n=P):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,nu(e,t),E=t.memoizedProps,B=qi(i,E),c.props=B,X=t.pendingProps,F=c.context,$=i.contextType,P=sn,typeof $=="object"&&$!==null&&(P=We($)),R=i.getDerivedStateFromProps,($=typeof R=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(E!==X||F!==P)&&Ug(t,c,n,P),ai=!1,F=t.memoizedState,c.state=F,ur(t,n,c,r),or();var G=t.memoizedState;E!==X||F!==G||ai||e!==null&&e.dependencies!==null&&la(e.dependencies)?(typeof R=="function"&&(_u(t,i,R,n),G=t.memoizedState),(B=ai||jg(t,i,B,n,F,G,P)||e!==null&&e.dependencies!==null&&la(e.dependencies))?($||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,G,P),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,G,P)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=G),c.props=n,c.state=G,c.context=P,n=B):(typeof c.componentDidUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,Ra(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,i=n&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=bn(t,e.child,null,r),t.child=bn(t,null,i,r)):Xe(e,t,i,r),t.memoizedState=c.state,e=t.child):e=xt(e,t,r),e}function Xg(e,t,i,n){return Jn(),t.flags|=256,Xe(e,t,i,n),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(e){return{baseLanes:e,cachePool:Nd()}}function Ku(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Dt),e}function Qg(e,t,i){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,E;if((E=c)||(E=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),E&&(r=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(r?si(t):ci(),Ee){var R=Ue,P;if(P=R){e:{for(P=R,R=Ut;P.nodeType!==8;){if(!R){R=null;break e}if(P=Pt(P.nextSibling),P===null){R=null;break e}}R=P}R!==null?(t.memoizedState={dehydrated:R,treeContext:Pi!==null?{id:$t,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},P=gt(18,null,null,0),P.stateNode=R,P.return=t,t.child=P,it=t,Ue=null,P=!0):P=!1}P||wi(t)}if(R=t.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return gl(R)?t.lanes=32:t.lanes=536870912,null;Yt(t)}return R=n.children,n=n.fallback,r?(ci(),r=t.mode,R=Ma({mode:"hidden",children:R},r),n=Ai(n,r,i,null),R.return=t,n.return=t,R.sibling=n,t.child=R,r=t.child,r.memoizedState=Vu(i),r.childLanes=Ku(e,E,i),t.memoizedState=Mu,n):(si(t),Au(t,R))}if(P=e.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(c)t.flags&256?(si(t),t.flags&=-257,t=Pu(e,t,i)):t.memoizedState!==null?(ci(),t.child=e.child,t.flags|=128,t=null):(ci(),r=n.fallback,R=t.mode,n=Ma({mode:"visible",children:n.children},R),r=Ai(r,R,i,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,bn(t,e.child,null,i),n=t.child,n.memoizedState=Vu(i),n.childLanes=Ku(e,E,i),t.memoizedState=Mu,t=r);else if(si(t),gl(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var $=E.dgst;E=$,n=Error(v(419)),n.stack="",n.digest=E,Wn({value:n,source:null,stack:null}),t=Pu(e,t,i)}else if(He||er(e,t,i,!1),E=(i&e.childLanes)!==0,He||E){if(E=Ke,E!==null&&(n=i&-i,n=(n&42)!==0?1:vo(n),n=(n&(E.suspendedLanes|i))!==0?0:n,n!==0&&n!==P.retryLane))throw P.retryLane=n,ln(e,n),pt(E,e,n),zg;R.data==="$?"||Qu(),t=Pu(e,t,i)}else R.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=P.treeContext,Ue=Pt(R.nextSibling),it=t,Ee=!0,Ui=null,Ut=!1,e!==null&&(St[_t++]=$t,St[_t++]=Ft,St[_t++]=Pi,$t=e.id,Ft=e.overflow,Pi=t),t=Au(t,n.children),t.flags|=4096);return t}return r?(ci(),r=n.fallback,R=t.mode,P=e.child,$=P.sibling,n=zt(P,{mode:"hidden",children:n.children}),n.subtreeFlags=P.subtreeFlags&65011712,$!==null?r=zt($,r):(r=Ai(r,R,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,R=e.child.memoizedState,R===null?R=Vu(i):(P=R.cachePool,P!==null?($=$e._currentValue,P=P.parent!==$?{parent:$,pool:$}:P):P=Nd(),R={baseLanes:R.baseLanes|i,cachePool:P}),r.memoizedState=R,r.childLanes=Ku(e,E,i),t.memoizedState=Mu,n):(si(t),i=e.child,e=i.sibling,i=zt(i,{mode:"visible",children:n.children}),i.return=t,i.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=i,t.memoizedState=null,i)}function Au(e,t){return t=Ma({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ma(e,t){return e=gt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Pu(e,t,i){return bn(t,e.child,null,i),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zg(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qo(e.return,t,i)}function ju(e,t,i,n,r){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=i,c.tailMode=r)}function Jg(e,t,i){var n=t.pendingProps,r=n.revealOrder,c=n.tail;if(Xe(e,t,n.children,i),n=Fe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,i,t);else if(e.tag===19)Zg(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(W(Fe,n),r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&_a(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),ju(t,!1,r,i,c);break;case"backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&_a(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}ju(t,!0,i,null,c);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(er(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,i=zt(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=zt(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Uu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&la(e)))}function KT(e,t,i){switch(t.tag){case 3:Ve(t,t.stateNode.containerInfo),ri(t,$e,e.memoizedState.cache),Jn();break;case 27:case 5:jn(t);break;case 4:Ve(t,t.stateNode.containerInfo);break;case 10:ri(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(si(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Qg(e,t,i):(si(t),e=xt(e,t,i),e!==null?e.sibling:null);si(t);break;case 19:var r=(e.flags&128)!==0;if(n=(i&t.childLanes)!==0,n||(er(e,t,i,!1),n=(i&t.childLanes)!==0),r){if(n)return Jg(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),W(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Hg(e,t,i);case 24:ri(t,$e,e.memoizedState.cache)}return xt(e,t,i)}function Wg(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)He=!0;else{if(!Uu(e,i)&&(t.flags&128)===0)return He=!1,KT(e,t,i);He=(e.flags&131072)!==0}else He=!1,Ee&&(t.flags&1048576)!==0&&Vd(t,ua,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")Fo(n)?(e=qi(n,e),t.tag=1,t=xg(null,t,n,e,i)):(t.tag=0,t=Ru(null,t,n,e,i));else{if(n!=null){if(r=n.$$typeof,r===M){t.tag=11,t=$g(null,t,n,e,i);break e}else if(r===L){t.tag=14,t=Fg(null,t,n,e,i);break e}}throw t=ie(n)||n,Error(v(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,i);case 1:return n=t.type,r=qi(n,t.pendingProps),xg(e,t,n,r,i);case 3:e:{if(Ve(t,t.stateNode.containerInfo),e===null)throw Error(v(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,nu(e,t),ur(t,n,null,i);var E=t.memoizedState;if(n=E.cache,ri(t,$e,n),n!==c.cache&&Zo(t,[$e],i,!0),or(),n=E.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Xg(e,t,n,i);break e}else if(n!==r){r=Et(Error(v(424)),t),Wn(r),t=Xg(e,t,n,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Pt(e.firstChild),it=t,Ee=!0,Ui=null,Ut=!0,i=Ag(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Jn(),n===r){t=xt(e,t,i);break e}Xe(e,t,n,i)}t=t.child}return t;case 26:return Ra(e,t),e===null?(i=nm(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ee||(i=t.type,e=t.pendingProps,n=$a(ae.current).createElement(i),n[Je]=t,n[nt]=e,Ze(n,i,e),Ge(n),t.stateNode=n):t.memoizedState=nm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jn(t),e===null&&Ee&&(n=t.stateNode=em(t.type,t.pendingProps,ae.current),it=t,Ut=!0,r=Ue,bi(t.type)?(vl=r,Ue=Pt(n.firstChild)):Ue=r),Xe(e,t,t.pendingProps.children,i),Ra(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((r=n=Ue)&&(n=rE(n,t.type,t.pendingProps,Ut),n!==null?(t.stateNode=n,it=t,Ue=Pt(n.firstChild),Ut=!1,r=!0):r=!1),r||wi(t)),jn(t),r=t.type,c=t.pendingProps,E=e!==null?e.memoizedProps:null,n=c.children,cl(r,c)?n=null:E!==null&&cl(r,E)&&(t.flags|=32),t.memoizedState!==null&&(r=su(e,t,CT,null,null,i),Vr._currentValue=r),Ra(e,t),Xe(e,t,n,i),t.child;case 6:return e===null&&Ee&&((e=i=Ue)&&(i=aE(i,t.pendingProps,Ut),i!==null?(t.stateNode=i,it=t,Ue=null,e=!0):e=!1),e||wi(t)),null;case 13:return Qg(e,t,i);case 4:return Ve(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bn(t,null,n,i):Xe(e,t,n,i),t.child;case 11:return $g(e,t,t.type,t.pendingProps,i);case 7:return Xe(e,t,t.pendingProps,i),t.child;case 8:return Xe(e,t,t.pendingProps.children,i),t.child;case 12:return Xe(e,t,t.pendingProps.children,i),t.child;case 10:return n=t.pendingProps,ri(t,t.type,n.value),Xe(e,t,n.children,i),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,ki(t),r=We(r),n=n(r),t.flags|=1,Xe(e,t,n,i),t.child;case 14:return Fg(e,t,t.type,t.pendingProps,i);case 15:return Gg(e,t,t.type,t.pendingProps,i);case 19:return Jg(e,t,i);case 31:return n=t.pendingProps,i=t.mode,n={mode:n.mode,children:n.children},e===null?(i=Ma(n,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=zt(e.child,n),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return Hg(e,t,i);case 24:return ki(t),n=We($e),e===null?(r=eu(),r===null&&(r=Ke,c=Jo(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=i),r=c),t.memoizedState={parent:n,cache:r},iu(t),ri(t,$e,r)):((e.lanes&i)!==0&&(nu(e,t),ur(t,null,null,i),or()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ri(t,$e,n)):(n=c.cache,ri(t,$e,n),n!==r.cache&&Zo(t,[$e],i,!0))),Xe(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Xt(e){e.flags|=4}function ev(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lm(t)){if(t=Ot.current,t!==null&&((be&4194048)===be?wt!==null:(be&62914560)!==be&&(be&536870912)===0||t!==wt))throw rr=tu,kd;e.flags|=8192}}function Va(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pf():536870912,e.lanes|=t,Sn|=t)}function vr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function AT(e,t,i){var n=t.pendingProps;switch(Yo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return je(t),null;case 3:return i=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ht($e),jt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Zn(t)?Xt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Pd())),je(t),null;case 26:return i=t.memoizedState,e===null?(Xt(t),i!==null?(je(t),ev(t,i)):(je(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Xt(t),je(t),ev(t,i)):(je(t),t.flags&=-16777217):(e.memoizedProps!==n&&Xt(t),je(t),t.flags&=-16777217),null;case 27:Bi(t),i=ae.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Xt(t);else{if(!n){if(t.stateNode===null)throw Error(v(166));return je(t),null}e=oe.current,Zn(t)?Kd(t):(e=em(r,n,i),t.stateNode=e,Xt(t))}return je(t),null;case 5:if(Bi(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Xt(t);else{if(!n){if(t.stateNode===null)throw Error(v(166));return je(t),null}if(e=oe.current,Zn(t))Kd(t);else{switch(r=$a(ae.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(i,{is:n.is}):r.createElement(i)}}e[Je]=t,e[nt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Ze(e,i,n),i){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xt(t)}}return je(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Xt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(v(166));if(e=ae.current,Zn(t)){if(e=t.stateNode,i=t.memoizedProps,n=null,r=it,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[Je]=t,e=!!(e.nodeValue===i||n!==null&&n.suppressHydrationWarning===!0||Yv(e.nodeValue,i)),e||wi(t)}else e=$a(e).createTextNode(n),e[Je]=t,t.stateNode=e}return je(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Zn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(v(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(v(317));r[Je]=t}else Jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;je(t),r=!1}else r=Pd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Yt(t),t):(Yt(t),null)}if(Yt(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=n!==null,e=e!==null&&e.memoizedState!==null,i){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var c=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Va(t,t.updateQueue),je(t),null;case 4:return jt(),e===null&&al(t.stateNode.containerInfo),je(t),null;case 10:return Ht(t.type),je(t),null;case 19:if(te(Fe),r=t.memoizedState,r===null)return je(t),null;if(n=(t.flags&128)!==0,c=r.rendering,c===null)if(n)vr(r,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=_a(e),c!==null){for(t.flags|=128,vr(r,!1),e=c.updateQueue,t.updateQueue=e,Va(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Md(i,e),i=i.sibling;return W(Fe,Fe.current&1|2),t.child}e=e.sibling}r.tail!==null&&st()>Pa&&(t.flags|=128,n=!0,vr(r,!1),t.lanes=4194304)}else{if(!n)if(e=_a(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Va(t,e),vr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Ee)return je(t),null}else 2*st()-r.renderingStartTime>Pa&&i!==536870912&&(t.flags|=128,n=!0,vr(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=st(),t.sibling=null,e=Fe.current,W(Fe,n?e&1|2:e&1),t):(je(t),null);case 22:case 23:return Yt(t),uu(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(i&536870912)!==0&&(t.flags&128)===0&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),i=t.updateQueue,i!==null&&Va(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==i&&(t.flags|=2048),e!==null&&te(Li),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ht($e),je(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function PT(e,t){switch(Yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ht($e),jt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Bi(t),null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(Fe),null;case 4:return jt(),null;case 10:return Ht(t.type),null;case 22:case 23:return Yt(t),uu(),e!==null&&te(Li),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ht($e),null;case 25:return null;default:return null}}function tv(e,t){switch(Yo(t),t.tag){case 3:Ht($e),jt();break;case 26:case 27:case 5:Bi(t);break;case 4:jt();break;case 13:Yt(t);break;case 19:te(Fe);break;case 10:Ht(t.type);break;case 22:case 23:Yt(t),uu(),e!==null&&te(Li);break;case 24:Ht($e)}}function mr(e,t){try{var i=t.updateQueue,n=i!==null?i.lastEffect:null;if(n!==null){var r=n.next;i=r;do{if((i.tag&e)===e){n=void 0;var c=i.create,E=i.inst;n=c(),E.destroy=n}i=i.next}while(i!==r)}}catch(R){Me(t,t.return,R)}}function fi(e,t,i){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var E=n.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,r=t;var P=i,$=R;try{$()}catch(B){Me(r,P,B)}}}n=n.next}while(n!==c)}}catch(B){Me(t,t.return,B)}}function iv(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Fd(t,i)}catch(n){Me(e,e.return,n)}}}function nv(e,t,i){i.props=qi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(n){Me(e,t,n)}}function yr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof i=="function"?e.refCleanup=i(n):i.current=n}}catch(r){Me(e,t,r)}}function Nt(e,t){var i=e.ref,n=e.refCleanup;if(i!==null)if(typeof n=="function")try{n()}catch(r){Me(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Me(e,t,r)}else i.current=null}function rv(e){var t=e.type,i=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break e;case"img":i.src?n.src=i.src:i.srcSet&&(n.srcset=i.srcSet)}}catch(r){Me(e,e.return,r)}}function wu(e,t,i){try{var n=e.stateNode;WT(n,e.type,i,t),n[nt]=t}catch(r){Me(e,e.return,r)}}function av(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bi(e.type)||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||av(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=za));else if(n!==4&&(n===27&&bi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(ku(e,t,i),e=e.sibling;e!==null;)ku(e,t,i),e=e.sibling}function Ka(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(n===27&&bi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ka(e,t,i),e=e.sibling;e!==null;)Ka(e,t,i),e=e.sibling}function ov(e){var t=e.stateNode,i=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ze(t,n,i),t[Je]=e,t[nt]=i}catch(c){Me(e,e.return,c)}}var Qt=!1,Le=!1,Lu=!1,uv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function jT(e,t){if(e=e.containerInfo,ll=xa,e=pd(e),No(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var E=0,R=-1,P=-1,$=0,B=0,X=e,F=null;t:for(;;){for(var G;X!==i||r!==0&&X.nodeType!==3||(R=E+r),X!==c||n!==0&&X.nodeType!==3||(P=E+n),X.nodeType===3&&(E+=X.nodeValue.length),(G=X.firstChild)!==null;)F=X,X=G;for(;;){if(X===e)break t;if(F===i&&++$===r&&(R=E),F===c&&++B===n&&(P=E),(G=X.nextSibling)!==null)break;X=F,F=X.parentNode}X=G}i=R===-1||P===-1?null:{start:R,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(sl={focusedElem:e,selectionRange:i},xa=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){switch(t=Be,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,r=c.memoizedProps,c=c.memoizedState,n=i.stateNode;try{var ce=qi(i.type,r,i.elementType===i.type);e=n.getSnapshotBeforeUpdate(ce,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(le){Me(i,i.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)dl(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dl(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}}function lv(e,t,i){var n=i.flags;switch(i.tag){case 0:case 11:case 15:di(e,i),n&4&&mr(5,i);break;case 1:if(di(e,i),n&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(E){Me(i,i.return,E)}else{var r=qi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Me(i,i.return,E)}}n&64&&iv(i),n&512&&yr(i,i.return);break;case 3:if(di(e,i),n&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Fd(e,t)}catch(E){Me(i,i.return,E)}}break;case 27:t===null&&n&4&&ov(i);case 26:case 5:di(e,i),t===null&&n&4&&rv(i),n&512&&yr(i,i.return);break;case 12:di(e,i);break;case 13:di(e,i),n&4&&fv(e,i),n&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=$T.bind(null,i),oE(e,i))));break;case 22:if(n=i.memoizedState!==null||Qt,!n){t=t!==null&&t.memoizedState!==null||Le,r=Qt;var c=Le;Qt=n,(Le=t)&&!c?gi(e,i,(i.subtreeFlags&8772)!==0):di(e,i),Qt=r,Le=c}break;case 30:break;default:di(e,i)}}function sv(e){var t=e.alternate;t!==null&&(e.alternate=null,sv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ho(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,ot=!1;function Zt(e,t,i){for(i=i.child;i!==null;)cv(e,t,i),i=i.sibling}function cv(e,t,i){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(kn,i)}catch{}switch(i.tag){case 26:Le||Nt(i,t),Zt(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Le||Nt(i,t);var n=Pe,r=ot;bi(i.type)&&(Pe=i.stateNode,ot=!1),Zt(e,t,i),Or(i.stateNode),Pe=n,ot=r;break;case 5:Le||Nt(i,t);case 6:if(n=Pe,r=ot,Pe=null,Zt(e,t,i),Pe=n,ot=r,Pe!==null)if(ot)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(i.stateNode)}catch(c){Me(i,t,c)}else try{Pe.removeChild(i.stateNode)}catch(c){Me(i,t,c)}break;case 18:Pe!==null&&(ot?(e=Pe,Jv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),jr(e)):Jv(Pe,i.stateNode));break;case 4:n=Pe,r=ot,Pe=i.stateNode.containerInfo,ot=!0,Zt(e,t,i),Pe=n,ot=r;break;case 0:case 11:case 14:case 15:Le||fi(2,i,t),Le||fi(4,i,t),Zt(e,t,i);break;case 1:Le||(Nt(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"&&nv(i,t,n)),Zt(e,t,i);break;case 21:Zt(e,t,i);break;case 22:Le=(n=Le)||i.memoizedState!==null,Zt(e,t,i),Le=n;break;default:Zt(e,t,i)}}function fv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jr(e)}catch(i){Me(t,t.return,i)}}function UT(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uv),t;default:throw Error(v(435,e.tag))}}function Iu(e,t){var i=UT(e);t.forEach(function(n){var r=FT.bind(null,e,n);i.has(n)||(i.add(n),n.then(r,r))})}function vt(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var r=i[n],c=e,E=t,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(bi(R.type)){Pe=R.stateNode,ot=!1;break e}break;case 5:Pe=R.stateNode,ot=!1;break e;case 3:case 4:Pe=R.stateNode.containerInfo,ot=!0;break e}R=R.return}if(Pe===null)throw Error(v(160));cv(c,E,r),Pe=null,ot=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dv(t,e),t=t.sibling}var At=null;function dv(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),mt(e),n&4&&(fi(3,e,e.return),mr(3,e),fi(5,e,e.return));break;case 1:vt(t,e),mt(e),n&512&&(Le||i===null||Nt(i,i.return)),n&64&&Qt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?n:i.concat(n))));break;case 26:var r=At;if(vt(t,e),mt(e),n&512&&(Le||i===null||Nt(i,i.return)),n&4){var c=i!==null?i.memoizedState:null;if(n=e.memoizedState,i===null)if(n===null)if(e.stateNode===null){e:{n=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[qn]||c[Je]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),Ze(c,n,i),c[Je]=e,Ge(c),n=c;break e;case"link":var E=om("link","href",r).get(n+(i.href||""));if(E){for(var R=0;R<E.length;R++)if(c=E[R],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){E.splice(R,1);break t}}c=r.createElement(n),Ze(c,n,i),r.head.appendChild(c);break;case"meta":if(E=om("meta","content",r).get(n+(i.content||""))){for(R=0;R<E.length;R++)if(c=E[R],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){E.splice(R,1);break t}}c=r.createElement(n),Ze(c,n,i),r.head.appendChild(c);break;default:throw Error(v(468,n))}c[Je]=e,Ge(c),n=c}e.stateNode=n}else um(r,e.type,e.stateNode);else e.stateNode=am(r,n,e.memoizedProps);else c!==n?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,n===null?um(r,e.type,e.stateNode):am(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&wu(e,e.memoizedProps,i.memoizedProps)}break;case 27:vt(t,e),mt(e),n&512&&(Le||i===null||Nt(i,i.return)),i!==null&&n&4&&wu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(vt(t,e),mt(e),n&512&&(Le||i===null||Nt(i,i.return)),e.flags&32){r=e.stateNode;try{en(r,"")}catch(G){Me(e,e.return,G)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,wu(e,r,i!==null?i.memoizedProps:r)),n&1024&&(Lu=!0);break;case 6:if(vt(t,e),mt(e),n&4){if(e.stateNode===null)throw Error(v(162));n=e.memoizedProps,i=e.stateNode;try{i.nodeValue=n}catch(G){Me(e,e.return,G)}}break;case 3:if(Ha=null,r=At,At=Fa(t.containerInfo),vt(t,e),At=r,mt(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(G){Me(e,e.return,G)}Lu&&(Lu=!1,gv(e));break;case 4:n=At,At=Fa(e.stateNode.containerInfo),vt(t,e),mt(e),At=n;break;case 12:vt(t,e),mt(e);break;case 13:vt(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Hu=st()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Iu(e,n)));break;case 22:r=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,$=Qt,B=Le;if(Qt=$||r,Le=B||P,vt(t,e),Le=B,Qt=$,mt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||P||Qt||Le||zi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){P=i=t;try{if(c=P.stateNode,r)E=c.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=P.stateNode;var X=P.memoizedProps.style,F=X!=null&&X.hasOwnProperty("display")?X.display:null;R.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Me(P,P.return,G)}}}else if(t.tag===6){if(i===null){P=t;try{P.stateNode.nodeValue=r?"":P.memoizedProps}catch(G){Me(P,P.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(i=n.retryQueue,i!==null&&(n.retryQueue=null,Iu(e,i))));break;case 19:vt(t,e),mt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Iu(e,n)));break;case 30:break;case 21:break;default:vt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var i,n=e.return;n!==null;){if(av(n)){i=n;break}n=n.return}if(i==null)throw Error(v(160));switch(i.tag){case 27:var r=i.stateNode,c=Nu(e);Ka(e,c,r);break;case 5:var E=i.stateNode;i.flags&32&&(en(E,""),i.flags&=-33);var R=Nu(e);Ka(e,R,E);break;case 3:case 4:var P=i.stateNode.containerInfo,$=Nu(e);ku(e,$,P);break;default:throw Error(v(161))}}catch(B){Me(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function di(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lv(e,t.alternate,t),t=t.sibling}function zi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fi(4,t,t.return),zi(t);break;case 1:Nt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&nv(t,t.return,i),zi(t);break;case 27:Or(t.stateNode);case 26:case 5:Nt(t,t.return),zi(t);break;case 22:t.memoizedState===null&&zi(t);break;case 30:zi(t);break;default:zi(t)}e=e.sibling}}function gi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,E=c.flags;switch(c.tag){case 0:case 11:case 15:gi(r,c,i),mr(4,c);break;case 1:if(gi(r,c,i),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch($){Me(n,n.return,$)}if(n=c,r=n.updateQueue,r!==null){var R=n.stateNode;try{var P=r.shared.hiddenCallbacks;if(P!==null)for(r.shared.hiddenCallbacks=null,r=0;r<P.length;r++)$d(P[r],R)}catch($){Me(n,n.return,$)}}i&&E&64&&iv(c),yr(c,c.return);break;case 27:ov(c);case 26:case 5:gi(r,c,i),i&&n===null&&E&4&&rv(c),yr(c,c.return);break;case 12:gi(r,c,i);break;case 13:gi(r,c,i),i&&E&4&&fv(r,c);break;case 22:c.memoizedState===null&&gi(r,c,i),yr(c,c.return);break;case 30:break;default:gi(r,c,i)}t=t.sibling}}function qu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&tr(i))}function zu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tr(e))}function kt(e,t,i,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(e,t,i,n),t=t.sibling}function vv(e,t,i,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:kt(e,t,i,n),r&2048&&mr(9,t);break;case 1:kt(e,t,i,n);break;case 3:kt(e,t,i,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tr(e)));break;case 12:if(r&2048){kt(e,t,i,n),e=t.stateNode;try{var c=t.memoizedProps,E=c.id,R=c.onPostCommit;typeof R=="function"&&R(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Me(t,t.return,P)}}else kt(e,t,i,n);break;case 13:kt(e,t,i,n);break;case 23:break;case 22:c=t.stateNode,E=t.alternate,t.memoizedState!==null?c._visibility&2?kt(e,t,i,n):hr(e,t):c._visibility&2?kt(e,t,i,n):(c._visibility|=2,Tn(e,t,i,n,(t.subtreeFlags&10256)!==0)),r&2048&&qu(E,t);break;case 24:kt(e,t,i,n),r&2048&&zu(t.alternate,t);break;default:kt(e,t,i,n)}}function Tn(e,t,i,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,E=t,R=i,P=n,$=E.flags;switch(E.tag){case 0:case 11:case 15:Tn(c,E,R,P,r),mr(8,E);break;case 23:break;case 22:var B=E.stateNode;E.memoizedState!==null?B._visibility&2?Tn(c,E,R,P,r):hr(c,E):(B._visibility|=2,Tn(c,E,R,P,r)),r&&$&2048&&qu(E.alternate,E);break;case 24:Tn(c,E,R,P,r),r&&$&2048&&zu(E.alternate,E);break;default:Tn(c,E,R,P,r)}t=t.sibling}}function hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,n=t,r=n.flags;switch(n.tag){case 22:hr(i,n),r&2048&&qu(n.alternate,n);break;case 24:hr(i,n),r&2048&&zu(n.alternate,n);break;default:hr(i,n)}t=t.sibling}}var pr=8192;function En(e){if(e.subtreeFlags&pr)for(e=e.child;e!==null;)mv(e),e=e.sibling}function mv(e){switch(e.tag){case 26:En(e),e.flags&pr&&e.memoizedState!==null&&bE(At,e.memoizedState,e.memoizedProps);break;case 5:En(e);break;case 3:case 4:var t=At;At=Fa(e.stateNode.containerInfo),En(e),At=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=pr,pr=16777216,En(e),pr=t):En(e));break;default:En(e)}}function yv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];Be=n,pv(n,e)}yv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hv(e),e=e.sibling}function hv(e){switch(e.tag){case 0:case 11:case 15:br(e),e.flags&2048&&fi(9,e,e.return);break;case 3:br(e);break;case 12:br(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Aa(e)):br(e);break;default:br(e)}}function Aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];Be=n,pv(n,e)}yv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fi(8,t,t.return),Aa(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Aa(t));break;default:Aa(t)}e=e.sibling}}function pv(e,t){for(;Be!==null;){var i=Be;switch(i.tag){case 0:case 11:case 15:fi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var n=i.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:tr(i.memoizedState.cache)}if(n=i.child,n!==null)n.return=i,Be=n;else e:for(i=e;Be!==null;){n=Be;var r=n.sibling,c=n.return;if(sv(n),n===i){Be=null;break e}if(r!==null){r.return=c,Be=r;break e}Be=c}}}var wT={getCacheForType:function(e){var t=We($e),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},NT=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ke=null,he=null,be=0,Se=0,yt=null,vi=!1,Cn=!1,$u=!1,Jt=0,we=0,mi=0,$i=0,Fu=0,Dt=0,Sn=0,Tr=null,ut=null,Gu=!1,Hu=0,Pa=1/0,ja=null,yi=null,Qe=0,hi=null,_n=null,On=0,Bu=0,Yu=null,bv=null,Er=0,xu=null;function ht(){if((Ce&2)!==0&&be!==0)return be&-be;if(q.T!==null){var e=dn;return e!==0?e:tl()}return wf()}function Tv(){Dt===0&&(Dt=(be&536870912)===0||Ee?Af():536870912);var e=Ot.current;return e!==null&&(e.flags|=32),Dt}function pt(e,t,i){(e===Ke&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Dn(e,0),pi(e,be,Dt,!1)),In(e,i),((Ce&2)===0||e!==Ke)&&(e===Ke&&((Ce&2)===0&&($i|=i),we===4&&pi(e,be,Dt,!1)),Lt(e))}function Ev(e,t,i){if((Ce&6)!==0)throw Error(v(327));var n=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Ln(e,t),r=n?IT(e,t):Zu(e,t,!0),c=n;do{if(r===0){Cn&&!n&&pi(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!kT(i)){r=Zu(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var R=e;r=Tr;var P=R.current.memoizedState.isDehydrated;if(P&&(Dn(R,E).flags|=256),E=Zu(R,E,!1),E!==2){if($u&&!P){R.errorRecoveryDisabledLanes|=c,$i|=c,r=4;break e}c=ut,ut=r,c!==null&&(ut===null?ut=c:ut.push.apply(ut,c))}r=E}if(c=!1,r!==2)continue}}if(r===1){Dn(e,0),pi(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:pi(n,t,Dt,!vi);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(r=Hu+300-st(),10<r)){if(pi(n,t,Dt,!vi),Gr(n,0,!0)!==0)break e;n.timeoutHandle=Qv(Cv.bind(null,n,i,ut,ja,Gu,t,Dt,$i,Sn,vi,c,2,-0,0),r);break e}Cv(n,i,ut,ja,Gu,t,Dt,$i,Sn,vi,c,0,-0,0)}}break}while(!0);Lt(e)}function Cv(e,t,i,n,r,c,E,R,P,$,B,X,F,G){if(e.timeoutHandle=-1,X=t.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Mr={stylesheets:null,count:0,unsuspend:pE},mv(t),X=TE(),X!==null)){e.cancelPendingCommit=X(Vv.bind(null,e,t,c,i,n,r,E,R,P,B,1,F,G)),pi(e,c,E,!$);return}Vv(e,t,c,i,n,r,E,R,P)}function kT(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var n=0;n<i.length;n++){var r=i[n],c=r.getSnapshot;r=r.value;try{if(!dt(c(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pi(e,t,i,n){t&=~Fu,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-ft(r),E=1<<c;n[c]=-1,r&=~E}i!==0&&jf(e,i,t)}function Ua(){return(Ce&6)===0?(Cr(0),!1):!0}function Xu(){if(he!==null){if(Se===0)var e=he.return;else e=he,Gt=Ni=null,du(e),pn=null,dr=0,e=he;for(;e!==null;)tv(e.alternate,e),e=e.return;he=null}}function Dn(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,tE(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Xu(),Ke=e,he=i=zt(e.current,null),be=t,Se=0,yt=null,vi=!1,Cn=Ln(e,t),$u=!1,Sn=Dt=Fu=$i=mi=we=0,ut=Tr=null,Gu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-ft(n),c=1<<r;t|=e[r],n&=~c}return Jt=t,ia(),i}function Sv(e,t){ge=null,q.H=Ea,t===nr||t===fa?(t=qd(),Se=3):t===kd?(t=qd(),Se=4):Se=t===zg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,yt=t,he===null&&(we=1,Da(e,Et(t,e.current)))}function _v(){var e=q.H;return q.H=Ea,e===null?Ea:e}function Ov(){var e=q.A;return q.A=wT,e}function Qu(){we=4,vi||(be&4194048)!==be&&Ot.current!==null||(Cn=!0),(mi&134217727)===0&&($i&134217727)===0||Ke===null||pi(Ke,be,Dt,!1)}function Zu(e,t,i){var n=Ce;Ce|=2;var r=_v(),c=Ov();(Ke!==e||be!==t)&&(ja=null,Dn(e,t)),t=!1;var E=we;e:do try{if(Se!==0&&he!==null){var R=he,P=yt;switch(Se){case 8:Xu(),E=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var $=Se;if(Se=0,yt=null,Rn(e,R,P,$),i&&Cn){E=0;break e}break;default:$=Se,Se=0,yt=null,Rn(e,R,P,$)}}LT(),E=we;break}catch(B){Sv(e,B)}while(!0);return t&&e.shellSuspendCounter++,Gt=Ni=null,Ce=n,q.H=r,q.A=c,he===null&&(Ke=null,be=0,ia()),E}function LT(){for(;he!==null;)Dv(he)}function IT(e,t){var i=Ce;Ce|=2;var n=_v(),r=Ov();Ke!==e||be!==t?(ja=null,Pa=st()+500,Dn(e,t)):Cn=Ln(e,t);e:do try{if(Se!==0&&he!==null){t=he;var c=yt;t:switch(Se){case 1:Se=0,yt=null,Rn(e,t,c,1);break;case 2:case 9:if(Ld(c)){Se=0,yt=null,Rv(t);break}t=function(){Se!==2&&Se!==9||Ke!==e||(Se=7),Lt(e)},c.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Ld(c)?(Se=0,yt=null,Rv(t)):(Se=0,yt=null,Rn(e,t,c,7));break;case 5:var E=null;switch(he.tag){case 26:E=he.memoizedState;case 5:case 27:var R=he;if(!E||lm(E)){Se=0,yt=null;var P=R.sibling;if(P!==null)he=P;else{var $=R.return;$!==null?(he=$,wa($)):he=null}break t}}Se=0,yt=null,Rn(e,t,c,5);break;case 6:Se=0,yt=null,Rn(e,t,c,6);break;case 8:Xu(),we=6;break e;default:throw Error(v(462))}}qT();break}catch(B){Sv(e,B)}while(!0);return Gt=Ni=null,q.H=n,q.A=r,Ce=i,he!==null?0:(Ke=null,be=0,ia(),we)}function qT(){for(;he!==null&&!wn();)Dv(he)}function Dv(e){var t=Wg(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?wa(e):he=t}function Rv(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Yg(i,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Yg(i,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:du(t);default:tv(i,t),t=he=Md(t,Jt),t=Wg(i,t,Jt)}e.memoizedProps=e.pendingProps,t===null?wa(e):he=t}function Rn(e,t,i,n){Gt=Ni=null,du(t),pn=null,dr=0;var r=t.return;try{if(VT(e,r,t,i,be)){we=1,Da(e,Et(i,e.current)),he=null;return}}catch(c){if(r!==null)throw he=r,c;we=1,Da(e,Et(i,e.current)),he=null;return}t.flags&32768?(Ee||n===1?e=!0:Cn||(be&536870912)!==0?e=!1:(vi=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ot.current,n!==null&&n.tag===13&&(n.flags|=16384))),Mv(t,e)):wa(t)}function wa(e){var t=e;do{if((t.flags&32768)!==0){Mv(t,vi);return}e=t.return;var i=AT(t.alternate,t,Jt);if(i!==null){he=i;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);we===0&&(we=5)}function Mv(e,t){do{var i=PT(e.alternate,e);if(i!==null){i.flags&=32767,he=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=i}while(e!==null);we=6,he=null}function Vv(e,t,i,n,r,c,E,R,P){e.cancelPendingCommit=null;do Na();while(Qe!==0);if((Ce&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(c=t.lanes|t.childLanes,c|=zo,pb(e,i,c,E,R,P),e===Ke&&(he=Ke=null,be=0),_n=t,hi=e,On=i,Bu=c,Yu=r,bv=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,GT(zr,function(){return Uv(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null,r=Z.p,Z.p=2,E=Ce,Ce|=4;try{jT(e,t,i)}finally{Ce=E,Z.p=r,q.T=n}}Qe=1,Kv(),Av(),Pv()}}function Kv(){if(Qe===1){Qe=0;var e=hi,t=_n,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=q.T,q.T=null;var n=Z.p;Z.p=2;var r=Ce;Ce|=4;try{dv(t,e);var c=sl,E=pd(e.containerInfo),R=c.focusedElem,P=c.selectionRange;if(E!==R&&R&&R.ownerDocument&&hd(R.ownerDocument.documentElement,R)){if(P!==null&&No(R)){var $=P.start,B=P.end;if(B===void 0&&(B=$),"selectionStart"in R)R.selectionStart=$,R.selectionEnd=Math.min(B,R.value.length);else{var X=R.ownerDocument||document,F=X&&X.defaultView||window;if(F.getSelection){var G=F.getSelection(),ce=R.textContent.length,le=Math.min(P.start,ce),Re=P.end===void 0?le:Math.min(P.end,ce);!G.extend&&le>Re&&(E=Re,Re=le,le=E);var I=yd(R,le),w=yd(R,Re);if(I&&w&&(G.rangeCount!==1||G.anchorNode!==I.node||G.anchorOffset!==I.offset||G.focusNode!==w.node||G.focusOffset!==w.offset)){var z=X.createRange();z.setStart(I.node,I.offset),G.removeAllRanges(),le>Re?(G.addRange(z),G.extend(w.node,w.offset)):(z.setEnd(w.node,w.offset),G.addRange(z))}}}}for(X=[],G=R;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<X.length;R++){var Y=X[R];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xa=!!ll,sl=ll=null}finally{Ce=r,Z.p=n,q.T=i}}e.current=t,Qe=2}}function Av(){if(Qe===2){Qe=0;var e=hi,t=_n,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=q.T,q.T=null;var n=Z.p;Z.p=2;var r=Ce;Ce|=4;try{lv(e,t.alternate,t)}finally{Ce=r,Z.p=n,q.T=i}}Qe=3}}function Pv(){if(Qe===4||Qe===3){Qe=0,fo();var e=hi,t=_n,i=On,n=bv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,_n=hi=null,jv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(yi=null),mo(i),t=t.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(kn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=q.T,r=Z.p,Z.p=2,q.T=null;try{for(var c=e.onRecoverableError,E=0;E<n.length;E++){var R=n[E];c(R.value,{componentStack:R.stack})}}finally{q.T=t,Z.p=r}}(On&3)!==0&&Na(),Lt(e),r=e.pendingLanes,(i&4194090)!==0&&(r&42)!==0?e===xu?Er++:(Er=0,xu=e):Er=0,Cr(0)}}function jv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,tr(t)))}function Na(e){return Kv(),Av(),Pv(),Uv()}function Uv(){if(Qe!==5)return!1;var e=hi,t=Bu;Bu=0;var i=mo(On),n=q.T,r=Z.p;try{Z.p=32>i?32:i,q.T=null,i=Yu,Yu=null;var c=hi,E=On;if(Qe=0,_n=hi=null,On=0,(Ce&6)!==0)throw Error(v(331));var R=Ce;if(Ce|=4,hv(c.current),vv(c,c.current,E,i),Ce=R,Cr(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(kn,c)}catch{}return!0}finally{Z.p=r,q.T=n,jv(e,t)}}function wv(e,t,i){t=Et(i,t),t=Du(e.stateNode,t,2),e=ui(e,t,2),e!==null&&(In(e,2),Lt(e))}function Me(e,t,i){if(e.tag===3)wv(e,e,i);else for(;t!==null;){if(t.tag===3){wv(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yi===null||!yi.has(n))){e=Et(i,e),i=Ig(2),n=ui(t,i,2),n!==null&&(qg(i,n,t,e),In(n,2),Lt(n));break}}t=t.return}}function Ju(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new NT;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(i)||($u=!0,r.add(i),e=zT.bind(null,e,t,i),t.then(e,e))}function zT(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ke===e&&(be&i)===i&&(we===4||we===3&&(be&62914560)===be&&300>st()-Hu?(Ce&2)===0&&Dn(e,0):Fu|=i,Sn===be&&(Sn=0)),Lt(e)}function Nv(e,t){t===0&&(t=Pf()),e=ln(e,t),e!==null&&(In(e,t),Lt(e))}function $T(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Nv(e,i)}function FT(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(v(314))}n!==null&&n.delete(t),Nv(e,i)}function GT(e,t){return Oi(e,t)}var ka=null,Mn=null,Wu=!1,La=!1,el=!1,Fi=0;function Lt(e){e!==Mn&&e.next===null&&(Mn===null?ka=Mn=e:Mn=Mn.next=e),La=!0,Wu||(Wu=!0,BT())}function Cr(e,t){if(!el&&La){el=!0;do for(var i=!1,n=ka;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var E=n.suspendedLanes,R=n.pingedLanes;c=(1<<31-ft(42|e)+1)-1,c&=r&~(E&~R),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,qv(n,c))}else c=be,c=Gr(n,n===Ke?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Ln(n,c)||(i=!0,qv(n,c));n=n.next}while(i);el=!1}}function HT(){kv()}function kv(){La=Wu=!1;var e=0;Fi!==0&&(eE()&&(e=Fi),Fi=0);for(var t=st(),i=null,n=ka;n!==null;){var r=n.next,c=Lv(n,t);c===0?(n.next=null,i===null?ka=r:i.next=r,r===null&&(Mn=i)):(i=n,(e!==0||(c&3)!==0)&&(La=!0)),n=r}Cr(e)}function Lv(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var E=31-ft(c),R=1<<E,P=r[E];P===-1?((R&i)===0||(R&n)!==0)&&(r[E]=hb(R,t)):P<=t&&(e.expiredLanes|=R),c&=~R}if(t=Ke,i=be,i=Gr(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,i===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ei(n),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ln(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(n!==null&&ei(n),mo(i)){case 2:case 8:i=qr;break;case 32:i=zr;break;case 268435456:i=Kf;break;default:i=zr}return n=Iv.bind(null,e),i=Oi(i,n),e.callbackPriority=t,e.callbackNode=i,t}return n!==null&&n!==null&&ei(n),e.callbackPriority=2,e.callbackNode=null,2}function Iv(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Na()&&e.callbackNode!==i)return null;var n=be;return n=Gr(e,e===Ke?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ev(e,n,t),Lv(e,st()),e.callbackNode!=null&&e.callbackNode===i?Iv.bind(null,e):null)}function qv(e,t){if(Na())return null;Ev(e,t,!0)}function BT(){iE(function(){(Ce&6)!==0?Oi(Nn,HT):kv()})}function tl(){return Fi===0&&(Fi=Af()),Fi}function zv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function $v(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function YT(e,t,i,n,r){if(t==="submit"&&i&&i.stateNode===r){var c=zv((r[nt]||null).action),E=n.submitter;E&&(t=(t=E[nt]||null)?zv(t.formAction):E.getAttribute("formAction"),t!==null&&(c=t,E=null));var R=new Wr("action","action",null,n,r);e.push({event:R,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Fi!==0){var P=E?$v(r,E):new FormData(r);Eu(i,{pending:!0,data:P,method:r.method,action:c},null,P)}}else typeof c=="function"&&(R.preventDefault(),P=E?$v(r,E):new FormData(r),Eu(i,{pending:!0,data:P,method:r.method,action:c},c,P))},currentTarget:r}]})}}for(var il=0;il<qo.length;il++){var nl=qo[il],xT=nl.toLowerCase(),XT=nl[0].toUpperCase()+nl.slice(1);Kt(xT,"on"+XT)}Kt(Ed,"onAnimationEnd"),Kt(Cd,"onAnimationIteration"),Kt(Sd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(dT,"onTransitionRun"),Kt(gT,"onTransitionStart"),Kt(vT,"onTransitionCancel"),Kt(_d,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function Fv(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var E=n.length-1;0<=E;E--){var R=n[E],P=R.instance,$=R.currentTarget;if(R=R.listener,P!==c&&r.isPropagationStopped())break e;c=R,r.currentTarget=$;try{c(r)}catch(B){Oa(B)}r.currentTarget=null,c=P}else for(E=0;E<n.length;E++){if(R=n[E],P=R.instance,$=R.currentTarget,R=R.listener,P!==c&&r.isPropagationStopped())break e;c=R,r.currentTarget=$;try{c(r)}catch(B){Oa(B)}r.currentTarget=null,c=P}}}}function pe(e,t){var i=t[yo];i===void 0&&(i=t[yo]=new Set);var n=e+"__bubble";i.has(n)||(Gv(t,e,2,!1),i.add(n))}function rl(e,t,i){var n=0;t&&(n|=4),Gv(i,e,n,t)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function al(e){if(!e[Ia]){e[Ia]=!0,kf.forEach(function(i){i!=="selectionchange"&&(QT.has(i)||rl(i,!1,e),rl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ia]||(t[Ia]=!0,rl("selectionchange",!1,t))}}function Gv(e,t,i,n){switch(vm(t)){case 2:var r=SE;break;case 8:r=_E;break;default:r=bl}i=r.bind(null,t,i,e),r=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function ol(e,t,i,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var E=n.tag;if(E===3||E===4){var R=n.stateNode.containerInfo;if(R===r)break;if(E===4)for(E=n.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===r)return;E=E.return}for(;R!==null;){if(E=xi(R),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){n=c=E;continue e}R=R.parentNode}}n=n.return}Zf(function(){var $=c,B=Oo(i),X=[];e:{var F=Od.get(e);if(F!==void 0){var G=Wr,ce=e;switch(e){case"keypress":if(Zr(i)===0)break e;case"keydown":case"keyup":G=Gb;break;case"focusin":ce="focus",G=Ao;break;case"focusout":ce="blur",G=Ao;break;case"beforeblur":case"afterblur":G=Ao;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Yb;break;case Ed:case Cd:case Sd:G=wb;break;case _d:G=Xb;break;case"scroll":case"scrollend":G=Kb;break;case"wheel":G=Zb;break;case"copy":case"cut":case"paste":G=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=id;break;case"toggle":case"beforetoggle":G=Wb}var le=(t&4)!==0,Re=!le&&(e==="scroll"||e==="scrollend"),I=le?F!==null?F+"Capture":null:F;le=[];for(var w=$,z;w!==null;){var Y=w;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||I===null||(Y=$n(w,I),Y!=null&&le.push(_r(w,Y,z))),Re)break;w=w.return}0<le.length&&(F=new G(F,ce,null,i,B),X.push({event:F,listeners:le}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&i!==_o&&(ce=i.relatedTarget||i.fromElement)&&(xi(ce)||ce[Yi]))break e;if((G||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,G?(ce=i.relatedTarget||i.toElement,G=$,ce=ce?xi(ce):null,ce!==null&&(Re=p(ce),le=ce.tag,ce!==Re||le!==5&&le!==27&&le!==6)&&(ce=null)):(G=null,ce=$),G!==ce)){if(le=ed,Y="onMouseLeave",I="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(le=id,Y="onPointerLeave",I="onPointerEnter",w="pointer"),Re=G==null?F:zn(G),z=ce==null?F:zn(ce),F=new le(Y,w+"leave",G,i,B),F.target=Re,F.relatedTarget=z,Y=null,xi(B)===$&&(le=new le(I,w+"enter",ce,i,B),le.target=z,le.relatedTarget=Re,Y=le),Re=Y,G&&ce)t:{for(le=G,I=ce,w=0,z=le;z;z=Vn(z))w++;for(z=0,Y=I;Y;Y=Vn(Y))z++;for(;0<w-z;)le=Vn(le),w--;for(;0<z-w;)I=Vn(I),z--;for(;w--;){if(le===I||I!==null&&le===I.alternate)break t;le=Vn(le),I=Vn(I)}le=null}else le=null;G!==null&&Hv(X,F,G,le,!1),ce!==null&&Re!==null&&Hv(X,Re,ce,le,!0)}}e:{if(F=$?zn($):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var re=cd;else if(ld(F))if(fd)re=sT;else{re=uT;var me=oT}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?$&&So($.elementType)&&(re=cd):re=lT;if(re&&(re=re(e,$))){sd(X,re,i,B);break e}me&&me(e,F,$),e==="focusout"&&$&&F.type==="number"&&$.memoizedProps.value!=null&&Co(F,"number",F.value)}switch(me=$?zn($):window,e){case"focusin":(ld(me)||me.contentEditable==="true")&&(an=me,ko=$,Qn=null);break;case"focusout":Qn=ko=an=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,bd(X,i,B);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":bd(X,i,B)}var ue;if(jo)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else rn?od(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(nd&&i.locale!=="ko"&&(rn||se!=="onCompositionStart"?se==="onCompositionEnd"&&rn&&(ue=Jf()):(ni=B,Mo="value"in ni?ni.value:ni.textContent,rn=!0)),me=qa($,se),0<me.length&&(se=new td(se,e,null,i,B),X.push({event:se,listeners:me}),ue?se.data=ue:(ue=ud(i),ue!==null&&(se.data=ue)))),(ue=tT?iT(e,i):nT(e,i))&&(se=qa($,"onBeforeInput"),0<se.length&&(me=new td("onBeforeInput","beforeinput",null,i,B),X.push({event:me,listeners:se}),me.data=ue)),YT(X,e,$,i,B)}Fv(X,t)})}function _r(e,t,i){return{instance:e,listener:t,currentTarget:i}}function qa(e,t){for(var i=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=$n(e,i),r!=null&&n.unshift(_r(e,r,c)),r=$n(e,t),r!=null&&n.push(_r(e,r,c))),e.tag===3)return n;e=e.return}return[]}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hv(e,t,i,n,r){for(var c=t._reactName,E=[];i!==null&&i!==n;){var R=i,P=R.alternate,$=R.stateNode;if(R=R.tag,P!==null&&P===n)break;R!==5&&R!==26&&R!==27||$===null||(P=$,r?($=$n(i,c),$!=null&&E.unshift(_r(i,$,P))):r||($=$n(i,c),$!=null&&E.push(_r(i,$,P)))),i=i.return}E.length!==0&&e.push({event:t,listeners:E})}var ZT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function Bv(e){return(typeof e=="string"?e:""+e).replace(ZT,`
`).replace(JT,"")}function Yv(e,t){return t=Bv(t),Bv(e)===t}function za(){}function De(e,t,i,n,r,c){switch(i){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||en(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&en(e,""+n);break;case"className":Br(e,"class",n);break;case"tabIndex":Br(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(e,i,n);break;case"style":Xf(e,n,c);break;case"data":if(t!=="object"){Br(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(i);break}n=Xr(""+n),e.setAttribute(i,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&De(e,t,"name",r.name,r,null),De(e,t,"formEncType",r.formEncType,r,null),De(e,t,"formMethod",r.formMethod,r,null),De(e,t,"formTarget",r.formTarget,r,null)):(De(e,t,"encType",r.encType,r,null),De(e,t,"method",r.method,r,null),De(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(i);break}n=Xr(""+n),e.setAttribute(i,n);break;case"onClick":n!=null&&(e.onclick=za);break;case"onScroll":n!=null&&pe("scroll",e);break;case"onScrollEnd":n!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(v(61));if(i=n.__html,i!=null){if(r.children!=null)throw Error(v(60));e.innerHTML=i}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}i=Xr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,""+n):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":n===!0?e.setAttribute(i,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,n):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(i,n):e.removeAttribute(i);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(i):e.setAttribute(i,n);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Hr(e,"popover",n);break;case"xlinkActuate":It(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":It(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":It(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":It(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":It(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":It(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":It(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":It(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":It(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Hr(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Mb.get(i)||i,Hr(e,i,n))}}function ul(e,t,i,n,r,c){switch(i){case"style":Xf(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(v(61));if(i=n.__html,i!=null){if(r.children!=null)throw Error(v(60));e.innerHTML=i}}break;case"children":typeof n=="string"?en(e,n):(typeof n=="number"||typeof n=="bigint")&&en(e,""+n);break;case"onScroll":n!=null&&pe("scroll",e);break;case"onScrollEnd":n!=null&&pe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),c=e[nt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,n,r);break e}i in e?e[i]=n:n===!0?e.setAttribute(i,""):Hr(e,i,n)}}}function Ze(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var n=!1,r=!1,c;for(c in i)if(i.hasOwnProperty(c)){var E=i[c];if(E!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:De(e,t,c,E,i,null)}}r&&De(e,t,"srcSet",i.srcSet,i,null),n&&De(e,t,"src",i.src,i,null);return;case"input":pe("invalid",e);var R=c=E=r=null,P=null,$=null;for(n in i)if(i.hasOwnProperty(n)){var B=i[n];if(B!=null)switch(n){case"name":r=B;break;case"type":E=B;break;case"checked":P=B;break;case"defaultChecked":$=B;break;case"value":c=B;break;case"defaultValue":R=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(v(137,t));break;default:De(e,t,n,B,i,null)}}Hf(e,c,R,P,$,E,r,!1),Yr(e);return;case"select":pe("invalid",e),n=E=c=null;for(r in i)if(i.hasOwnProperty(r)&&(R=i[r],R!=null))switch(r){case"value":c=R;break;case"defaultValue":E=R;break;case"multiple":n=R;default:De(e,t,r,R,i,null)}t=c,i=E,e.multiple=!!n,t!=null?Wi(e,!!n,t,!1):i!=null&&Wi(e,!!n,i,!0);return;case"textarea":pe("invalid",e),c=r=n=null;for(E in i)if(i.hasOwnProperty(E)&&(R=i[E],R!=null))switch(E){case"value":n=R;break;case"defaultValue":r=R;break;case"children":c=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(v(91));break;default:De(e,t,E,R,i,null)}Yf(e,n,r,c),Yr(e);return;case"option":for(P in i)if(i.hasOwnProperty(P)&&(n=i[P],n!=null))switch(P){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:De(e,t,P,n,i,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(n=0;n<Sr.length;n++)pe(Sr[n],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in i)if(i.hasOwnProperty($)&&(n=i[$],n!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:De(e,t,$,n,i,null)}return;default:if(So(t)){for(B in i)i.hasOwnProperty(B)&&(n=i[B],n!==void 0&&ul(e,t,B,n,i,void 0));return}}for(R in i)i.hasOwnProperty(R)&&(n=i[R],n!=null&&De(e,t,R,n,i,null))}function WT(e,t,i,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,E=null,R=null,P=null,$=null,B=null;for(G in i){var X=i[G];if(i.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":P=X;default:n.hasOwnProperty(G)||De(e,t,G,null,n,X)}}for(var F in n){var G=n[F];if(X=i[F],n.hasOwnProperty(F)&&(G!=null||X!=null))switch(F){case"type":c=G;break;case"name":r=G;break;case"checked":$=G;break;case"defaultChecked":B=G;break;case"value":E=G;break;case"defaultValue":R=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(v(137,t));break;default:G!==X&&De(e,t,F,G,n,X)}}Eo(e,E,R,P,$,B,c,r);return;case"select":G=E=R=F=null;for(c in i)if(P=i[c],i.hasOwnProperty(c)&&P!=null)switch(c){case"value":break;case"multiple":G=P;default:n.hasOwnProperty(c)||De(e,t,c,null,n,P)}for(r in n)if(c=n[r],P=i[r],n.hasOwnProperty(r)&&(c!=null||P!=null))switch(r){case"value":F=c;break;case"defaultValue":R=c;break;case"multiple":E=c;default:c!==P&&De(e,t,r,c,n,P)}t=R,i=E,n=G,F!=null?Wi(e,!!i,F,!1):!!n!=!!i&&(t!=null?Wi(e,!!i,t,!0):Wi(e,!!i,i?[]:"",!1));return;case"textarea":G=F=null;for(R in i)if(r=i[R],i.hasOwnProperty(R)&&r!=null&&!n.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:De(e,t,R,null,n,r)}for(E in n)if(r=n[E],c=i[E],n.hasOwnProperty(E)&&(r!=null||c!=null))switch(E){case"value":F=r;break;case"defaultValue":G=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(v(91));break;default:r!==c&&De(e,t,E,r,n,c)}Bf(e,F,G);return;case"option":for(var ce in i)if(F=i[ce],i.hasOwnProperty(ce)&&F!=null&&!n.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:De(e,t,ce,null,n,F)}for(P in n)if(F=n[P],G=i[P],n.hasOwnProperty(P)&&F!==G&&(F!=null||G!=null))switch(P){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:De(e,t,P,F,n,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in i)F=i[le],i.hasOwnProperty(le)&&F!=null&&!n.hasOwnProperty(le)&&De(e,t,le,null,n,F);for($ in n)if(F=n[$],G=i[$],n.hasOwnProperty($)&&F!==G&&(F!=null||G!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(v(137,t));break;default:De(e,t,$,F,n,G)}return;default:if(So(t)){for(var Re in i)F=i[Re],i.hasOwnProperty(Re)&&F!==void 0&&!n.hasOwnProperty(Re)&&ul(e,t,Re,void 0,n,F);for(B in n)F=n[B],G=i[B],!n.hasOwnProperty(B)||F===G||F===void 0&&G===void 0||ul(e,t,B,F,n,G);return}}for(var I in i)F=i[I],i.hasOwnProperty(I)&&F!=null&&!n.hasOwnProperty(I)&&De(e,t,I,null,n,F);for(X in n)F=n[X],G=i[X],!n.hasOwnProperty(X)||F===G||F==null&&G==null||De(e,t,X,F,n,G)}var ll=null,sl=null;function $a(e){return e.nodeType===9?e:e.ownerDocument}function xv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fl=null;function eE(){var e=window.event;return e&&e.type==="popstate"?e===fl?!1:(fl=e,!0):(fl=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,tE=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,iE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(e){return Zv.resolve(null).then(e).catch(nE)}:Qv;function nE(e){setTimeout(function(){throw e})}function bi(e){return e==="head"}function Jv(e,t){var i=t,n=0,r=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<n&&8>n){i=n;var E=e.ownerDocument;if(i&1&&Or(E.documentElement),i&2&&Or(E.body),i&4)for(i=E.head,Or(i),E=i.firstChild;E;){var R=E.nextSibling,P=E.nodeName;E[qn]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||i.removeChild(E),E=R}}if(r===0){e.removeChild(c),jr(t);return}r--}else i==="$"||i==="$?"||i==="$!"?r++:n=i.charCodeAt(0)-48;else n=0;i=c}while(i);jr(t)}function dl(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":dl(i),ho(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function rE(e,t,i,n){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[qn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function aE(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pt(e.nextSibling),e===null))return null;return e}function gl(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function oE(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var n=function(){t(),i.removeEventListener("DOMContentLoaded",n)};i.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var vl=null;function Wv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function em(e,t,i){switch(t=$a(i),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function Or(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ho(e)}var Rt=new Map,tm=new Set;function Fa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wt=Z.d;Z.d={f:uE,r:lE,D:sE,C:cE,L:fE,m:dE,X:vE,S:gE,M:mE};function uE(){var e=Wt.f(),t=Ua();return e||t}function lE(e){var t=Xi(e);t!==null&&t.tag===5&&t.type==="form"?Eg(t):Wt.r(e)}var Kn=typeof document>"u"?null:document;function im(e,t,i){var n=Kn;if(n&&typeof t=="string"&&t){var r=Tt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),tm.has(r)||(tm.add(r),e={rel:e,crossOrigin:i,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),Ze(t,"link",e),Ge(t),n.head.appendChild(t)))}}function sE(e){Wt.D(e),im("dns-prefetch",e,null)}function cE(e,t){Wt.C(e,t),im("preconnect",e,t)}function fE(e,t,i){Wt.L(e,t,i);var n=Kn;if(n&&e&&t){var r='link[rel="preload"][as="'+Tt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Tt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Tt(i.imageSizes)+'"]')):r+='[href="'+Tt(e)+'"]';var c=r;switch(t){case"style":c=An(e);break;case"script":c=Pn(e)}Rt.has(c)||(e=l({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Rt.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(Dr(c))||t==="script"&&n.querySelector(Rr(c))||(t=n.createElement("link"),Ze(t,"link",e),Ge(t),n.head.appendChild(t)))}}function dE(e,t){Wt.m(e,t);var i=Kn;if(i&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Tt(n)+'"][href="'+Tt(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Pn(e)}if(!Rt.has(c)&&(e=l({rel:"modulepreload",href:e},t),Rt.set(c,e),i.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Rr(c)))return}n=i.createElement("link"),Ze(n,"link",e),Ge(n),i.head.appendChild(n)}}}function gE(e,t,i){Wt.S(e,t,i);var n=Kn;if(n&&e){var r=Qi(n).hoistableStyles,c=An(e);t=t||"default";var E=r.get(c);if(!E){var R={loading:0,preload:null};if(E=n.querySelector(Dr(c)))R.loading=5;else{e=l({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Rt.get(c))&&ml(e,i);var P=E=n.createElement("link");Ge(P),Ze(P,"link",e),P._p=new Promise(function($,B){P.onload=$,P.onerror=B}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ga(E,t,n)}E={type:"stylesheet",instance:E,count:1,state:R},r.set(c,E)}}}function vE(e,t){Wt.X(e,t);var i=Kn;if(i&&e){var n=Qi(i).hoistableScripts,r=Pn(e),c=n.get(r);c||(c=i.querySelector(Rr(r)),c||(e=l({src:e,async:!0},t),(t=Rt.get(r))&&yl(e,t),c=i.createElement("script"),Ge(c),Ze(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function mE(e,t){Wt.M(e,t);var i=Kn;if(i&&e){var n=Qi(i).hoistableScripts,r=Pn(e),c=n.get(r);c||(c=i.querySelector(Rr(r)),c||(e=l({src:e,async:!0,type:"module"},t),(t=Rt.get(r))&&yl(e,t),c=i.createElement("script"),Ge(c),Ze(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function nm(e,t,i,n){var r=(r=ae.current)?Fa(r):null;if(!r)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=An(i.href),i=Qi(r).hoistableStyles,n=i.get(t),n||(n={type:"style",instance:null,count:0,state:null},i.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=An(i.href);var c=Qi(r).hoistableStyles,E=c.get(e);if(E||(r=r.ownerDocument||r,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,E),(c=r.querySelector(Dr(e)))&&!c._p&&(E.instance=c,E.state.loading=5),Rt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Rt.set(e,i),c||yE(r,e,i,E.state))),t&&n===null)throw Error(v(528,""));return E}if(t&&n!==null)throw Error(v(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pn(i),i=Qi(r).hoistableScripts,n=i.get(t),n||(n={type:"script",instance:null,count:0,state:null},i.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function An(e){return'href="'+Tt(e)+'"'}function Dr(e){return'link[rel="stylesheet"]['+e+"]"}function rm(e){return l({},e,{"data-precedence":e.precedence,precedence:null})}function yE(e,t,i,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ze(t,"link",i),Ge(t),e.head.appendChild(t))}function Pn(e){return'[src="'+Tt(e)+'"]'}function Rr(e){return"script[async]"+e}function am(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Tt(i.href)+'"]');if(n)return t.instance=n,Ge(n),n;var r=l({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ge(n),Ze(n,"style",r),Ga(n,i.precedence,e),t.instance=n;case"stylesheet":r=An(i.href);var c=e.querySelector(Dr(r));if(c)return t.state.loading|=4,t.instance=c,Ge(c),c;n=rm(i),(r=Rt.get(r))&&ml(n,r),c=(e.ownerDocument||e).createElement("link"),Ge(c);var E=c;return E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Ze(c,"link",n),t.state.loading|=4,Ga(c,i.precedence,e),t.instance=c;case"script":return c=Pn(i.src),(r=e.querySelector(Rr(c)))?(t.instance=r,Ge(r),r):(n=i,(r=Rt.get(c))&&(n=l({},i),yl(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ge(r),Ze(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ga(n,i.precedence,e));return t.instance}function Ga(e,t,i){for(var n=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,E=0;E<n.length;E++){var R=n[E];if(R.dataset.precedence===t)c=R;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function ml(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ha=null;function om(e,t,i){if(Ha===null){var n=new Map,r=Ha=new Map;r.set(i,n)}else r=Ha,n=r.get(i),n||(n=new Map,r.set(i,n));if(n.has(e))return n;for(n.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var c=i[r];if(!(c[qn]||c[Je]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var E=c.getAttribute(t)||"";E=e+E;var R=n.get(E);R?R.push(c):n.set(E,[c])}}return n}function um(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function hE(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mr=null;function pE(){}function bE(e,t,i){if(Mr===null)throw Error(v(475));var n=Mr;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=An(i.href),c=e.querySelector(Dr(r));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ba.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=c,Ge(c);return}c=e.ownerDocument||e,i=rm(i),(r=Rt.get(r))&&ml(i,r),c=c.createElement("link"),Ge(c);var E=c;E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Ze(c,"link",i),t.instance=c}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ba.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function TE(){if(Mr===null)throw Error(v(475));var e=Mr;return e.stylesheets&&e.count===0&&hl(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Ba(){if(this.count--,this.count===0){if(this.stylesheets)hl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ya=null;function hl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ya=new Map,t.forEach(EE,e),Ya=null,Ba.call(e))}function EE(e,t){if(!(t.state.loading&4)){var i=Ya.get(e);if(i)var n=i.get(null);else{i=new Map,Ya.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var E=r[c];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(i.set(E.dataset.precedence,E),n=E)}n&&i.set(null,n)}r=t.instance,E=r.getAttribute("data-precedence"),c=i.get(E)||n,c===n&&i.set(null,r),i.set(E,r),this.count++,n=Ba.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Vr={$$typeof:D,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function CE(e,t,i,n,r,c,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.hiddenUpdates=go(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function sm(e,t,i,n,r,c,E,R,P,$,B,X){return e=new CE(e,t,i,E,R,P,$,X),t=1,c===!0&&(t|=24),c=gt(3,null,null,t),e.current=c,c.stateNode=e,t=Jo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:i,cache:t},iu(c),e}function cm(e){return e?(e=sn,e):sn}function fm(e,t,i,n,r,c){r=cm(r),n.context===null?n.context=r:n.pendingContext=r,n=oi(t),n.payload={element:i},c=c===void 0?null:c,c!==null&&(n.callback=c),i=ui(e,n,t),i!==null&&(pt(i,e,t),ar(i,e,t))}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function pl(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function gm(e){if(e.tag===13){var t=ln(e,67108864);t!==null&&pt(t,e,67108864),pl(e,67108864)}}var xa=!0;function SE(e,t,i,n){var r=q.T;q.T=null;var c=Z.p;try{Z.p=2,bl(e,t,i,n)}finally{Z.p=c,q.T=r}}function _E(e,t,i,n){var r=q.T;q.T=null;var c=Z.p;try{Z.p=8,bl(e,t,i,n)}finally{Z.p=c,q.T=r}}function bl(e,t,i,n){if(xa){var r=Tl(n);if(r===null)ol(e,t,n,Xa,i),mm(e,n);else if(DE(r,e,t,i,n))n.stopPropagation();else if(mm(e,n),t&4&&-1<OE.indexOf(e)){for(;r!==null;){var c=Xi(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var E=Di(c.pendingLanes);if(E!==0){var R=c;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var P=1<<31-ft(E);R.entanglements[1]|=P,E&=~P}Lt(c),(Ce&6)===0&&(Pa=st()+500,Cr(0))}}break;case 13:R=ln(c,2),R!==null&&pt(R,c,2),Ua(),pl(c,2)}if(c=Tl(n),c===null&&ol(e,t,n,Xa,i),c===r)break;r=c}r!==null&&n.stopPropagation()}else ol(e,t,n,null,i)}}function Tl(e){return e=Oo(e),El(e)}var Xa=null;function El(e){if(Xa=null,e=xi(e),e!==null){var t=p(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=O(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xa=e,null}function vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case Nn:return 2;case qr:return 8;case zr:case fb:return 32;case Kf:return 268435456;default:return 32}default:return 32}}var Cl=!1,Ti=null,Ei=null,Ci=null,Kr=new Map,Ar=new Map,Si=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function Pr(e,t,i,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Xi(t),t!==null&&gm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function DE(e,t,i,n,r){switch(t){case"focusin":return Ti=Pr(Ti,e,t,i,n,r),!0;case"dragenter":return Ei=Pr(Ei,e,t,i,n,r),!0;case"mouseover":return Ci=Pr(Ci,e,t,i,n,r),!0;case"pointerover":var c=r.pointerId;return Kr.set(c,Pr(Kr.get(c)||null,e,t,i,n,r)),!0;case"gotpointercapture":return c=r.pointerId,Ar.set(c,Pr(Ar.get(c)||null,e,t,i,n,r)),!0}return!1}function ym(e){var t=xi(e.target);if(t!==null){var i=p(t);if(i!==null){if(t=i.tag,t===13){if(t=O(i),t!==null){e.blockedOn=t,bb(e.priority,function(){if(i.tag===13){var n=ht();n=vo(n);var r=ln(i,n);r!==null&&pt(r,i,n),pl(i,n)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Tl(e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);_o=n,i.target.dispatchEvent(n),_o=null}else return t=Xi(i),t!==null&&gm(t),e.blockedOn=i,!1;t.shift()}return!0}function hm(e,t,i){Qa(e)&&i.delete(t)}function RE(){Cl=!1,Ti!==null&&Qa(Ti)&&(Ti=null),Ei!==null&&Qa(Ei)&&(Ei=null),Ci!==null&&Qa(Ci)&&(Ci=null),Kr.forEach(hm),Ar.forEach(hm)}function Za(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,RE)))}var Ja=null;function pm(e){Ja!==e&&(Ja=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ja===e&&(Ja=null);for(var t=0;t<e.length;t+=3){var i=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(El(n||i)===null)continue;break}var c=Xi(i);c!==null&&(e.splice(t,3),t-=3,Eu(c,{pending:!0,data:r,method:i.method,action:n},n,r))}}))}function jr(e){function t(P){return Za(P,e)}Ti!==null&&Za(Ti,e),Ei!==null&&Za(Ei,e),Ci!==null&&Za(Ci,e),Kr.forEach(t),Ar.forEach(t);for(var i=0;i<Si.length;i++){var n=Si[i];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Si.length&&(i=Si[0],i.blockedOn===null);)ym(i),i.blockedOn===null&&Si.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(n=0;n<i.length;n+=3){var r=i[n],c=i[n+1],E=r[nt]||null;if(typeof c=="function")E||pm(i);else if(E){var R=null;if(c&&c.hasAttribute("formAction")){if(r=c,E=c[nt]||null)R=E.formAction;else if(El(r)!==null)continue}else R=E.action;typeof R=="function"?i[n+1]=R:(i.splice(n,3),n-=3),pm(i)}}}function Sl(e){this._internalRoot=e}Wa.prototype.render=Sl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var i=t.current,n=ht();fm(i,n,e,t,null,null)},Wa.prototype.unmount=Sl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fm(e.current,2,null,e,null,null),Ua(),t[Yi]=null}};function Wa(e){this._internalRoot=e}Wa.prototype.unstable_scheduleHydration=function(e){if(e){var t=wf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Si.length&&t!==0&&t<Si[i].priority;i++);Si.splice(i,0,e),i===0&&ym(e)}};var bm=u.version;if(bm!=="19.1.0")throw Error(v(527,bm,"19.1.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=f(t),e=e!==null?o(e):null,e=e===null?null:e.stateNode,e};var ME={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{kn=eo.inject(ME),ct=eo}catch{}}return wr.createRoot=function(e,t){if(!C(e))throw Error(v(299));var i=!1,n="",r=wg,c=Ng,E=kg,R=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(R=t.unstable_transitionCallbacks)),t=sm(e,1,!1,null,null,i,n,r,c,E,R,null),e[Yi]=t.current,al(e),new Sl(t)},wr.hydrateRoot=function(e,t,i){if(!C(e))throw Error(v(299));var n=!1,r="",c=wg,E=Ng,R=kg,P=null,$=null;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(E=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks),i.formState!==void 0&&($=i.formState)),t=sm(e,1,!0,t,i??null,n,r,c,E,R,P,$),t.context=cm(null),i=t.current,n=ht(),n=vo(n),r=oi(n),r.callback=null,ui(i,r,n),i=n,t.current.lanes=i,In(t,i),Lt(t),e[Yi]=t.current,al(e),new Wa(t)},wr.version="19.1.0",wr}var Vm;function IE(){if(Vm)return Rl.exports;Vm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(u){console.error(u)}}return a(),Rl.exports=LE(),Rl.exports}var qE=IE();const zE="/experiment/assets/react-CHdo91hT.svg";var Al={},Pl={},jl={},Ul={},Gi={},Km;function $E(){if(Km)return Gi;Km=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Err=Gi.Ok=void 0;function a(O){if(!this.ok){if(typeof this.error=="string"||typeof this.error>"u"){var g="There was an error! No specific error message was provided.";throw new Error(O||this.error||g)}throw O&&(this.error.message=O),this.error}return this.data}function u(O){return this.ok?this.data:O(this.error)}function h(O){return this.ok?this.data:O}function v(O){return this.ok&&O(this.data),this}function C(O){return{ok:!0,data:O,throw:a,else:u,or:h,and:v}}Gi.Ok=C;function p(O){return{ok:!1,error:O,throw:a,else:u,or:h,and:v}}return Gi.Err=p,Gi}var Am;function ve(){return Am||(Am=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Err=a.Ok=void 0;var u=$E();Object.defineProperty(a,"Ok",{enumerable:!0,get:function(){return u.Ok}}),Object.defineProperty(a,"Err",{enumerable:!0,get:function(){return u.Err}})}(Ul)),Ul}var wl={},Nl={},kl={},Ll={},Il={},ql={},zl={},$l={},Fl={},Gl={},Pm;function gf(){return Pm||(Pm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonException=void 0,a.KameleoonException=function(u){return u.Credentials="Credentials",u.EventSourceInitialization="EventSourceInitialization",u.FeatureFlagConfigurationNotFound="FeatureFlagConfigurationNotFound",u.FeatureFlagVariableNotFound="FeatureFlagVariableNotFound",u.FeatureFlagVariationNotFound="FeatureFlagVariationNotFound",u.FeatureFlagExperimentNotFound="FeatureFlagExperimentNotFound",u.FeatureFlagEnvironmentDisabled="FeatureFlagEnvironmentDisabled",u.VisitAmount="VisitAmount",u.VisitorCodeMaxLength="VisitorCodeMaxLength",u.VisitorCodeEmpty="VisitorCodeEmpty",u.StorageInitialization="StorageInitialization",u.StorageWrite="StorageWrite",u.StorageRead="StorageRead",u.StorageParse="StorageParse",u.StorageEmpty="StorageEmpty",u.ClientConfiguration="ClientConfiguration",u.TargetingCondition="TargetingCondition",u.AmongValuesCheck="AmongValuesCheck",u.RangeCheck="RangeCheck",u.Initialization="Initialization",u.JSONParse="JSONParse",u.NumberParse="NumberParse",u.VersionParse="VersionParse",u.CookieParse="CookieParse",u.SemanticVersionParse="SemanticVersionParse",u.RemoteData="RemoteData",u.MaximumRetriesReached="MaximumRetriesReached",u}({})}(Gl)),Gl}var jm;function FE(){return jm||(jm=1,function(a){var u=gf();Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_MESSAGES=void 0,a.ERROR_MESSAGES={[u.KameleoonException.CookieParse]:h=>`Couldn't parse cookie string: ${h}`,[u.KameleoonException.JSONParse]:h=>`Couldn't parse JSON variable: ${h}`,[u.KameleoonException.NumberParse]:h=>`It's not possible to parse value ${h} to Number`,[u.KameleoonException.VersionParse]:h=>`It's not possible to parse a version value ${h} to Number, version should be in format x.x`,[u.KameleoonException.SemanticVersionParse]:h=>`It's not possible to parse a version value ${h} to Number, version should be in format x.x.x`,[u.KameleoonException.Initialization]:()=>"It seems that the client wasn't properly initialized, make sure to run `initialize` method before invoking other methods",[u.KameleoonException.Credentials]:()=>"KameleoonClient can not be created without credentials",[u.KameleoonException.StorageInitialization]:()=>"There was an error while initializing React Native SDK storage, it seems that the storage library dependency wasn't installed",[u.KameleoonException.EventSourceInitialization]:()=>"There was an error while initializing Real Time Update service, it seems that the event source library dependency wasn't installed",[u.KameleoonException.FeatureFlagConfigurationNotFound]:h=>`No feature flag with key ${h} was found.`,[u.KameleoonException.FeatureFlagEnvironmentDisabled]:(h,v)=>`Feature flag with key ${h} is disabled in ${v} environment.`,[u.KameleoonException.FeatureFlagVariableNotFound]:(h,v)=>`No feature flag variable with key ${h} was found for ${v} visitorCode.`,[u.KameleoonException.FeatureFlagVariationNotFound]:(h,v)=>`No feature flag variation with key ${h} was found for ${v} visitorCode.`,[u.KameleoonException.FeatureFlagExperimentNotFound]:(h,v)=>`No feature flag experiment with id ${h} was found for ${v} visitorCode.`,[u.KameleoonException.VisitAmount]:()=>"Visit amount must be a number between 1 and 25",[u.KameleoonException.VisitorCodeMaxLength]:()=>"Visitor code can not be more than 255 characters long",[u.KameleoonException.VisitorCodeEmpty]:()=>"Visitor code can not be empty",[u.KameleoonException.StorageWrite]:h=>`Couldn't update storage for kameleoonClient: ${h}`,[u.KameleoonException.StorageRead]:h=>`No data found in storage under ${h} key`,[u.KameleoonException.StorageEmpty]:()=>"No data found in storage",[u.KameleoonException.StorageParse]:(h,v)=>`Couldn't parse ${v} storage data, the data may be corrupted. Error: ${h}`,[u.KameleoonException.ClientConfiguration]:h=>`Couldn't retrieve client configuration from Kameleoon Api. Error: ${h}`,[u.KameleoonException.TargetingCondition]:h=>`${h} targeting condition is not yet supported.`,[u.KameleoonException.AmongValuesCheck]:(h,v)=>`Couldn't parse value "${v}": ${h}`,[u.KameleoonException.RangeCheck]:h=>`Couldn't parse value "${h}" as a range, value should be in format [x: number, y: number]`,[u.KameleoonException.RemoteData]:h=>`Couldn't retrieve data from Kameleoon server. Error: ${h}`,[u.KameleoonException.MaximumRetriesReached]:h=>`Maximum retries reached, request failed. Reason: ${h}`}}(Fl)),Fl}var Hl={},Um;function Cp(){return Um||(Um=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.exhaustCheck=u;function u(h){throw new Error(`Reaching an impossible state because of ${h}`)}}(Hl)),Hl}var wm;function GE(){return wm||(wm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonError=void 0;var u=FE(),h=Cp(),v=gf();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g extends Error{constructor(o,l,s){super(`Error: ${o}`),C(this,"errorType",void 0),this.name="KameleoonError",this.errorType=o,o===v.KameleoonException.Initialization||o===v.KameleoonException.Credentials||o===v.KameleoonException.VisitorCodeMaxLength||o===v.KameleoonException.VisitorCodeEmpty||o===v.KameleoonException.StorageInitialization||o===v.KameleoonException.VisitAmount||o===v.KameleoonException.EventSourceInitialization||o===v.KameleoonException.StorageEmpty?this.message=u.ERROR_MESSAGES[o]():o===v.KameleoonException.CookieParse||o===v.KameleoonException.FeatureFlagConfigurationNotFound||o===v.KameleoonException.NumberParse||o===v.KameleoonException.ClientConfiguration||o===v.KameleoonException.MaximumRetriesReached||o===v.KameleoonException.RemoteData||o===v.KameleoonException.VersionParse||o===v.KameleoonException.SemanticVersionParse?this.message=u.ERROR_MESSAGES[o](l):o===v.KameleoonException.FeatureFlagExperimentNotFound?this.message=u.ERROR_MESSAGES[o](l,s):o===v.KameleoonException.FeatureFlagVariationNotFound||o===v.KameleoonException.FeatureFlagEnvironmentDisabled||o===v.KameleoonException.FeatureFlagVariableNotFound?this.message=u.ERROR_MESSAGES[o](l,s):o===v.KameleoonException.StorageWrite||o===v.KameleoonException.JSONParse?this.message=u.ERROR_MESSAGES[o](l):o===v.KameleoonException.StorageRead?this.message=u.ERROR_MESSAGES[o](l):o===v.KameleoonException.StorageParse?this.message=u.ERROR_MESSAGES[o](l,s):o===v.KameleoonException.TargetingCondition?this.message=u.ERROR_MESSAGES[o](l):o===v.KameleoonException.AmongValuesCheck?this.message=u.ERROR_MESSAGES[o](l,s):o===v.KameleoonException.RangeCheck?this.message=u.ERROR_MESSAGES[o](l):(0,h.exhaustCheck)(o)}get type(){return this.errorType}}a.KameleoonError=g}($l)),$l}var Nm;function xe(){return Nm||(Nm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"KameleoonError",{enumerable:!0,get:function(){return u.KameleoonError}}),Object.defineProperty(a,"KameleoonException",{enumerable:!0,get:function(){return h.KameleoonException}}),Object.defineProperty(a,"exhaustCheck",{enumerable:!0,get:function(){return v.exhaustCheck}});var u=GE(),h=gf(),v=Cp()}(zl)),zl}var Bl={},Yl={},km;function ro(){return km||(km=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.UrlType=a.RequestType=a.HttpMethod=a.DataApiQuery=void 0,a.UrlType=function(u){return u.DataApi="dataApi",u.Events="events",u.ClientConfiguration="clientConfiguration",u}({}),a.HttpMethod=function(u){return u.Get="GET",u.Post="POST",u}({}),a.DataApiQuery=function(u){return u[u.VisitEvent=0]="VisitEvent",u[u.VisitData=1]="VisitData",u[u.DataMap=2]="DataMap",u}({}),a.RequestType=function(u){return u.Configuration="configuration",u.Tracking="tracking",u.RemoteData="remoteData",u}({})}(Yl)),Yl}var Lm;function vf(){return Lm||(Lm=1,function(a){var u=ro();Object.defineProperty(a,"__esModule",{value:!0}),a.UrlTracking=a.UrlQuery=a.UrlParameter=a.UrlFirstParameter=a.UrlEventType=a.NUMBER_OF_RETRIES=a.Header=a.DEFAULT_DOMAINS=void 0,a.NUMBER_OF_RETRIES=2,a.Header=function(h){return h.UserAgent="User-Agent",h.ContentType="Content-Type",h.SdkVersion="X-Kameleoon-SDK-Version",h.SdkType="X-Kameleoon-SDK-Type",h.Authorization="Authorization",h.AcceptEncoding="Accept-Encoding",h}({}),a.UrlEventType={CustomData:"eventType=customData",StaticData:"eventType=staticData",Page:"eventType=page",Conversion:"eventType=conversion",Activity:"eventType=activity",Experiment:"eventType=experiment",Geolocation:"eventType=geolocation"},a.UrlParameter={Title:"&title=",ReferrersIndices:"&referrersIndices=",Negative:"&negative=",Revenue:"&revenue=",Overwrite:"&overwrite=",Index:"&index=",BrowserIndex:"&browserIndex=",BrowserVersion:"&browserVersion=",Href:"&href=",DeviceType:"&deviceType=",SiteCode:"&siteCode=",GoalId:"&goalId=",VisitorCode:"&visitorCode=",VariationId:"&variationId=",Ts:"&ts=",Key:"&key=",SdkName:"&sdkName=",SdkVersion:"&sdkVersion=",ValuesCountMap:"&valuesCountMap=",Nonce:"&nonce=",Id:"&id=",CustomData:"&customData=",CurrentVisit:"&currentVisit=",MaxNumberPreviousVisits:"&maxNumberPreviousVisits=",Os:"&os=",OsIndex:"&osIndex=",Country:"&country=",City:"&city=",Region:"&region=",Latitude:"&latitude=",Longitude:"&longitude=",PostalCode:"&postalCode=",Conversion:"&conversion=",StaticData:"&staticData=",Geolocation:"&geolocation=",Page:"&page=",Experiment:"&experiment=",Browser:"&browser=",Environment:"&environment=",MappingIdentifier:"&mappingIdentifier=",MappingValue:"&mappingValue=",Kcs:"&kcs=",Personalization:"&personalization=",UserAgent:"&userAgent=",BodyUa:"&bodyUa=",Cbs:"&cbs=",Metadata:"&metadata="},a.UrlFirstParameter={CustomData:"?customData=",StaticData:"?staticData=",Page:"?page=",Conversion:"?conversion=",Geolocation:"?geolocation=",Experiment:"?experiment=",ValuesCountMap:"?valuesCountMap=",Id:"?id=",Nonce:"?nonce=",Country:"?country=",Environment:"?environment=",City:"?city=",Region:"?region=",Latitude:"?latitude=",Longitude:"?longitude=",PostalCode:"?postalCode=",SdkName:"?sdkName=",SdkVersion:"?sdkVersion=",BrowserIndex:"?browserIndex=",BrowserVersion:"?browserVersion=",SiteCode:"?siteCode=",VisitorCode:"?visitorCode=",CurrentVisit:"?currentVisit=",MaxNumberPreviousVisits:"?maxNumberPreviousVisits=",Negative:"?negative=",Revenue:"?revenue=",Title:"?title=",Os:"?os=",OsIndex:"?osIndex=",Browser:"?browser=",ReferrersIndices:"?referrersIndices=",Overwrite:"?overwrite=",Index:"?index=",Href:"?href=",VariationId:"?variationId=",DeviceType:"?deviceType=",GoalId:"?goalId=",Ts:"?ts=",Key:"?key=",MappingIdentifier:"?mappingIdentifier=",MappingValue:"?mappingValue=",Kcs:"?kcs=",Personalization:"?personalization=",UserAgent:"?userAgent=",BodyUa:"?bodyUa=",Cbs:"?cbs=",Metadata:"?metadata="},a.UrlQuery={Sse:"sse?siteCode=",Map:"map?siteCode=",Events:"events?siteCode=",Visitor:"visitor?siteCode="},a.UrlTracking={Visit:"visit/",Map:"map/"},a.DEFAULT_DOMAINS={[u.UrlType.DataApi]:"data.kameleoon.io",[u.UrlType.Events]:"events.kameleoon.eu",[u.UrlType.ClientConfiguration]:"sdk-config.kameleoon.eu"}}(Bl)),Bl}var xl={},Xl={},Im;function mf(){return Im||(Im=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.LogLevel=a.LOG_LEVEL_NAMES=void 0;let u=a.LogLevel=function(h){return h[h.NONE=0]="NONE",h[h.ERROR=1]="ERROR",h[h.WARNING=2]="WARNING",h[h.INFO=3]="INFO",h[h.DEBUG=4]="DEBUG",h}({});a.LOG_LEVEL_NAMES={[u.NONE]:"NONE",[u.ERROR]:"ERROR",[u.WARNING]:"WARNING",[u.INFO]:"INFO",[u.DEBUG]:"DEBUG"}}(Xl)),Xl}var Ql={},Zl={},qm;function Sp(){return qm||(qm=1,function(a){var u=mf();Object.defineProperty(a,"__esModule",{value:!0}),a.DefaultLogger=void 0;class h{log(C,p){C===u.LogLevel.DEBUG?console.debug(p):C===u.LogLevel.INFO?console.info(p):C===u.LogLevel.WARNING?console.warn(p):C===u.LogLevel.ERROR&&console.error(p)}}a.DefaultLogger=h}(Zl)),Zl}var zm;function yf(){return zm||(zm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonLogger=void 0;var u=mf(),h=Sp();function v(o,l,s){return(l=C(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function C(o){var l=p(o,"string");return typeof l=="symbol"?l:l+""}function p(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}const O=(o,l)=>o==="credentials"?{clientId:"****",clientSecret:"****"}:l instanceof Map?Array.from(l.entries()):l;function g(o,l){let s="";if(l)for(let d,m=0;m<l.length;m++)if(d=l[m],typeof d=="object")try{s+=o[m]+JSON.stringify(d,O)}catch{s+=o[m]+"{object}"}else s+=typeof d=="string"?o[m]+"'"+d+"'":o[m]+d;return s+=o[o.length-1],s}class f{static setLogger(l){f.logger=l}static setLogLevel(l){f.logLevel=l}static log(l){let{level:s,strings:d,keys:m}=l;if(!f.checkLevel(s))return;let y;if(typeof d=="string")y=d;else if(typeof d=="function")try{y=d()}catch{y="Failed to log message"}else y=g(d,m);f.writeMessage(s,y)}static info(l){for(var s=arguments.length,d=Array(1<s?s-1:0),m=1;m<s;m++)d[m-1]=arguments[m];f.log({level:u.LogLevel.INFO,strings:l,keys:d})}static error(l){for(var s=arguments.length,d=Array(1<s?s-1:0),m=1;m<s;m++)d[m-1]=arguments[m];f.log({level:u.LogLevel.ERROR,strings:l,keys:d})}static warning(l){for(var s=arguments.length,d=Array(1<s?s-1:0),m=1;m<s;m++)d[m-1]=arguments[m];f.log({level:u.LogLevel.WARNING,strings:l,keys:d})}static debug(l){for(var s=arguments.length,d=Array(1<s?s-1:0),m=1;m<s;m++)d[m-1]=arguments[m];f.log({level:u.LogLevel.DEBUG,strings:l,keys:d})}static checkLevel(l){return l<=f.logLevel&&l!==u.LogLevel.NONE}static writeMessage(l,s){f.logger.log(l,`Kameleoon [${u.LOG_LEVEL_NAMES[l]}]: ${s}`)}}a.KameleoonLogger=f,v(f,"logger",new h.DefaultLogger),v(f,"logLevel",u.LogLevel.WARNING)}(Ql)),Ql}var $m;function _e(){return $m||($m=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"DefaultLogger",{enumerable:!0,get:function(){return v.DefaultLogger}}),Object.defineProperty(a,"IExternalLogger",{enumerable:!0,get:function(){return u.IExternalLogger}}),Object.defineProperty(a,"KameleoonLogger",{enumerable:!0,get:function(){return h.KameleoonLogger}}),Object.defineProperty(a,"LogLevel",{enumerable:!0,get:function(){return u.LogLevel}});var u=mf(),h=yf(),v=Sp()}(xl)),xl}var Fm;function HE(){return Fm||(Fm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Requester=void 0;var u=ve(),h=xe(),v=vf(),C=ro(),p=_e();function O(d,m){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);m&&(S=S.filter(function(b){return Object.getOwnPropertyDescriptor(d,b).enumerable})),y.push.apply(y,S)}return y}function g(d){for(var m,y=1;y<arguments.length;y++)m=arguments[y]==null?{}:arguments[y],y%2?O(Object(m),!0).forEach(function(S){f(d,S,m[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):O(Object(m)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(m,S))});return d}function f(d,m,y){return(m=o(m))in d?Object.defineProperty(d,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[m]=y,d}function o(d){var m=l(d,"string");return typeof m=="symbol"?m:m+""}function l(d,m){if(typeof d!="object"||!d)return d;var y=d[Symbol.toPrimitive];if(y!==void 0){var S=y.call(d,m);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(d)}class s{constructor(m){let{urlProvider:y,packageInfo:S,externalRequester:b,requestTimeout:T,trackRetryDelay:_,useAbortController:D}=m;f(this,"externalRequester",void 0),f(this,"urlProvider",void 0),f(this,"packageInfo",void 0),f(this,"trackRetryDelay",void 0),f(this,"useAbortController",void 0),f(this,"timeout",void 0),p.KameleoonLogger.debug`CALL: new Requester(urlProvider, packageInfo: ${S}, externalRequester, requestTimeout: ${T}, trackRetryDelay: ${_}, useAbortController: ${D})`,this.urlProvider=y,this.useAbortController=D,this.externalRequester=b,this.trackRetryDelay=_,this.packageInfo=S,this.timeout=T,p.KameleoonLogger.debug`RETURN: new Requester(urlProvider, packageInfo: ${S}, externalRequester, requestTimeout: ${T}, trackRetryDelay: ${_}, useAbortController: ${D})`}async getClientConfiguration(m){const y=this.urlProvider.getClientConfigurationUrl(m),S={[v.Header.SdkType]:this.packageInfo.type.toLowerCase(),[v.Header.SdkVersion]:this.packageInfo.version},b=v.NUMBER_OF_RETRIES+1;try{let T={message:""};p.KameleoonLogger.debug`Running configuration request Method: ${C.HttpMethod.Get}, Url: ${y}, Headers: ${S}, with retry limit ${b}`;for(let _=0;_<b;_++){const D=await this.sendRequest({url:y,requestType:C.RequestType.Configuration,retryCount:_,parameters:{method:C.HttpMethod.Get,headers:S}});if(D.ok){const M=await D.json();return p.KameleoonLogger.debug`Received configuration response: ${{status:D.status}} for request Method: ${C.HttpMethod.Get}, Url: ${y}, Headers: ${S}`,(0,u.Ok)(M)}if(_===v.NUMBER_OF_RETRIES){if(D.text){const M=await D.text();T=JSON.parse(M)}p.KameleoonLogger.error`Failed to get configuration response ${{status:D.status,message:T.message}} for request Method: ${C.HttpMethod.Get}, Url: ${y}, Headers: ${S}`}else await this.logRequestError({logLevel:p.LogLevel.WARNING,message:"Failed to get configuration response",response:D,method:C.HttpMethod.Get,url:y})}return(0,u.Err)(new h.KameleoonError(h.KameleoonException.MaximumRetriesReached,T.message))}catch(T){return await this.logRequestError({logLevel:p.LogLevel.ERROR,message:"Failed to get configuration response",error:T,method:C.HttpMethod.Get,url:y,headers:S}),(0,u.Err)(new h.KameleoonError(h.KameleoonException.ClientConfiguration,T))}}async getRemoteData(m){const y=this.urlProvider.getRemoteDataUrl(m);p.KameleoonLogger.debug`Running remote data request Method: ${C.HttpMethod.Get}, Url: ${y}`;try{const b=await this.sendRequest({url:y,requestType:C.RequestType.RemoteData,retryCount:0,parameters:{method:C.HttpMethod.Get}});if(!b.ok){if(await this.logRequestError({logLevel:p.LogLevel.ERROR,message:"Failed to get remote data response",response:b,method:C.HttpMethod.Get,url:y}),b.text){var S;const _=await b.text(),D=(S=JSON.parse(_))===null||S===void 0?void 0:S.message;return(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,D))}return(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,"Unknown Reason - no `text()` was found for a response"))}const T=await b.json();return p.KameleoonLogger.debug`Received remote data response: ${{status:b.status}} for request Method: ${C.HttpMethod.Get}, Url: ${y}`,(0,u.Ok)(T)}catch(b){return await this.logRequestError({logLevel:p.LogLevel.ERROR,message:"Failed to get remote data response",error:b,method:C.HttpMethod.Get,url:y}),(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,b))}}async getVisitorData(m){let{visitorCode:y,filters:S,isMappingIdentifier:b}=m;const T=this.urlProvider.getVisitorDataUrl({visitorCode:y,filters:S,isMappingIdentifier:b});p.KameleoonLogger.debug`Running visitor data request Method: ${C.HttpMethod.Get}, Url: ${T}`;try{const D=await this.sendRequest({url:T,requestType:C.RequestType.RemoteData,retryCount:0,parameters:{method:C.HttpMethod.Get}});if(!D.ok){if(await this.logRequestError({logLevel:p.LogLevel.ERROR,message:"Failed to get visitor data response",response:D,method:C.HttpMethod.Get,url:T}),typeof D.text=="function"){const A=await D.text();if(A){var _;const N=(_=JSON.parse(A))===null||_===void 0?void 0:_.message;return(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,N))}}return D.status?(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,`No error message. Error status: ${D.status}`)):(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,"Unknown Reason - no text message or error status was found for a response"))}const M=await D.json();return p.KameleoonLogger.debug`Received visitor data response: ${{status:D.status}} for request Method: ${C.HttpMethod.Get}, Url: ${T}`,(0,u.Ok)(M)}catch(D){return await this.logRequestError({logLevel:p.LogLevel.ERROR,message:"Failed to get visitor data response",error:D,method:C.HttpMethod.Get,url:T}),(0,u.Err)(new h.KameleoonError(h.KameleoonException.RemoteData,D))}}async track(m,y){const S=v.NUMBER_OF_RETRIES+1,b=this.urlProvider.getTrackingUrl(y);p.KameleoonLogger.debug`Running tracking request Method: ${C.HttpMethod.Post}, Url: ${b}, Body: ${m}, with retry limit ${S}, retry delay ${this.trackRetryDelay} ms`;for(let T=0;T<S;T++){let _;try{if(_=await this.sendRequest({url:b,retryCount:T,requestType:C.RequestType.Tracking,parameters:{body:m,method:C.HttpMethod.Post}}),_.ok)return p.KameleoonLogger.debug`Received tracking response: ${{status:_.status}} for request Method: ${C.HttpMethod.Post}, Url: ${b}, Body: ${m}`,(0,u.Ok)();await this.logRequestError({logLevel:T==v.NUMBER_OF_RETRIES?p.LogLevel.ERROR:p.LogLevel.WARNING,message:"Failed to get tracking response",response:_,method:C.HttpMethod.Post,url:b})}catch(D){await this.logRequestError({logLevel:T==v.NUMBER_OF_RETRIES?p.LogLevel.ERROR:p.LogLevel.WARNING,message:"Failed to get tracking response",error:D,method:C.HttpMethod.Post,url:b})}T<S&&await new Promise(D=>setTimeout(D,this.trackRetryDelay))}return(0,u.Err)()}async sendRequest(m){let y,{url:S,requestType:b,retryCount:T,parameters:_}=m;if(this.useAbortController){const D=new AbortController,M=setTimeout(()=>D.abort(),this.timeout);y=await this.externalRequester.sendRequest({url:S,retryCount:T,requestType:b,parameters:g(g({},_),{},{signal:D.signal})}),clearTimeout(M)}else y=await this.externalRequester.sendRequest({url:S,retryCount:T,requestType:b,parameters:_});return y}async logRequestError(m){let{logLevel:y,message:S,error:b,method:T,url:_,response:D,headers:M}=m;if(b){let A="Unknown error";b instanceof Error&&(A=b.message),p.KameleoonLogger.log({level:y,strings:()=>`${S} with error: ${A} for request Method: ${T}, Url: ${_}`})}else if(D&&p.KameleoonLogger.checkLevel(y)){const A=await this.parseResponse(D);p.KameleoonLogger.log({level:y,strings:()=>`${S} response: Status: '${A.status}' Message: '${A.message}' for request Method: ${T}, Url: '${_}'`+(M?`, Headers: ${M}`:"")})}}async parseResponse(m){let y="";try{if(typeof m.text=="function"){const S=await m.text();S&&(y=S)}}catch{}return{status:m.status,message:y}}}a.Requester=s}(ql)),ql}var Jl={},Wl={},Gm;function hf(){return Gm||(Gm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Environment=void 0,a.Environment=function(u){return u.Production="production",u.Staging="staging",u.Development="development",u}({})}(Wl)),Wl}var Hm;function BE(){return Hm||(Hm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.UrlProvider=void 0;var u=hf(),h=vf(),v=ro();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(){C(this,"ready",!1),C(this,"isCustomDomain",!1),C(this,"domains",h.DEFAULT_DOMAINS),C(this,"siteCode",void 0),C(this,"environment",void 0),C(this,"packageInfo",void 0)}initialize(o){let{domain:l,siteCode:s,packageInfo:d,environment:m}=o;this.siteCode=s,this.environment=m,this.packageInfo=d,this.ready=!0,this.setDomains(l)}set dataApiDomain(o){if(!this.isCustomDomain)return void(this.domains[v.UrlType.DataApi]=o);const l=o.split(".")[0],s=this.domains[v.UrlType.DataApi];this.domains[v.UrlType.DataApi]=s.replace(/^[^.]+/,l)}getClientConfigurationUrl(o){this.isInitialized();const l=`https://${this.domains[v.UrlType.ClientConfiguration]}/`,s=this.environment===u.Environment.Production?"":h.UrlFirstParameter.Environment+encodeURIComponent(this.environment);let d="";return o&&(s?d=h.UrlParameter.Ts+o:d=h.UrlFirstParameter.Ts+o),l+this.siteCode+s+d}getEventSourceUrl(){return this.isInitialized(),`https://${this.domains[v.UrlType.Events]}:8110/${h.UrlQuery.Sse}${this.siteCode}`}getRemoteDataUrl(o){return this.isInitialized(),this.getDataApiUrl(v.DataApiQuery.DataMap)+this.siteCode+h.UrlParameter.Key+encodeURI(o)}getVisitorDataUrl(o){let{visitorCode:l,filters:s,isMappingIdentifier:d}=o;this.isInitialized();const{customData:m,previousVisitAmount:y,currentVisit:S,conversions:b,geolocation:T,experiments:_,pageViews:D,device:M,browser:A,operatingSystem:N,kcs:L,personalization:V,visitorCode:K,cbs:j}=s,k=d?h.UrlParameter.MappingValue:h.UrlParameter.VisitorCode,H=m||K?h.UrlParameter.CustomData+!0:"",x=b?h.UrlParameter.Conversion+!0:"",ie=T?h.UrlParameter.Geolocation+!0:"",ee=_?h.UrlParameter.Experiment+!0:"",q=D?h.UrlParameter.Page+!0:"",Z=M||A||N?h.UrlParameter.StaticData+!0:"",J=S?h.UrlParameter.CurrentVisit+!0:"",ne=L?h.UrlParameter.Kcs+!0:"",U=V?h.UrlParameter.Personalization+!0:"",Q=typeof y=="number"?h.UrlParameter.MaxNumberPreviousVisits+y:h.UrlParameter.MaxNumberPreviousVisits+1,te=j?h.UrlParameter.Cbs+!0:"";return this.getDataApiUrl(v.DataApiQuery.VisitData)+this.siteCode+k+l+Q+H+x+ie+ee+q+Z+J+ne+U+te}getTrackingUrl(o){this.isInitialized();const{type:l,version:s}=this.packageInfo;let d=this.getDataApiUrl(v.DataApiQuery.VisitEvent)+this.siteCode+h.UrlParameter.SdkName+l.toLowerCase()+h.UrlParameter.SdkVersion+s;return o&&(d+=h.UrlParameter.BodyUa+!0),d}isInitialized(){if(!this.ready)throw new Error("UrlProvider is not initialized")}getDataApiUrl(o){if(!this.domains[v.UrlType.DataApi])throw new Error("Data API domain is not set");const l=`https://${this.domains[v.UrlType.DataApi]}`;return o===v.DataApiQuery.VisitEvent?`${l}/${h.UrlTracking.Visit+h.UrlQuery.Events}`:o===v.DataApiQuery.VisitData?`${l}/${h.UrlTracking.Visit+h.UrlQuery.Visitor}`:o===v.DataApiQuery.DataMap?`${l}/${h.UrlTracking.Map+h.UrlQuery.Map}`:void 0}setDomains(o){o&&(this.isCustomDomain=!0,this.domains[v.UrlType.DataApi]="data."+o,this.domains[v.UrlType.Events]="events."+o,this.domains[v.UrlType.ClientConfiguration]="sdk-config."+o)}}a.UrlProvider=g}(Jl)),Jl}var Bm;function Vt(){return Bm||(Bm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"DEFAULT_DOMAINS",{enumerable:!0,get:function(){return v.DEFAULT_DOMAINS}}),Object.defineProperty(a,"DomainType",{enumerable:!0,get:function(){return C.DomainType}}),Object.defineProperty(a,"GetVisitorDataResultType",{enumerable:!0,get:function(){return C.GetVisitorDataResultType}}),Object.defineProperty(a,"Header",{enumerable:!0,get:function(){return v.Header}}),Object.defineProperty(a,"HeadersType",{enumerable:!0,get:function(){return C.HeadersType}}),Object.defineProperty(a,"HttpMethod",{enumerable:!0,get:function(){return C.HttpMethod}}),Object.defineProperty(a,"IExternalRequester",{enumerable:!0,get:function(){return C.IExternalRequester}}),Object.defineProperty(a,"IUrlProvider",{enumerable:!0,get:function(){return h.IUrlProvider}}),Object.defineProperty(a,"KameleoonResponseType",{enumerable:!0,get:function(){return C.KameleoonResponseType}}),Object.defineProperty(a,"NUMBER_OF_RETRIES",{enumerable:!0,get:function(){return v.NUMBER_OF_RETRIES}}),Object.defineProperty(a,"RequestParametersType",{enumerable:!0,get:function(){return C.RequestParametersType}}),Object.defineProperty(a,"RequestType",{enumerable:!0,get:function(){return C.RequestType}}),Object.defineProperty(a,"Requester",{enumerable:!0,get:function(){return u.Requester}}),Object.defineProperty(a,"RetryCountType",{enumerable:!0,get:function(){return C.RetryCountType}}),Object.defineProperty(a,"SendRequestParametersType",{enumerable:!0,get:function(){return C.SendRequestParametersType}}),Object.defineProperty(a,"StaticDataEventType",{enumerable:!0,get:function(){return C.StaticDataEventType}}),Object.defineProperty(a,"UrlEventType",{enumerable:!0,get:function(){return v.UrlEventType}}),Object.defineProperty(a,"UrlFirstParameter",{enumerable:!0,get:function(){return v.UrlFirstParameter}}),Object.defineProperty(a,"UrlParameter",{enumerable:!0,get:function(){return v.UrlParameter}}),Object.defineProperty(a,"UrlProvider",{enumerable:!0,get:function(){return h.UrlProvider}}),Object.defineProperty(a,"UrlQuery",{enumerable:!0,get:function(){return v.UrlQuery}}),Object.defineProperty(a,"UrlType",{enumerable:!0,get:function(){return C.UrlType}}),Object.defineProperty(a,"VisitType",{enumerable:!0,get:function(){return C.VisitType}});var u=HE(),h=BE(),v=vf(),C=ro()}(Il)),Il}var Ym;function Ae(){return Ym||(Ym=1,function(a){Vt(),Object.defineProperty(a,"__esModule",{value:!0}),a.VariableType=a.TrackingStatus=a.Milliseconds=void 0,a.VariableType=function(u){return u.BOOLEAN="BOOLEAN",u.NUMBER="NUMBER",u.STRING="STRING",u.JSON="JSON",u.JS="JS",u.CSS="CSS",u}({}),a.TrackingStatus=function(u){return u.Sent="sent",u.Unsent="unsent",u.Pending="pending",u}({}),a.Milliseconds=function(u){return u[u.Second=1e3]="Second",u[u.Minute=60*u.Second]="Minute",u[u.Hour=60*u.Minute]="Hour",u[u.Day=24*u.Hour]="Day",u[u.Week=7*u.Day]="Week",u[u.Month=30*u.Day]="Month",u}({})}(Ll)),Ll}var xm;function YE(){return xm||(xm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.CacheManager=void 0;var u=Ae(),h=_e();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){v(this,"cacheMap",new Map),v(this,"intervalId",null),v(this,"cleanupTimeout",void 0),this.cleanupTimeout=f*u.Milliseconds.Second}add(f){let{key:o,data:l,lifetime:s}=f;h.KameleoonLogger.debug`CALL: CacheManager.add(key: ${o}, data: ${l}, lifetime: ${s})`,this.intervalId===null&&this.activate();const d=s*u.Milliseconds.Second,m={data:l,expirationTime:Date.now()+d};this.cacheMap.set(o,m),h.KameleoonLogger.debug`RETURN: CacheManager.add(key: ${o}, data: ${l}, lifetime: ${s})`}getAliveItem(f){h.KameleoonLogger.debug`CALL: CacheManager.getAliveItem(key: ${f})`;const o=this.cacheMap.get(f);if(o&&o.expirationTime>=Date.now()){const l=o.data;return h.KameleoonLogger.debug`RETURN: CacheManager.getAliveItem(key: ${f}) -> (item: ${l})`,l}return o&&this.cacheMap.delete(f),h.KameleoonLogger.debug`RETURN: CacheManager.getAliveItem(key: ${f}) -> (item: null)`,null}activate(){this.intervalId=setInterval(()=>{const f=Date.now();for(const[o,l]of this.cacheMap)l.expirationTime<f&&this.cacheMap.delete(o);this.cacheMap.size||this.cleanupInterval()},this.cleanupTimeout)}cleanupInterval(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}a.CacheManager=O}(kl)),kl}var es={},Xm;function xE(){return Xm||(Xm=1,Object.defineProperty(es,"__esModule",{value:!0})),es}var Qm;function XE(){return Qm||(Qm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AddParametersType",{enumerable:!0,get:function(){return h.AddParametersType}}),Object.defineProperty(a,"CacheManager",{enumerable:!0,get:function(){return u.CacheManager}});var u=YE(),h=xE()}(Nl)),Nl}var ts={},is={},Zm;function ao(){return Zm||(Zm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.UpdateType=a.RuleType=a.FeatureStatus=a.FeatureFlagSdkLanguageType=a.CustomDataScope=a.ConsentType=void 0,a.UpdateType=function(u){return u[u.Polling=0]="Polling",u[u.RealTime=1]="RealTime",u}({}),a.RuleType=function(u){return u.TARGETED_DELIVERY="TARGETED_DELIVERY",u.EXPERIMENTATION="EXPERIMENTATION",u}({}),a.FeatureFlagSdkLanguageType=function(u){return u.ANDROID="ANDROID",u.SWIFT="SWIFT",u.JAVA="JAVA",u.CSHARP="CSHARP",u.NODEJS="NODEJS",u.PHP="PHP",u.RUBY="RUBY",u.GO="GO",u.FLUTTER="FLUTTER",u.REACTJS="REACTJS",u}({}),a.FeatureStatus=function(u){return u.ACTIVATED="ACTIVATED",u.DEACTIVATED="DEACTIVATED",u.SCHEDULED="SCHEDULED",u}({}),a.CustomDataScope=function(u){return u.Visit="VISIT",u.Visitor="VISITOR",u.Page="Page",u}({}),a.ConsentType=function(u){return u.Required="REQUIRED",u.NotRequired="NOT_REQUIRED",u}({})}(is)),is}var ns={},rs={},as={},Jm;function QE(){return Jm||(Jm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.EventManager=void 0;function u(p,O,g){return(O=h(O))in p?Object.defineProperty(p,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[O]=g,p}function h(p){var O=v(p,"string");return typeof O=="symbol"?O:O+""}function v(p,O){if(typeof p!="object"||!p)return p;var g=p[Symbol.toPrimitive];if(g!==void 0){var f=g.call(p,O);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(p)}class C{constructor(){u(this,"eventHandlers",void 0)}addEventHandler(O,g){this.eventHandlers||(this.eventHandlers=new Map),this.eventHandlers.set(O,g)}fireEvent(O,g){var f;const o=(f=this.eventHandlers)===null||f===void 0?void 0:f.get(O);o&&g&&o(g)}}a.EventManager=C}(as)),as}var os={},Wm;function ZE(){return Wm||(Wm=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.EventType=void 0,a.EventType=function(u){return u.Evaluation="evaluation",u.ConfigurationUpdate="configurationUpdate",u}({})}(os)),os}var ey;function pf(){return ey||(ey=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ConfigurationUpdateEventDataType",{enumerable:!0,get:function(){return h.ConfigurationUpdateEventDataType}}),Object.defineProperty(a,"EvaluationEventDataType",{enumerable:!0,get:function(){return h.EvaluationEventDataType}}),Object.defineProperty(a,"EventCallbackType",{enumerable:!0,get:function(){return h.EventCallbackType}}),Object.defineProperty(a,"EventDataType",{enumerable:!0,get:function(){return h.EventDataType}}),Object.defineProperty(a,"EventManager",{enumerable:!0,get:function(){return u.EventManager}}),Object.defineProperty(a,"EventType",{enumerable:!0,get:function(){return h.EventType}});var u=QE(),h=ZE()}(rs)),rs}var us={},ty;function JE(){return ty||(ty=1,function(a){var u=ao();Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CONFIGURATION_DATA=a.DEFAULT_CLIENT_CONFIGURATION=void 0,a.DEFAULT_CONFIGURATION_DATA={customData:[],configuration:{realTimeUpdate:!1,consentType:u.ConsentType.NotRequired,dataApiDomain:"data.kameleoon.io"}},a.DEFAULT_CLIENT_CONFIGURATION={customData:[],featureFlags:[],configuration:{realTimeUpdate:!1,consentType:u.ConsentType.NotRequired,dataApiDomain:"data.kameleoon.io"}}}(us)),us}var ls={},iy;function WE(){return iy||(iy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.MEGroup=void 0;function u(p,O,g){return(O=h(O))in p?Object.defineProperty(p,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[O]=g,p}function h(p){var O=v(p,"string");return typeof O=="symbol"?O:O+""}function v(p,O){if(typeof p!="object"||!p)return p;var g=p[Symbol.toPrimitive];if(g!==void 0){var f=g.call(p,O);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(p)}class C{constructor(O){u(this,"_featureFlags",void 0),this._featureFlags=O.slice().sort((g,f)=>g.id-f.id)}getFeatureFlagByHash(O){let g=Math.floor(O*this._featureFlags.length);return g=Math.min(g,this._featureFlags.length-1),this._featureFlags[g]}get featureFlags(){return this._featureFlags}}a.MEGroup=C}(ls)),ls}var ny;function e0(){return ny||(ny=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ClientConfiguration=void 0;var u=ve(),h=ao(),v=pf(),C=JE(),p=_e(),O=WE();function g(m,y){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(m);y&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(m,T).enumerable})),S.push.apply(S,b)}return S}function f(m){for(var y,S=1;S<arguments.length;S++)y=arguments[S]==null?{}:arguments[S],S%2?g(Object(y),!0).forEach(function(b){o(m,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(b){Object.defineProperty(m,b,Object.getOwnPropertyDescriptor(y,b))});return m}function o(m,y,S){return(y=l(y))in m?Object.defineProperty(m,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[y]=S,m}function l(m){var y=s(m,"string");return typeof y=="symbol"?y:y+""}function s(m,y){if(typeof m!="object"||!m)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var b=S.call(m,y);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(m)}class d{constructor(y){let{updateInterval:S,urlProvider:b,storage:T,requester:_,dataManager:D,eventSource:M,externalVisitorCodeManager:A,eventManager:N}=y;o(this,"updateConfigurationIntervalId",null),o(this,"updateType",h.UpdateType.Polling),o(this,"configurationData",C.DEFAULT_CLIENT_CONFIGURATION),o(this,"featureFlagsData",new Map),o(this,"isTargetedDeliveryRule",null),o(this,"segmentsData",null),o(this,"holdoutData",null),o(this,"meGroupsData",new Map),o(this,"updateInterval",void 0),o(this,"lastUpdate",void 0),o(this,"storage",void 0),o(this,"requester",void 0),o(this,"eventSource",void 0),o(this,"mappedRules",null),o(this,"mappedExperiments",null),o(this,"dataManager",void 0),o(this,"visitorCodeManager",void 0),o(this,"eventManager",void 0),o(this,"urlProvider",void 0),this.urlProvider=b,this.requester=_,this.updateInterval=S,this.lastUpdate=new Date,this.storage=T,this.dataManager=D,this.eventManager=N,this.visitorCodeManager=A,this.eventSource=M}async initialize(){if(p.KameleoonLogger.debug("CALL: ClientConfiguration.initialize()"),this.readStorageData(),this.checkShouldUpdate()){const S=await this.updateClientConfiguration();if(!S.ok)return p.KameleoonLogger.error("Error occurred during client configuration update"),S;if(S.data)return p.KameleoonLogger.debug("RETURN: ClientConfiguration.initialize()"),(0,u.Ok)()}return this.updateType!==h.UpdateType.RealTime||this.eventSource.isOpen?(this.updateType===h.UpdateType.Polling&&this.handlePollingUpdates(),p.KameleoonLogger.debug("RETURN: ClientConfiguration.initialize()"),(0,u.Ok)()):(this.handleRealTimeUpdates(),p.KameleoonLogger.debug("RETURN: ClientConfiguration.initialize()"),(0,u.Ok)())}cleanupHandlers(){this.eventSource.isOpen&&this.eventSource.close(),this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId)}handleRealTimeUpdates(){this.cleanupHandlers();const y=S=>{this.updateClientConfiguration(S).then(b=>{b.ok&&this.eventManager.fireEvent(v.EventType.ConfigurationUpdate,{timestamp:S})})};this.eventSource.open(y),this.eventSource.onError(S=>{p.KameleoonLogger.error`Error occurred during real-time update: ${S}. Switching to polling updates while the connection is not restored.`,this.updateType=h.UpdateType.Polling,this.handlePollingUpdates()})}handlePollingUpdates(){this.cleanupHandlers();try{this.updateConfigurationIntervalId=setInterval(this.updateClientConfiguration.bind(this),this.updateInterval)}catch(y){throw this.updateConfigurationIntervalId&&clearInterval(this.updateConfigurationIntervalId),y}}get featureFlags(){return this.featureFlagsData}get configuration(){return this.configurationData.configuration}get segments(){if(this.segmentsData)return this.segmentsData;const y=new Map;return this.featureFlagsData.forEach(S=>{S.rules.forEach(b=>{b.segment&&!y.has(b.segment.id)&&y.set(b.segment.id,b.segment)})}),this.segmentsData=y,y}get ruleMap(){var y;if((y=this.mappedRules)!==null&&y!==void 0&&y.size)return this.mappedRules;const S=new Map;for(const b of this.featureFlags.values())for(const T of b.rules){const{id:_,experimentId:D,variationByExposition:M}=T,A=new Map;M.forEach(N=>{let{variationKey:L,variationId:V}=N;typeof V=="number"&&A.set(L,V)}),S.set(_,{featureId:b.id,experimentId:D,variations:A})}return this.mappedRules=S,S}get experimentMap(){var y;if((y=this.mappedExperiments)!==null&&y!==void 0&&y.size)return this.mappedExperiments;const S=new Map;for(const b of this.featureFlags.values())for(const T of b.rules){const{experimentId:_,variationByExposition:D}=T,M=new Map;D.forEach(A=>{let{variationKey:N,variationId:L}=A;typeof L=="number"&&M.set(N,L)}),S.set(_,{type:T.type,variations:M})}return this.mappedExperiments=S,S}get holdout(){return this.holdoutData}get meGroups(){return this.meGroupsData}get isConsentRequired(){return this.configuration.consentType===h.ConsentType.Required}get hasAnyTargetedDeliveryRule(){if(this.isTargetedDeliveryRule!==null)return this.isTargetedDeliveryRule;for(const y of this.featureFlags.values())if(y.environmentEnabled&&y.rules.some(S=>S.type===h.RuleType.TARGETED_DELIVERY))return!0;return!1}checkShouldUpdate(){const{configuration:y}=this.configurationData;if(this.updateType=y.realTimeUpdate?h.UpdateType.RealTime:h.UpdateType.Polling,!this.featureFlags.size)return!0;const S=this.lastUpdate.getTime(),b=Date.now()-this.updateInterval;return S<b}readStorageData(){p.KameleoonLogger.debug("CALL: ClientConfiguration.readStorageData()");const y=this.storage.read();if(y.ok){const{data:S,lastUpdate:b}=y.data;this.updateConfigurationData(S),this.lastUpdate=new Date(Date.parse(b))}p.KameleoonLogger.debug`RETURN: ClientConfiguration.readStorageData() -> (result: ${y.ok})`}async updateClientConfiguration(y){var S,b;const T=await this.requester.getClientConfiguration(y);if(!T.ok)return this.featureFlags.size?(p.KameleoonLogger.error("Error occurred while updating configuration. Existing configuration will be used as a fallback."),(0,u.Ok)(!0)):T;this.updateConfigurationData(T.data),this.dataManager.clearTrees(),(S=this.mappedRules)===null||S===void 0||S.clear(),(b=this.experimentMap)===null||b===void 0||b.clear(),this.isTargetedDeliveryRule=null,this.segmentsData=null;const _=this.updateStorageData();if(!_.ok)return _;const D=T.data.configuration.realTimeUpdate?h.UpdateType.RealTime:h.UpdateType.Polling,M=D!==this.updateType;return M&&(this.updateType=D,p.KameleoonLogger.info`Configuration update type was toggled to ${D}`,await this.initialize()),(0,u.Ok)(M)}updateConfigurationData(y){const{configuration:S,featureFlags:b,customData:T,holdout:_}=y,D=new Map;for(const M of b)D.set(M.featureKey,M);this.featureFlagsData=D,T!=null&&T.length&&(this.dataManager.customDataIndexes=T),this.meGroupsData=this.makeMEGroups(b),this.holdoutData=_??null,this.configurationData={configuration:S,customData:T,holdout:_},this.urlProvider.dataApiDomain=y.configuration.dataApiDomain,this.updateConsentRequired()}makeMEGroups(y){const S=new Map;y.forEach(T=>{const _=T.mutuallyExclusiveGroup;if(_){let D=S.get(_);D?D.push(T):S.set(_,[T])}});const b=new Map;return S.forEach((T,_)=>{b.set(_,new O.MEGroup(T))}),b}updateStorageData(){this.lastUpdate=new Date;const y=f(f({},this.configurationData),{},{featureFlags:Array.from(this.featureFlags.values())}),S={data:y,lastUpdate:this.lastUpdate.toString()};return this.storage.write(S)}updateConsentRequired(){this.visitorCodeManager.consentRequired=this.isConsentRequired&&!this.hasAnyTargetedDeliveryRule}}a.ClientConfiguration=d}(ns)),ns}var ry;function oo(){return ry||(ry=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ClientConfiguration",{enumerable:!0,get:function(){return h.ClientConfiguration}}),Object.defineProperty(a,"ClientConfigurationDataType",{enumerable:!0,get:function(){return u.ClientConfigurationDataType}}),Object.defineProperty(a,"ConfigurationDataType",{enumerable:!0,get:function(){return u.ConfigurationDataType}}),Object.defineProperty(a,"ConsentType",{enumerable:!0,get:function(){return u.ConsentType}}),Object.defineProperty(a,"CustomDataConfigurationType",{enumerable:!0,get:function(){return u.CustomDataConfigurationType}}),Object.defineProperty(a,"CustomDataScope",{enumerable:!0,get:function(){return u.CustomDataScope}}),Object.defineProperty(a,"FeatureFlagType",{enumerable:!0,get:function(){return u.FeatureFlagType}}),Object.defineProperty(a,"FeatureVariableType",{enumerable:!0,get:function(){return u.FeatureVariableType}}),Object.defineProperty(a,"JSONType",{enumerable:!0,get:function(){return u.JSONType}}),Object.defineProperty(a,"JSONValue",{enumerable:!0,get:function(){return u.JSONValue}}),Object.defineProperty(a,"RuleItemType",{enumerable:!0,get:function(){return u.RuleItemType}}),Object.defineProperty(a,"RuleType",{enumerable:!0,get:function(){return u.RuleType}}),Object.defineProperty(a,"VariationByExpositionType",{enumerable:!0,get:function(){return u.VariationByExpositionType}});var u=ao(),h=e0()}(ts)),ts}var ss={},cs={},fs={},ds={},gs={},vs={},ay;function t0(){return ay||(ay=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.constructTypeMap=u;function u(h){return Object.fromEntries(Object.entries(h).map(v=>{let[C,p]=v;return[p,C]}))}}(vs)),vs}var oy;function de(){return oy||(oy=1,function(a){var u=t0();Object.defineProperty(a,"__esModule",{value:!0}),a.OperatingSystemTypeMap=a.OperatingSystemType=a.OperatingSystemIndexMap=a.KameleoonData=a.DeviceType=a.BrowserTypeMap=a.BrowserType=a.BrowserIndexMap=void 0,a.KameleoonData=function(O){return O.UniqueIdentifier="uniqueIdentifier",O.CustomData="customData",O.PageView="pageView",O.GeolocationData="geolocation",O.Browser="browser",O.Conversion="conversion",O.Cookie="cookie",O.Device="device",O.OperatingSystem="operatingSystem",O.UserAgent="userAgent",O.ApplicationVersion="applicationVersion",O.VisitsData="visitsData",O.KameleoonConversionScore="kameleoonConversionScore",O.Personalization="personalization",O.CBScores="cbScores",O}({}),a.DeviceType=function(O){return O.Phone="PHONE",O.Tablet="TABLET",O.Desktop="DESKTOP",O}({});let h=a.OperatingSystemType=function(O){return O.WindowsPhone="WINDOWS_PHONE",O.Windows="WINDOWS",O.Android="ANDROID",O.Linux="LINUX",O.Mac="MAC",O.IOS="IOS",O}({}),v=a.BrowserType=function(O){return O.Chrome="CHROME",O.InternetExplorer="IE",O.Firefox="FIREFOX",O.Safari="SAFARI",O.Opera="OPERA",O.Other="OTHER",O}({});const C=a.OperatingSystemIndexMap={[h.Windows]:0,[h.Mac]:1,[h.IOS]:2,[h.Linux]:3,[h.Android]:4,[h.WindowsPhone]:5};a.OperatingSystemTypeMap=(0,u.constructTypeMap)(C);const p=a.BrowserIndexMap={[v.Chrome]:0,[v.InternetExplorer]:1,[v.Firefox]:2,[v.Safari]:3,[v.Opera]:4,[v.Other]:5};a.BrowserTypeMap=(0,u.constructTypeMap)(p)}(gs)),gs}var ms={},uy;function bf(){return uy||(uy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.WAREHOUSE_AUDIENCE_KEY=a.SdkLanguageType=a.OFF_VARIATION_KEY=a.IN_HOLDOUT_VARIATION_KEY=a.DEFAULT_VISITOR_DATA_FILTERS=a.CACHE_ITEM_LIFETIME=a.CACHE_CLEANUP_TIMEOUT=void 0,a.OFF_VARIATION_KEY="off",a.WAREHOUSE_AUDIENCE_KEY="warehouseAudiences",a.CACHE_CLEANUP_TIMEOUT=10,a.CACHE_ITEM_LIFETIME=5,a.IN_HOLDOUT_VARIATION_KEY="in-holdout",a.SdkLanguageType=function(u){return u.ANDROID="ANDROID",u.IOS="IOS",u.JAVA="JAVA",u.CSHARP="CSHARP",u.NODEJS="NODEJS",u.PHP="PHP",u.RUBY="RUBY",u.GO="GO",u.FLUTTER="FLUTTER",u.REACT="REACT",u.PYTHON="PYTHON",u.JAVASCRIPT="JAVASCRIPT",u.RUST="RUST",u}({}),a.DEFAULT_VISITOR_DATA_FILTERS={previousVisitAmount:1,currentVisit:!0,customData:!0,pageViews:!1,geolocation:!1,device:!1,browser:!1,operatingSystem:!1,conversions:!1,experiments:!1,kcs:!1,visitorCode:!0,personalization:!1}}(ms)),ms}var ys={},ly;function ze(){return ly||(ly=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VisitorType=a.VersionMatchType=a.ValueMatchType=a.TargetingType=a.Operator=a.NameMatchType=a.MatchTypeVariation=a.MatchTypeTest=a.MatchType=a.CampaignType=void 0,a.Operator=function(u){return u.And="AND",u.Or="OR",u}({}),a.ValueMatchType=function(u){return u.TRUE="TRUE",u.FALSE="FALSE",u.EXACT="EXACT",u.CONTAINS="CONTAINS",u.REGULAR_EXPRESSION="REGULAR_EXPRESSION",u.EQUAL="EQUAL",u.LOWER="LOWER",u.GREATER="GREATER",u.UNDEFINED="UNDEFINED",u.AMONG_VALUES="AMONG_VALUES",u.RANGE="RANGE",u}({}),a.VisitorType=function(u){return u.NEW="NEW",u.RETURNING="RETURNING",u}({}),a.MatchTypeVariation=function(u){return u.ANY="ANY",u.EXACT="EXACT",u}({}),a.MatchTypeTest=function(u){return u.ALL="ALL",u.TEST="TEST",u.PERSO="PERSO",u}({}),a.CampaignType=function(u){return u.Experiment="EXPERIMENT",u.Personalization="PERSONALIZATION",u.Any="ANY",u}({}),a.MatchType=function(u){return u.EXACT="EXACT",u.CONTAINS="CONTAINS",u.REGULAR_EXPRESSION="REGULAR_EXPRESSION",u.GREATER="GREATER",u.EQUAL="EQUAL",u.LOWER="LOWER",u}({}),a.VersionMatchType=function(u){return u.GREATER="GREATER",u.EQUAL="EQUAL",u.LOWER="LOWER",u}({}),a.NameMatchType=function(u){return u.EXACT="EXACT",u.CONTAINS="CONTAINS",u.REGULAR_EXPRESSION="REGULAR_EXPRESSION",u.OPTIONAL="OPTIONAL",u}({}),a.TargetingType=function(u){return u.PAGE_URL="PAGE_URL",u.PAGE_TITLE="PAGE_TITLE",u.LANDING_PAGE="LANDING_PAGE",u.ORIGIN="ORIGIN",u.ORIGIN_TYPE="ORIGIN_TYPE",u.REFERRERS="REFERRERS",u.NEW_VISITORS="NEW_VISITORS",u.INTERESTS="INTERESTS",u.BROWSER_LANGUAGE="BROWSER_LANGUAGE",u.GEOLOCATION="GEOLOCATION",u.DEVICE_TYPE="DEVICE_TYPE",u.SCREEN_DIMENSION="SCREEN_DIMENSION",u.VISITOR_IP="VISITOR_IP",u.AD_BLOCKER="AD_BLOCKER",u.PREVIOUS_PAGE="PREVIOUS_PAGE",u.KEY_PAGES="KEY_PAGES",u.PAGE_VIEWS="PAGE_VIEWS",u.FIRST_VISIT="FIRST_VISIT",u.LAST_VISIT="LAST_VISIT",u.ACTIVE_SESSION="ACTIVE_SESSION",u.TIME_SINCE_PAGE_LOAD="TIME_SINCE_PAGE_LOAD",u.SAME_DAY_VISITS="SAME_DAY_VISITS",u.VISITS="VISITS",u.VISITS_BY_PAGE="VISITS_BY_PAGE",u.VISITOR_CODE="VISITOR_CODE",u.SDK_LANGUAGE="SDK_LANGUAGE",u.INTERNAL_SEARCH_KEYWORDS="INTERNAL_SEARCH_KEYWORDS",u.TABS_ON_SITE="TABS_ON_SITE",u.CONVERSION_PROBABILITY="CONVERSION_PROBABILITY",u.HEAT_SLICE="HEAT_SLICE",u.SKY_STATUS="SKY_STATUS",u.TEMPERATURE="TEMPERATURE",u.DAY_NIGHT="DAY_NIGHT",u.FORECAST_SKY_STATUS="FORECAST_SKY_STATUS",u.FORECAST_TEMPERATURE="FORECAST_TEMPERATURE",u.DAY_OF_WEEK="DAY_OF_WEEK",u.TIME_RANGE="TIME_RANGE",u.HOUR_MINUTE_RANGE="HOUR_MINUTE_RANGE",u.JS_CODE="JS_CODE",u.COOKIE="COOKIE",u.EVENT="EVENT",u.BROWSER="BROWSER",u.OPERATING_SYSTEM="OPERATING_SYSTEM",u.DOM_ELEMENT="DOM_ELEMENT",u.MOUSE_OUT="MOUSE_OUT",u.TARGET_EXPERIMENT="TARGET_EXPERIMENT",u.TARGET_FEATURE_FLAG="TARGET_FEATURE_FLAG",u.TARGET_PERSONALIZATION="TARGET_PERSONALIZATION",u.EXCLUSIVE_EXPERIMENT="EXCLUSIVE_EXPERIMENT",u.EXCLUSIVE_FEATURE_FLAG="EXCLUSIVE_FEATURE_FLAG",u.CONVERSIONS="CONVERSIONS",u.CUSTOM_DATUM="CUSTOM_DATUM",u.YSANCE_SEGMENT="YSANCE_SEGMENT",u.SEGMENT="SEGMENT",u.YSANCE_ATTRIBUT="YSANCE_ATTRIBUT",u.TEALIUM_BADGE="TEALIUM_BADGE",u.TEALIUM_AUDIENCE="TEALIUM_AUDIENCE",u.PRICE_OF_DISPLAYED_PAGE="PRICE_OF_DISPLAYED_PAGE",u.NUMBER_OF_VISITED_PAGES="NUMBER_OF_VISITED_PAGES",u.VISITED_PAGES="VISITED_PAGES",u.CUSTOM="CUSTOM",u.EXPLICIT_TRIGGER="EXPLICIT_TRIGGER",u.APPLICATION_VERSION="APPLICATION_VERSION",u}({})}(ys)),ys}var hs={},sy;function uo(){return sy||(sy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TimeUnit=a.Order=void 0,a.TimeUnit=function(u){return u.Minute="MINUTE",u.Hour="HOUR",u.Day="DAY",u.Week="WEEK",u.Month="MONTH",u}({}),a.Order=function(u){return u.Ascending="asc",u.Descending="desc",u}({})}(hs)),hs}var ps={},cy;function Tf(){return cy||(cy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SECRET_VISIBLE_LENGTH=a.REGEX_DOMAIN=a.NONCE_LENGTH=a.LOCALHOST=a.HTTPS=a.HTTP=a.HIDDEN_SECRET_CHAR=a.HEX_CHARACTERS=void 0,a.HEX_CHARACTERS="0123456789ABCDEF",a.NONCE_LENGTH=16,a.HTTP="http://",a.HTTPS="https://",a.LOCALHOST="localhost",a.REGEX_DOMAIN=/^(\.?(([a-zA-Z\d][a-zA-Z\d-]*[a-zA-Z\d])|[a-zA-Z\d]))(\.(([a-zA-Z\d][a-zA-Z\d-]*[a-zA-Z\d])|[a-zA-Z\d])){1,126}$/,a.HIDDEN_SECRET_CHAR="*",a.SECRET_VISIBLE_LENGTH=4}(ps)),ps}var bs={},fy;function _p(){return fy||(fy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Validator=void 0;var u=ve(),h=xe(),v=Tf(),C=_e();class p{static validateVersion(g){const f=g.split(".").map(o=>parseInt(o,10));for(;3>f.length;)f.push(0);return f.some(o=>isNaN(o))?(0,u.Err)(new h.KameleoonError(h.KameleoonException.SemanticVersionParse,g)):(0,u.Ok)(f.slice(0,3))}static validateDomain(g){return g?(g=p.checkAndTrimProtocol(g.toLowerCase()),v.REGEX_DOMAIN.test(g)||g===v.LOCALHOST||C.KameleoonLogger.error`The top-level domain ${g} is invalid. The value has been set as provided, but it does not meet the required format for proper SDK functionality. Please check the domain for correctness.`,(0,u.Ok)(g)):(0,u.Err)()}static validateNetworkDomain(g){return g?(g=p.checkAndTrimProtocol(g.toLowerCase()),g=g.replace(/^\.+|\.+$/g,""),v.REGEX_DOMAIN.test(g)||g===v.LOCALHOST?(0,u.Ok)(g):(C.KameleoonLogger.error`The network domain ${g} is invalid.`,(0,u.Err)())):(0,u.Err)()}static checkAndTrimProtocol(g){const f=[v.HTTP,v.HTTPS];for(const o of f)if(g.startsWith(o)){g=g.substring(o.length),C.KameleoonLogger.warning`The domain contains ${o}. Domain after protocol trimming: ${g}`;break}return g}}a.Validator=p}(bs)),bs}var dy;function Op(){return dy||(dy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Utilities=void 0;var u=ve(),h=xe(),v=Ae(),C=de(),p=bf(),O=ze(),g=uo(),f=Tf(),o=_p(),l=_e();function s(T,_){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(T);_&&(M=M.filter(function(A){return Object.getOwnPropertyDescriptor(T,A).enumerable})),D.push.apply(D,M)}return D}function d(T){for(var _,D=1;D<arguments.length;D++)_=arguments[D]==null?{}:arguments[D],D%2?s(Object(_),!0).forEach(function(M){m(T,M,_[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(M){Object.defineProperty(T,M,Object.getOwnPropertyDescriptor(_,M))});return T}function m(T,_,D){return(_=y(_))in T?Object.defineProperty(T,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):T[_]=D,T}function y(T){var _=S(T,"string");return typeof _=="symbol"?_:_+""}function S(T,_){if(typeof T!="object"||!T)return T;var D=T[Symbol.toPrimitive];if(D!==void 0){var M=D.call(T,_);if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(T)}class b{static getNonce(_){let D="";for(let M=0;M<f.NONCE_LENGTH;M++){const A=_.getRandomNumber(),N=Math.floor(A*f.NONCE_LENGTH);D+=f.HEX_CHARACTERS.charAt(N)}return D}static checkTargeting(_){let{segment:D,visitorCode:M,targetingData:A,experimentId:N,variationConfiguration:L,clientConfiguration:V,packageInfo:K,dataManager:j}=_;if(l.KameleoonLogger.debug`CALL: checkTargeting(segment, visitorCode: ${M}, targetingData: ${A}, experimentId: ${N}, variationConfiguration, clientConfiguration, packageInfo, dataManager)`,!D||!D.conditionsData.firstLevel.length){const J=(0,u.Ok)(!0);return l.KameleoonLogger.debug`RETURN checkTargeting(segment, visitorCode: ${M}, targetingData: ${A}, experimentId: ${N}, variationConfiguration, clientConfiguration, packageInfo, dataManager) -> (result: ${J})`,J}if(!L){const J=(0,u.Err)(new h.KameleoonError(h.KameleoonException.Initialization));return l.KameleoonLogger.debug`RETURN checkTargeting(segment, visitorCode: ${M}, targetingData: ${A}, experimentId: ${N}, variationConfiguration, clientConfiguration, packageInfo, dataManager) -> (result: ${J})`,J}let k={};const H=L.getStoredVariations(M);H.ok&&(k=H.data);const x=j.getTree(D);let ie,ee,q;x.hasTargetingType(O.TargetingType.SEGMENT)&&(ie=j.trees,q=V.segments),x.hasTargetingType(O.TargetingType.TARGET_FEATURE_FLAG)&&(ee=V.ruleMap);const Z=x.evaluate({variationData:k,sdkInfo:K,segments:q,ruleMap:ee,trees:ie,targetingData:A,experimentId:N,visitorCode:M});return l.KameleoonLogger.debug`RETURN checkTargeting(segment, visitorCode: ${M}, targetingData: ${A}, experimentId: ${N}, variationConfiguration, clientConfiguration, packageInfo, dataManager) -> (result: ${Z})`,Z}static convertTimeUnit(_,D){const M={[g.TimeUnit.Minute]:v.Milliseconds.Minute,[g.TimeUnit.Hour]:v.Milliseconds.Hour,[g.TimeUnit.Day]:v.Milliseconds.Day,[g.TimeUnit.Week]:v.Milliseconds.Week,[g.TimeUnit.Month]:v.Milliseconds.Month};return _/M[D]}static isCustomData(_){return _.data.type===C.KameleoonData.CustomData}static updateCache(_){let{hasJsCssVariables:D,cacheManager:M,visitorCode:A,experimentId:N,variationId:L}=_;const V=M.getAliveItem(A),K=V?d({},V):{};K[N]={variationId:L,hasJsCssVariables:D,expirationTime:Date.now()+p.CACHE_ITEM_LIFETIME*v.Milliseconds.Second},M.add({key:A,data:K,lifetime:p.CACHE_ITEM_LIFETIME})}static getTrackingCode(_,D){let M="window.kameleoonQueue=window.kameleoonQueue||[];";const A=_.getAliveItem(D);if(!A)return M;const N={};return Object.entries(A).forEach(L=>{let[V,{variationId:K,expirationTime:j,hasJsCssVariables:k}]=L;j>Date.now()&&(M+=`window.kameleoonQueue.push(['Experiments.assignVariation',${V},${K},true]);`,M+=`window.kameleoonQueue.push(['Experiments.trigger',${V},${!k}]);`,N[+V]={variationId:K,expirationTime:j,hasJsCssVariables:k})}),_.add({key:D,data:N,lifetime:p.CACHE_ITEM_LIFETIME}),M}static compareSemVer(_){let{version:D,compareVersion:M,operator:A}=_;const N=o.Validator.validateVersion(D),L=o.Validator.validateVersion(M);if(!N.ok)return(0,u.Err)(N.error);if(!L.ok)return(0,u.Err)(L.error);const[V,K,j]=N.data,[k,H,x]=L.data,[ie,ee,q]=[V===k,K===H,j===x];switch(A){case O.VersionMatchType.EQUAL:return(0,u.Ok)(ie&&ee&&q);case O.VersionMatchType.GREATER:return(0,u.Ok)(V>k||ie&&K>H||ie&&ee&&j>x);case O.VersionMatchType.LOWER:return(0,u.Ok)(V<k||ie&&K<H||ie&&ee&&j<x);default:l.KameleoonLogger.error`Unknown version match type: ${A}`,(0,h.exhaustCheck)(A)}}static getVariationByHash(_,D){let M=0;for(const A of _)if(M+=A.exposition,M>=D)return A;return null}}a.Utilities=b}(ds)),ds}var Ts={},gy;function Ef(){return gy||(gy=1,function(a){var u=uo();Object.defineProperty(a,"__esModule",{value:!0}),a.ListUtilities=void 0;class h{static insertInOrderedListMutably(C){let{list:p,element:O,order:g}=C;if(!p.includes(O)){const f=p.findIndex(o=>g===u.Order.Ascending?o>=O:o<=O);f===-1?p.push(O):p.splice(f,0,O)}}}a.ListUtilities=h}(Ts)),Ts}var Es={},Cs={},Ss={},vy;function Cf(){return vy||(vy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PageView=void 0;var u=Vt(),h=de(),v=Ae();function C(l,s){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(l);s&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(l,y).enumerable})),d.push.apply(d,m)}return d}function p(l){for(var s,d=1;d<arguments.length;d++)s=arguments[d]==null?{}:arguments[d],d%2?C(Object(s),!0).forEach(function(m){O(l,m,s[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(m){Object.defineProperty(l,m,Object.getOwnPropertyDescriptor(s,m))});return l}function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){let{urlAddress:d,title:m,referrers:y}=s;O(this,"timestamps",void 0),O(this,"urlAddress",void 0),O(this,"title",void 0),O(this,"nonce",void 0),O(this,"referrers",void 0),this.urlAddress=d,this.title=m,this.referrers=y,this.timestamps=[{time:Date.now(),status:v.TrackingStatus.Unsent}]}get url(){var s;if(!this.urlAddress)return"";const d=this.title?u.UrlParameter.Title+encodeURIComponent(this.title):"",m=(s=this.referrers)!==null&&s!==void 0&&s.length?u.UrlParameter.ReferrersIndices+JSON.stringify(this.referrers):"";return u.UrlEventType.Page+u.UrlParameter.Href+encodeURIComponent(this.urlAddress)+d+m}get status(){const{[v.TrackingStatus.Sent]:s,[v.TrackingStatus.Unsent]:d,[v.TrackingStatus.Pending]:m}=this.timestamps.reduce((y,S)=>{let{status:b}=S;return y[b]=!0,y},{[v.TrackingStatus.Sent]:!1,[v.TrackingStatus.Unsent]:!1,[v.TrackingStatus.Pending]:!1});return!s||d||m?m&&!d?v.TrackingStatus.Pending:v.TrackingStatus.Unsent:v.TrackingStatus.Sent}set status(s){this.timestamps=this.timestamps.map(d=>p(p({},d),{},{status:s}))}set _nonce(s){this.nonce=s}get data(){return{urlAddress:this.urlAddress,title:this.title,referrers:this.referrers,type:h.KameleoonData.PageView,timestamps:this.timestamps,status:this.status,nonce:this.nonce}}static _fromRaw(s){const{urlAddress:d,title:m,referrers:y,timestamps:S,nonce:b}=s,T=new o({urlAddress:d,title:m,referrers:y});return T.timestamps=S,b&&(T._nonce=b),T}static _updateFromVisit(s,d){const m=s.pageEvents;if(m)for(const y of m){let S=[];const{time:b}=y,{href:T,title:_,referrersIndices:D}=y.data;typeof D[0]=="number"&&(S=D);let M;if(d.has(T)){const A=d.get(T).timestamps;M=new o({urlAddress:T,title:_,referrers:S}),M.timestamps=[...A,{time:b,status:v.TrackingStatus.Sent}]}else M=new o({urlAddress:T,title:_,referrers:S}),M.timestamps=[{time:b,status:v.TrackingStatus.Sent}];d.set(T,M)}}}a.PageView=o}(Ss)),Ss}var _s={},my;function lo(){return my||(my=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.CustomData=void 0;var u=Vt(),h=de(),v=Ae();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o){C(this,"_status",void 0),C(this,"index",void 0),C(this,"value",void 0),C(this,"isIdentifier",void 0),this.index=o;for(var l=arguments.length,s=Array(1<l?l-1:0),d=1;d<l;d++)s[d-1]=arguments[d];this.value=s,this._status=v.TrackingStatus.Unsent,this.isIdentifier=!1}get url(){if(typeof this.index!="number")return"";const o=[...new Set(this.value)];let l={};o.forEach(d=>{l[d]=1});let s="";return this.isIdentifier&&(s=u.UrlParameter.MappingIdentifier+"true"),u.UrlEventType.CustomData+u.UrlParameter.Index+this.index+u.UrlParameter.ValuesCountMap+encodeURIComponent(JSON.stringify(l))+u.UrlParameter.Overwrite+"true"+s}get data(){return{index:this.index,value:this.value,type:h.KameleoonData.CustomData,isIdentifier:this.isIdentifier,status:this.status}}get status(){return this._isMappingIdentifier?v.TrackingStatus.Unsent:this._status}static _fromRaw(o){const{index:l,value:s,status:d,isIdentifier:m}=o,y=new g(l,...s);return y.status=d,y._isMappingIdentifier=m,y}set _isMappingIdentifier(o){this.isIdentifier=o}set status(o){this._status=o}static _updateFromVisit(o,l){var s;if((s=o.customDataEvents)!==null&&s!==void 0&&s.length)for(let d=o.customDataEvents.length-1;0<=d;d--){const{index:m,valuesCountMap:y}=o.customDataEvents[d].data;l.has(m)||l.set(m,new g(m,...Object.keys(y)))}}}a.CustomData=g}(_s)),_s}var Os={},yy;function Sf(){return yy||(yy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Conversion=void 0;var u=Vt(),h=de(),v=Ae(),C=lo();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l){let{goalId:s,revenue:d=0,negative:m=!1,metadata:y}=l;p(this,"status",void 0),p(this,"goalId",void 0),p(this,"revenue",void 0),p(this,"negative",void 0),p(this,"id",void 0),p(this,"nonce",void 0),p(this,"metadata",void 0),this.goalId=s,this.revenue=d,this.negative=m,this.status=v.TrackingStatus.Unsent,this.id=Math.floor(1e6*Math.random()),this.metadata=y}set _id(l){this.id=l}set _nonce(l){this.nonce=l}get url(){var l;return u.UrlEventType.Conversion+u.UrlParameter.GoalId+(this.goalId+"")+u.UrlParameter.Revenue+(this.revenue+"")+u.UrlParameter.Negative+(this.negative+"")+((l=this.metadata)!==null&&l!==void 0&&l.length?u.UrlParameter.Metadata+this._encodeMetadata():"")}get data(){var l;return{goalId:this.goalId,nonce:this.nonce,revenue:this.revenue,negative:this.negative,type:h.KameleoonData.Conversion,status:this.status,id:this.id,metadata:((l=this.metadata)===null||l===void 0?void 0:l.map(s=>s.data))||void 0}}_encodeMetadata(){var l;if(!((l=this.metadata)!==null&&l!==void 0&&l.length))return"";const s=new Set;return encodeURIComponent(JSON.stringify(this.metadata.reduce((d,m)=>(s.has(m.data.index)||(s.add(m.data.index),d[m.data.index]=m.data.value),d),{})))}static _fromRaw(l){const{goalId:s,revenue:d,negative:m,status:y,id:S,nonce:b,metadata:T}=l,_=new f({goalId:s,revenue:d,negative:m,metadata:f.parseMetadata(T)});return _._id=S,_.status=y,b&&(_._nonce=b),_}static parseMetadata(l){return(l==null?void 0:l.map(s=>C.CustomData._fromRaw(s)))||void 0}static _listFromVisit(l){var s,d;const m=[];if(!((s=l.conversionEvents)!==null&&s!==void 0&&s.length))return[];if((d=l.conversionEvents)!==null&&d!==void 0&&d.length)for(const y of l.conversionEvents){const{goalId:S,revenue:b,negative:T}=y.data,_=new f({goalId:S,revenue:b,negative:T});_.status=v.TrackingStatus.Sent,m.push(_)}return m}static _updateFromVisit(l,s){var d;if((d=l.conversionEvents)!==null&&d!==void 0&&d.length)for(const m of l.conversionEvents){const{goalId:y}=m.data;if(!s.has(y)){const S=new f({goalId:y});S.status=v.TrackingStatus.Sent,s.set(y,S)}}}}a.Conversion=f}(Os)),Os}var Ds={},hy;function _f(){return hy||(hy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Browser=void 0;var u=Vt(),h=de(),v=Ae();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o,l){C(this,"status",void 0),C(this,"browser",void 0),C(this,"version",void 0),this.browser=o,this.version=l,this.status=v.TrackingStatus.Unsent}get url(){if(!this.browser)return"";const o=this.version?u.UrlParameter.BrowserVersion+this.version:"";return u.UrlEventType.StaticData+u.UrlParameter.Browser+this.browser+u.UrlParameter.BrowserIndex+h.BrowserIndexMap[this.browser]+o}get data(){return{browser:this.browser,type:h.KameleoonData.Browser,version:this.version,status:this.status}}static _fromRaw(o){const{browser:l,version:s,status:d}=o,m=new g(l,s);return m.status=d,m}static _fromVisit(o){if(o.staticDataEvent){const{browser:l,browserIndex:s,browserVersion:d}=o.staticDataEvent.data;if(l||typeof s=="number"){const m=l??h.BrowserTypeMap[s];return d?new g(m,d):new g(m)}}}}a.Browser=g}(Ds)),Ds}var Rs={},py;function Of(){return py||(py=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Device=void 0;var u=Vt(),h=de(),v=Ae();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o){C(this,"status",void 0),C(this,"device",void 0),this.device=o,this.status=v.TrackingStatus.Unsent}get url(){return this.device?u.UrlEventType.StaticData+u.UrlParameter.DeviceType+this.device:""}get data(){return{device:this.device,type:h.KameleoonData.Device,status:this.status}}static _fromRaw(o){const{device:l,status:s}=o,d=new g(l);return d.status=s,d}static _fromVisit(o){var l;return(l=o.staticDataEvent)!==null&&l!==void 0&&l.data.deviceType?new g(o.staticDataEvent.data.deviceType):void 0}}a.Device=g}(Rs)),Rs}var Ms={},by;function Df(){return by||(by=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.OperatingSystem=void 0;var u=Vt(),h=de(),v=Ae();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o){C(this,"operatingSystem",void 0),C(this,"status",void 0),this.operatingSystem=o,this.status=v.TrackingStatus.Unsent}get url(){return this.operatingSystem?u.UrlEventType.StaticData+u.UrlParameter.Os+this.operatingSystem+u.UrlParameter.OsIndex+h.OperatingSystemIndexMap[this.operatingSystem]:""}get data(){return{operatingSystem:this.operatingSystem,type:h.KameleoonData.OperatingSystem,status:this.status}}static _fromRaw(o){const{operatingSystem:l,status:s}=o,d=new g(l);return d.status=s,d}static _fromVisit(o){if(o.staticDataEvent){const{os:l,osIndex:s}=o.staticDataEvent.data;if(l||typeof s=="number"){const d=l??h.OperatingSystemTypeMap[s];return new g(d)}}}}a.OperatingSystem=g}(Ms)),Ms}var Vs={},Ty;function Rf(){return Ty||(Ty=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.GeolocationData=void 0;var u=Vt(),h=de(),v=Ae();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o){let{country:l,region:s,city:d,postalCode:m,coordinates:y}=o;C(this,"status",void 0),C(this,"country",void 0),C(this,"region",void 0),C(this,"city",void 0),C(this,"postalCode",void 0),C(this,"coordinates",void 0),this.country=l,this.region=s,this.city=d,this.postalCode=m,this.coordinates=y,this.status=v.TrackingStatus.Unsent}get url(){const o=this.region?u.UrlParameter.Region+encodeURIComponent(this.region):"",l=this.city?u.UrlParameter.City+encodeURIComponent(this.city):"",s=this.postalCode?u.UrlParameter.PostalCode+encodeURIComponent(this.postalCode):"",d=this.coordinates?u.UrlParameter.Latitude+this.coordinates[0]+u.UrlParameter.Longitude+this.coordinates[1]:"";return u.UrlEventType.Geolocation+u.UrlParameter.Country+encodeURIComponent(this.country)+o+l+s+d}get data(){return{type:h.KameleoonData.GeolocationData,country:this.country,region:this.region,city:this.city,postalCode:this.postalCode,coordinates:this.coordinates,status:this.status}}static _fromRaw(o){const{country:l,region:s,city:d,postalCode:m,coordinates:y,status:S}=o,b=new g({country:l,region:s,city:d,postalCode:m,coordinates:y});return b.status=S,b}static _fromVisit(o){var l;if(!((l=o.geolocationEvents)!==null&&l!==void 0&&l.length))return;let s;for(const S of o.geolocationEvents){const{data:b}=S;b.country&&(s=b)}const{country:d,region:m,city:y}=s||{};if(d)return m&&y?new g({country:d,region:m,city:y}):m?new g({country:d,region:m}):new g({country:d})}}a.GeolocationData=g}(Vs)),Vs}var Ks={},Ey;function Mf(){return Ey||(Ey=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VisitsData=void 0;var u=Ef(),h=uo(),v=de(),C=Ae();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l){p(this,"visits",void 0),p(this,"status",C.TrackingStatus.Sent),this.visits=l}get url(){return""}get data(){return{visits:this.visits,type:v.KameleoonData.VisitsData,status:this.status}}get isSent(){return!0}set timestamp(l){u.ListUtilities.insertInOrderedListMutably({list:this.visits,element:l,order:h.Order.Ascending}),this.visits=[...new Set(this.visits)]}}a.VisitsData=f}(Ks)),Ks}var As={},Cy;function Dp(){return Cy||(Cy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonConversionScore=void 0;var u=de(),h=Ae();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){v(this,"status",void 0),v(this,"kcs",void 0),this.kcs=f,this.status=h.TrackingStatus.Sent}get url(){return""}get data(){return{kcs:this.kcs,type:u.KameleoonData.KameleoonConversionScore,status:this.status}}}a.KameleoonConversionScore=O}(As)),As}var Ps={},Sy;function i0(){return Sy||(Sy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Personalization=void 0;var u=Ae(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f,o){v(this,"status",void 0),v(this,"id",void 0),v(this,"variationId",void 0),this.id=f,this.variationId=o,this.status=u.TrackingStatus.Sent}get url(){return""}get data(){return{id:this.id,variationId:this.variationId,type:h.KameleoonData.Personalization,status:u.TrackingStatus.Sent}}static _fromRaw(f){return new O(f.id,f.variationId)}static _updateFromVisit(f,o){var l;if((l=f.personalizationEvents)!==null&&l!==void 0&&l.length)for(const s of f.personalizationEvents){const{id:d,variationId:m}=s.data;if(!o.has(d)){const y=new O(d,m);o.set(d,y)}}}}a.Personalization=O}(Ps)),Ps}var js={},_y;function Rp(){return _y||(_y=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.CBScores=void 0;var u=de(),h=Ae();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){v(this,"status",void 0),v(this,"values",void 0),v(this,"cbs",void 0),this.values=new Map(Object.entries(f).map(o=>{let[l,s]=o;return[+l,this.extractVarIds(s)]})),this.cbs=f,this.status=h.TrackingStatus.Sent}extractVarIds(f){const o=new Map;return Object.entries(f).forEach(l=>{let[s,d]=l;o.has(d)||o.set(d,[]),o.get(d).push(+s)}),Array.from(o.entries()).sort((l,s)=>{let[d]=l,[m]=s;return m-d}).map(l=>{let[,s]=l;return{ids:s.sort((d,m)=>d-m)}})}getValues(){return this.values}get url(){return""}get data(){return{cbs:this.cbs,type:u.KameleoonData.CBScores,status:this.status}}static _fromRaw(f){const o=new O(f.cbs);return o.status=f.status,o}}a.CBScores=O}(js)),js}var Oy;function n0(){return Oy||(Oy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VisitProcessor=void 0;var u=Cf(),h=de(),v=lo(),C=Sf(),p=_f(),O=Of(),g=Df(),f=Rf(),o=Mf(),l=Dp(),s=Ae(),d=i0(),m=Rp();function y(_,D,M){return(D=S(D))in _?Object.defineProperty(_,D,{value:M,enumerable:!0,configurable:!0,writable:!0}):_[D]=M,_}function S(_){var D=b(_,"string");return typeof D=="symbol"?D:D+""}function b(_,D){if(typeof _!="object"||!_)return _;var M=_[Symbol.toPrimitive];if(M!==void 0){var A=M.call(_,D);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(_)}class T{constructor(D){let{filters:M,dataManager:A,visitorCode:N}=D;y(this,"visitsData",new o.VisitsData([])),y(this,"visitorData",[]),y(this,"storageVisitorData",[]),y(this,"experimentData",{}),y(this,"filters",void 0),y(this,"visitorDataTypes",void 0),y(this,"dataManager",void 0),y(this,"singleDataTypes",{[h.KameleoonData.Device]:null,[h.KameleoonData.Browser]:null,[h.KameleoonData.GeolocationData]:null,[h.KameleoonData.OperatingSystem]:null,[h.KameleoonData.KameleoonConversionScore]:null,[h.KameleoonData.CBScores]:null}),y(this,"multipleDataTypes",{[h.KameleoonData.CustomData]:new Map,[h.KameleoonData.PageView]:new Map,[h.KameleoonData.Conversion]:new Map,[h.KameleoonData.Personalization]:new Map}),this.filters=M,this.dataManager=A,this.visitorDataTypes=A.getVisitorStoredDataTypes(N)}get data(){return{visitorData:this.visitorData,storageVisitorData:this.storageVisitorData,visitsData:this.visitsData,experimentData:this.experimentData}}processVisit(D){this.processBrowser(D),this.processDevice(D),this.processOperatingSystem(D),this.processGeolocationData(D),this.processCustomData(D),this.processConversion(D),this.processPageView(D),this.processExperiments(D),this.processPersonalization(D)}processMultipleDataTypes(){for(const[D,M]of Object.entries(this.multipleDataTypes))if(M.size)switch(D){case h.KameleoonData.PageView:{this.visitorData.push(...M.values()),this.storageVisitorData.push(...M.values());break}case h.KameleoonData.Personalization:case h.KameleoonData.Conversion:{this.storageVisitorData.push(...M.values());break}case h.KameleoonData.CustomData:{M.forEach(A=>{this.visitorData.push(A),this.dataManager.storedCustomDataIndexes.has(A.data.index)||this.storageVisitorData.push(A)});break}}}processKcs(D){if(this.filters.kcs&&D){const M=new l.KameleoonConversionScore(D);this.storageVisitorData.push(M)}}processVisitsData(D){this.visitsData.timestamp=D.timeStarted}processCbs(D){if(this.filters.cbs&&D){const M=new m.CBScores(D);this.storageVisitorData.push(M)}}processBrowser(D){if(this.filters.browser&&!this.singleDataTypes[h.KameleoonData.Browser]){const M=p.Browser._fromVisit(D);M&&(!this.visitorDataTypes.has(h.KameleoonData.Browser)&&this.storageVisitorData.push(M),this.visitorData.push(M),this.singleDataTypes[h.KameleoonData.Browser]=M)}}processDevice(D){if(this.filters.device&&!this.singleDataTypes[h.KameleoonData.Device]){const M=O.Device._fromVisit(D);M&&(!this.visitorDataTypes.has(h.KameleoonData.Device)&&this.storageVisitorData.push(M),this.visitorData.push(M),this.singleDataTypes[h.KameleoonData.Device]=M)}}processOperatingSystem(D){if(this.filters.operatingSystem&&!this.singleDataTypes[h.KameleoonData.OperatingSystem]){const M=g.OperatingSystem._fromVisit(D);M&&(!this.visitorDataTypes.has(h.KameleoonData.OperatingSystem)&&this.storageVisitorData.push(M),this.visitorData.push(M),this.singleDataTypes[h.KameleoonData.OperatingSystem]=M)}}processGeolocationData(D){if(this.filters.geolocation&&!this.singleDataTypes[h.KameleoonData.GeolocationData]){const M=f.GeolocationData._fromVisit(D);M&&(!this.visitorDataTypes.has(h.KameleoonData.GeolocationData)&&this.storageVisitorData.push(M),this.visitorData.push(M),this.singleDataTypes[h.KameleoonData.GeolocationData]=M)}}processCustomData(D){this.filters.customData&&v.CustomData._updateFromVisit(D,this.multipleDataTypes[h.KameleoonData.CustomData])}processConversion(D){if(this.filters.conversions){C.Conversion._updateFromVisit(D,this.multipleDataTypes[h.KameleoonData.Conversion]);const M=C.Conversion._listFromVisit(D);M.length&&this.visitorData.push(...M)}}processPageView(D){this.filters.pageViews&&u.PageView._updateFromVisit(D,this.multipleDataTypes[h.KameleoonData.PageView])}processExperiments(D){if(this.filters.experiments&&D.experimentEvents)for(const M of D.experimentEvents){const{id:A,variationId:N}=M.data;this.experimentData[A]={variationId:N,isTargetedRule:!1,status:s.TrackingStatus.Unsent}}}processPersonalization(D){this.filters.personalization&&d.Personalization._updateFromVisit(D,this.multipleDataTypes[h.KameleoonData.Personalization])}processMappingIdentifier(D){var M,A;if(D){const N=(M=D.customDataEvents)===null||M===void 0||(A=M.find(L=>L.data.mappingIdentifier))===null||A===void 0?void 0:A.time;if(N&&D.visitorCode)return{mappingIdentifier:D.visitorCode,timestamp:N}}}}a.VisitProcessor=T}(Cs)),Cs}var Dy;function Mp(){return Dy||(Dy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Parser=void 0;var u=ve(),h=xe(),v=Ae(),C=n0(),p=Tf(),O=Mf();class g{static parseFeatureVariable(o){const{key:l,type:s,value:d}=o;switch(s){case v.VariableType.BOOLEAN:return(0,u.Ok)({key:l,type:s,value:!!d});case v.VariableType.JS:case v.VariableType.CSS:case v.VariableType.STRING:return(0,u.Ok)({key:l,type:s,value:d+""});case v.VariableType.NUMBER:const m=+d;return Number.isNaN(m)?(0,u.Err)(new h.KameleoonError(h.KameleoonException.NumberParse,d+"")):(0,u.Ok)({key:l,type:s,value:m});case v.VariableType.JSON:try{const y=JSON.parse(o.value+"");return(0,u.Ok)({key:l,type:s,value:y})}catch(y){return(0,u.Err)(new h.KameleoonError(h.KameleoonException.JSONParse,y))}default:(0,h.exhaustCheck)(s)}}static parseVisitorData(o){let{data:l,filters:s,visitorCode:d,dataManager:m,variationConfiguration:y}=o;const S=new C.VisitProcessor({filters:s,dataManager:m,visitorCode:d}),{currentVisit:b,previousVisits:T,kcs:_,cbs:D}=l;if(!(T!=null&&T.length)&&!b)return{visitorData:[],storageVisitorData:[],visitsData:new O.VisitsData([])};b&&S.processVisit(b),T==null||T.forEach(K=>{S.processVisit(K),S.processVisitsData(K)}),S.processKcs(_),S.processCbs(D),S.processMultipleDataTypes();const M=S.processMappingIdentifier(b??(T==null?void 0:T[0])),{visitorData:A,storageVisitorData:N,visitsData:L,experimentData:V}=S.data;return y.updateStoredVariations(d,V),{visitorData:A,storageVisitorData:N,visitsData:L,mappingIdentifier:M}}static parseRegExp(o){if(o[0]==="/"){const[l,s,d]=o.split("/");return new RegExp(s,d)}return new RegExp(o)}static parseSecret(o){if(o===null)return"null";const l=o.length;if(l<=p.SECRET_VISIBLE_LENGTH)return p.HIDDEN_SECRET_CHAR.repeat(l);const s=Math.max(l-p.SECRET_VISIBLE_LENGTH,p.SECRET_VISIBLE_LENGTH);return o.substring(0,l-s)+p.HIDDEN_SECRET_CHAR.repeat(s)}}a.Parser=g}(Es)),Es}var Ry;function tt(){return Ry||(Ry=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"IExternalPRNG",{enumerable:!0,get:function(){return p.IExternalPRNG}}),Object.defineProperty(a,"ListUtilities",{enumerable:!0,get:function(){return h.ListUtilities}}),Object.defineProperty(a,"Order",{enumerable:!0,get:function(){return p.Order}}),Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return v.Parser}}),Object.defineProperty(a,"TimeUnit",{enumerable:!0,get:function(){return p.TimeUnit}}),Object.defineProperty(a,"Utilities",{enumerable:!0,get:function(){return u.Utilities}}),Object.defineProperty(a,"Validator",{enumerable:!0,get:function(){return C.Validator}}),Object.defineProperty(a,"VisitorDataFiltersType",{enumerable:!0,get:function(){return p.VisitorDataFiltersType}});var u=Op(),h=Ef(),v=Mp(),C=_p(),p=uo()}(fs)),fs}var My;function r0(){return My||(My=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ClientSettings=void 0;var u=Ae(),h=hf(),v=_e(),C=tt();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l,s){p(this,"updateInterval",void 0),p(this,"environment",void 0),p(this,"networkDomain",void 0),p(this,"requestTimeout",void 0),p(this,"siteCode",void 0),p(this,"cleanupInterval",void 0),p(this,"trackRetryDelay",void 0),p(this,"trackingInterval",void 0),v.KameleoonLogger.debug`CALL: new ClientSettings(siteCode: ${l}, configuration: ${s})`,this.siteCode=l,this.environment=this.getEnvironment(s),this.networkDomain=this.getNetworkDomain(s),this.updateInterval=this.getUpdateInterval(s),this.cleanupInterval=this.getCleanupInterval(s),this.requestTimeout=this.getRequestTimeout(s),this.trackingInterval=this.getTrackingInterval(s),this.trackRetryDelay=5*u.Milliseconds.Second,v.KameleoonLogger.debug`RETURN: new ClientSettings(siteCode: ${l}, configuration: ${s})`}getTrackingInterval(l){return typeof(l==null?void 0:l.trackingInterval)=="number"?100>l.trackingInterval?(v.KameleoonLogger.warning("Tracking interval must not be shorter than 100 ms. Minimum possible interval was applied."),100):1e3<l.trackingInterval?(v.KameleoonLogger.warning("Tracking interval must not be longer than 1000 ms. Maximum possible interval was applied."),1e3):l.trackingInterval:1e3}getEnvironment(l){return l!=null&&l.environment?l.environment:h.Environment.Production}getCleanupInterval(l){return typeof(l==null?void 0:l.targetingDataCleanupInterval)=="number"?1>l.targetingDataCleanupInterval?(v.KameleoonLogger.warning("Targeting data cleanup interval must not be shorter than 1 minute. Minimum possible interval was applied."),1*u.Milliseconds.Minute):l.targetingDataCleanupInterval*u.Milliseconds.Minute:null}getUpdateInterval(l){return typeof(l==null?void 0:l.updateInterval)=="number"?1>l.updateInterval?(v.KameleoonLogger.warning("Update interval must not be shorter than 1 minute. Minimum possible interval was applied."),1*u.Milliseconds.Minute):l.updateInterval*u.Milliseconds.Minute:60*u.Milliseconds.Minute}getNetworkDomain(l){const s=C.Validator.validateNetworkDomain(l==null?void 0:l.networkDomain);return s.ok?s.data:null}getRequestTimeout(l){return typeof(l==null?void 0:l.requestTimeout)=="number"?l.requestTimeout:10*u.Milliseconds.Second}get settings(){return{trackingInterval:this.trackingInterval,trackRetryDelay:this.trackRetryDelay,cleanupInterval:this.cleanupInterval,updateInterval:this.updateInterval,requestTimeout:this.requestTimeout,networkDomain:this.networkDomain,environment:this.environment,siteCode:this.siteCode}}}a.ClientSettings=f}(cs)),cs}var Us={},Vy;function a0(){return Vy||(Vy=1,Object.defineProperty(Us,"__esModule",{value:!0})),Us}var Ky;function o0(){return Ky||(Ky=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ClientSettings",{enumerable:!0,get:function(){return u.ClientSettings}}),Object.defineProperty(a,"ClientSettingsType",{enumerable:!0,get:function(){return h.ClientSettingsType}});var u=r0(),h=a0()}(ss)),ss}var ws={},Ns={},Ay;function Vp(){return Ay||(Ay=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Cookie=void 0;var u=xe(),h=de(),v=Ae();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o){C(this,"status",void 0),C(this,"cookie",void 0),this.cookie=o,this.status=v.TrackingStatus.Sent}static fromString(o){if(!o)throw new u.KameleoonError(u.KameleoonException.CookieParse,"Cookie string can't be empty");const l=o.split(";"),s=l.map(d=>{const[m,y]=d.trim().split("=");if(!m||!y)throw new u.KameleoonError(u.KameleoonException.CookieParse,"Cookie string is not valid");return{key:m,value:y}});return new g(s)}get url(){return""}get data(){return{cookie:this.cookie,type:h.KameleoonData.Cookie,status:this.status}}}a.Cookie=g}(Ns)),Ns}var ks={},Py;function u0(){return Py||(Py=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.UserAgent=void 0;var u=de(),h=Ae();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){v(this,"status",void 0),v(this,"value",void 0),this.value=f,this.status=h.TrackingStatus.Sent}get url(){return""}get data(){return{value:this.value,type:u.KameleoonData.UserAgent,status:this.status}}}a.UserAgent=O}(ks)),ks}var Ls={},jy;function l0(){return jy||(jy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.UniqueIdentifier=void 0;var u=Ae(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){v(this,"status",void 0),v(this,"_value",void 0),this._value=f,this.status=u.TrackingStatus.Sent}get url(){return""}get data(){return{value:this._value,type:h.KameleoonData.UniqueIdentifier,status:u.TrackingStatus.Sent}}static _fromRaw(f){return new O(f.value)}}a.UniqueIdentifier=O}(Ls)),Ls}var Is={},Uy;function s0(){return Uy||(Uy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ApplicationVersion=void 0;var u=Ae(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){v(this,"status",void 0),v(this,"version",void 0),this.version=f,this.status=u.TrackingStatus.Sent}get url(){return""}get data(){return{version:this.version,type:h.KameleoonData.ApplicationVersion,status:this.status}}}a.ApplicationVersion=O}(Is)),Is}var qs={},zs={},$s={},Fs={},Gs={},wy;function Kp(){return wy||(wy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ConditionFactoryInstance=void 0;function u(p,O,g){return(O=h(O))in p?Object.defineProperty(p,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[O]=g,p}function h(p){var O=v(p,"string");return typeof O=="symbol"?O:O+""}function v(p,O){if(typeof p!="object"||!p)return p;var g=p[Symbol.toPrimitive];if(g!==void 0){var f=g.call(p,O);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(p)}class C{static setConditionFactoryInstance(O){this.conditionFactoryInstance=O}static createCondition(O){return this.conditionFactoryInstance.createCondition(O)}}a.ConditionFactoryInstance=C,u(C,"conditionFactoryInstance",void 0)}(Gs)),Gs}var Ny;function c0(){return Ny||(Ny=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Node=void 0;var u=ze(),h=Kp();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f,o,l){if(v(this,"nodeValue",void 0),v(this,"nodeError",void 0),v(this,"leftChild",void 0),v(this,"rightChild",void 0),v(this,"inverseResult",!1),this.isOperator(f))this.nodeValue=f;else{var s;const d=h.ConditionFactoryInstance.createCondition(f);this.inverseResult=(s=f.isInclude)!==null&&s!==void 0&&!s,d.ok?this.nodeValue=d.data:this.nodeError=d.error}this.leftChild=o,this.rightChild=l}get value(){return this.nodeValue}get error(){return this.nodeError}get left(){return this.leftChild}get right(){return this.rightChild}get inverse(){return this.inverseResult}isOperator(f){return f===u.Operator.And||f===u.Operator.Or}}a.Node=O}(Fs)),Fs}var ky;function Ap(){return ky||(ky=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Tree=void 0;var u=ve(),h=xe(),v=c0(),C=ze(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){O(this,"tree",void 0),O(this,"error",null),O(this,"targetingTypes",new Set),p.KameleoonLogger.debug`CALL: new Tree(segment: ${s})`;const{nestedConditions:d,topLevelOperators:m}=this.flattenSegment(s),y=d.map(S=>{let{conditions:b,operators:T}=S;const _=b.map(D=>(this.targetingTypes.add(D.targetingType),new v.Node(D)));return this.buildTree(_,T)});this.tree=this.buildTree(y,m),p.KameleoonLogger.debug`RETURN: new Tree(segment: ${s})`}evaluate(s){const d=this.evaluateNode(this.tree,s);return this.error?(0,u.Err)(this.error):(0,u.Ok)(d)}hasTargetingType(s){return this.targetingTypes.has(s)}evaluateNode(s,d){if(this.isLeafNode(s)){if(s.error)return s.error.type===h.KameleoonException.TargetingCondition;const m=s.value.evaluate(d);return m.ok?s.inverse?!m.data:m.data:(this.error=m.error,!1)}if(this.isNonLeafNode(s))switch(s.value){case C.Operator.And:return this.evaluateNode(s.left,d)&&this.evaluateNode(s.right,d);case C.Operator.Or:return this.evaluateNode(s.left,d)||this.evaluateNode(s.right,d)}return!1}isLeafNode(s){return!(s.left&&s.right)}isNonLeafNode(s){return!!(s.left&&s.right&&(s.value===C.Operator.Or||s.value===C.Operator.And))}buildTree(s,d){if(s.length===1)return s[0];for(const m of d){const y=s.shift(),S=s.shift(),b=new v.Node(m,y,S);s.unshift(b)}return s[0]}flattenSegment(s){const{firstLevel:d,firstLevelOrOperators:m}=s.conditionsData,y=[];return d.forEach(S=>{const{conditions:b,orOperators:T}=S,_={operators:this.convertOperators(T),conditions:b};y.push(_)}),{topLevelOperators:this.convertOperators(m),nestedConditions:y}}convertOperators(s){return s.map(d=>d?C.Operator.Or:C.Operator.And)}}a.Tree=o}($s)),$s}var Hs={},Bs={},Ly;function Pp(){return Ly||(Ly=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Device=void 0;var u=ve(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{device:o}=f;v(this,"device",void 0),this.device=o}evaluate(f){let{targetingData:o}=f;const l=o==null?void 0:o[h.KameleoonData.Device];if(l){const{device:s}=l;return(0,u.Ok)(s===this.device)}return(0,u.Ok)(!1)}}a.Device=O}(Bs)),Bs}var Ys={},xs={},Iy;function jp(){return Iy||(Iy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Browser=void 0;var u=ve(),h=de(),v=xe(),C=ze(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){let{browser:d,version:m,versionMatchType:y}=s;O(this,"browser",void 0),O(this,"version",void 0),O(this,"versionMatchType",void 0),O(this,"error",void 0),this.browser=d,this.version=m,this.versionMatchType=y}evaluate(s){let{targetingData:d}=s;const m=d==null?void 0:d[h.KameleoonData.Browser];if(m){const y=this.checkCondition(m);return this.error?(0,u.Err)(this.error):(0,u.Ok)(y)}return(0,u.Ok)(!1)}checkCondition(s){const{browser:d,version:m}=s;if(typeof this.browser!="string")return!1;if(!this.version)return d===this.browser;if(!this.versionMatchType||typeof m!="number")return!1;const y=parseFloat(this.version);switch(isNaN(y)&&(p.KameleoonLogger.error`Failed to parse version: ${this.version} in Browser condition`,this.error=new v.KameleoonError(v.KameleoonException.VersionParse,this.version)),this.versionMatchType){case C.VersionMatchType.EQUAL:return d===this.browser&&m===y;case C.VersionMatchType.GREATER:return d===this.browser&&m>y;case C.VersionMatchType.LOWER:return d===this.browser&&m<y;default:p.KameleoonLogger.error`Unexpected comparing operation for Browser condition: ${this.versionMatchType}`,(0,v.exhaustCheck)(this.versionMatchType)}}}a.Browser=o}(xs)),xs}var Xs={},qy;function Up(){return qy||(qy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Conversion=void 0;var u=ve(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{goalId:o}=f;v(this,"conditionValue",void 0),this.conditionValue=o}evaluate(f){let{targetingData:o}=f;const l=o==null?void 0:o[h.KameleoonData.Conversion];if(!this.conditionValue)return(0,u.Ok)(!1);if(l){if(Object.keys(l).length&&this.conditionValue===-1)return(0,u.Ok)(!0);const s=Object.values(l);return(0,u.Ok)(s.some(d=>!!d&&d.goalId===this.conditionValue))}return(0,u.Ok)(!1)}}a.Conversion=O}(Xs)),Xs}var Qs={},zy;function wp(){return zy||(zy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.CustomData=void 0;var u=ve(),h=de(),v=xe(),C=ze(),p=tt(),O=yf();function g(s,d,m){return(d=f(d))in s?Object.defineProperty(s,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[d]=m,s}function f(s){var d=o(s,"string");return typeof d=="symbol"?d:d+""}function o(s,d){if(typeof s!="object"||!s)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var y=m.call(s,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}class l{constructor(d){let{customDataIndex:m,valueMatchType:y,value:S,range:b}=d;g(this,"customDataIndex",void 0),g(this,"matchType",void 0),g(this,"conditionValue",void 0),g(this,"error",void 0),g(this,"range",void 0),this.customDataIndex=m?+m:-1,this.matchType=y,this.conditionValue=S,this.range=b}evaluate(d){var m;let{targetingData:y}=d;const S=y==null||(m=y[h.KameleoonData.CustomData])===null||m===void 0?void 0:m[this.customDataIndex];if(this.matchType===C.ValueMatchType.UNDEFINED)return(0,u.Ok)(!S);if(S){const{value:b}=S,T=this.checkCondition(b);return this.error?(0,u.Err)(this.error):(0,u.Ok)(T)}return(0,u.Ok)(!1)}checkCondition(d){if(typeof this.conditionValue!="string"&&this.matchType!==C.ValueMatchType.TRUE&&this.matchType!==C.ValueMatchType.FALSE&&this.matchType!==C.ValueMatchType.RANGE)return O.KameleoonLogger.error`Unexpected condition value for CustomData condition: ${this.conditionValue}`,!1;const m=this.conditionValue;if(this.matchType===C.ValueMatchType.AMONG_VALUES){const y=this.parseArray(m);if(!y.ok)return this.error=y.error,!1;const S=new Set(y.data);return Array.isArray(d)?d.some(b=>S.has(b)):y.data.includes(d)}if(this.matchType===C.ValueMatchType.RANGE){const y=this.parseRange(this.range);if(!y.ok)return this.error=y.error,!1;const[S,b]=y.data,T=_=>_>=S&&_<=b;return Array.isArray(d)?d.some(_=>T(+_)):T(+d)}if(Array.isArray(d))return d.some(y=>this.checkCondition(y));switch(this.matchType){case C.ValueMatchType.CONTAINS:return d.includes(m);case C.ValueMatchType.EXACT:return d===this.conditionValue;case C.ValueMatchType.REGULAR_EXPRESSION:return p.Parser.parseRegExp(m).test(d);case C.ValueMatchType.LOWER:return+d<+this.conditionValue;case C.ValueMatchType.EQUAL:return+d==+this.conditionValue;case C.ValueMatchType.GREATER:return+d>+this.conditionValue;case C.ValueMatchType.TRUE:return d.toLowerCase()==="true";case C.ValueMatchType.FALSE:return d.toLowerCase()==="false";default:return O.KameleoonLogger.error`Unexpected comparing operation for CustomData condition: ${this.matchType}`,!1}}parseArray(d){try{const m=JSON.parse(d);if(Array.isArray(m))return(0,u.Ok)(m)}catch(m){return O.KameleoonLogger.error`Failed to parse array: ${d} in CustomData condition`,(0,u.Err)(new v.KameleoonError(v.KameleoonException.AmongValuesCheck,m,d))}return(0,u.Ok)([])}parseRange(d){return d&&d.length===2?(0,u.Ok)(d):(O.KameleoonLogger.error`Failed to parse range: ${d} in CustomData condition`,(0,u.Err)(new v.KameleoonError(v.KameleoonException.RangeCheck,d)))}}a.CustomData=l}(Qs)),Qs}var Zs={},$y;function Np(){return $y||($y=1,function(a){var u=ve();Object.defineProperty(a,"__esModule",{value:!0}),a.ExclusiveCampaign=void 0;class h{evaluate(C){let{variationData:p,experimentId:O}=C;const g=Object.keys(p),f=!g.length,o=g.length===1&&g[0]===O+"";return(0,u.Ok)(f||o)}}a.ExclusiveCampaign=h}(Zs)),Zs}var Js={},Ws={},Fy;function kp(){return Fy||(Fy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PageUtils=void 0;class u{static getLatest(v){return Object.values(v).reduce((C,p)=>C.timestamps[C.timestamps.length-1].time>p.timestamps[p.timestamps.length-1].time?C:p)}}a.PageUtils=u}(Ws)),Ws}var Gy;function Lp(){return Gy||(Gy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PageTitle=void 0;var u=ve(),h=de(),v=tt(),C=ze(),p=_e(),O=kp();function g(s,d,m){return(d=f(d))in s?Object.defineProperty(s,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[d]=m,s}function f(s){var d=o(s,"string");return typeof d=="symbol"?d:d+""}function o(s,d){if(typeof s!="object"||!s)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var y=m.call(s,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}class l{constructor(d){let{matchType:m,title:y}=d;g(this,"matchType",void 0),g(this,"conditionValue",void 0),this.matchType=m,this.conditionValue=y}evaluate(d){let{targetingData:m}=d;const y=m==null?void 0:m[h.KameleoonData.PageView];if(!y)return(0,u.Ok)(!1);const S=O.PageUtils.getLatest(y);return(0,u.Ok)(this.checkCondition(S.title))}checkCondition(d){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case C.MatchType.CONTAINS:return d.includes(this.conditionValue);case C.MatchType.EXACT:return d===this.conditionValue;case C.MatchType.REGULAR_EXPRESSION:return v.Parser.parseRegExp(this.conditionValue).test(d);default:return p.KameleoonLogger.error`Unexpected comparing operation for PageTitle condition: ${this.matchType}`,!1}}}a.PageTitle=l}(Js)),Js}var ec={},Hy;function Ip(){return Hy||(Hy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PageUrl=void 0;var u=ve(),h=de(),v=tt(),C=ze(),p=_e(),O=kp();function g(s,d,m){return(d=f(d))in s?Object.defineProperty(s,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[d]=m,s}function f(s){var d=o(s,"string");return typeof d=="symbol"?d:d+""}function o(s,d){if(typeof s!="object"||!s)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var y=m.call(s,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}class l{constructor(d){let{matchType:m,url:y}=d;g(this,"matchType",void 0),g(this,"conditionValue",void 0),this.matchType=m,this.conditionValue=y}evaluate(d){let{targetingData:m}=d;const y=m==null?void 0:m[h.KameleoonData.PageView];if(!y)return(0,u.Ok)(!1);const S=O.PageUtils.getLatest(y);return(0,u.Ok)(this.checkCondition(S.urlAddress))}checkCondition(d){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case C.MatchType.CONTAINS:return d.includes(this.conditionValue);case C.MatchType.EXACT:return d===this.conditionValue;case C.MatchType.REGULAR_EXPRESSION:return v.Parser.parseRegExp(this.conditionValue).test(d);default:return p.KameleoonLogger.error`Unexpected comparing operation for PageUrl condition: ${this.matchType}`,!1}}}a.PageUrl=l}(ec)),ec}var tc={},By;function qp(){return By||(By=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SdkLanguage=void 0;var u=ve(),h=tt();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{sdkLanguage:o,version:l,versionMatchType:s}=f;v(this,"sdkLanguage",void 0),v(this,"conditionValue",void 0),v(this,"versionMatchType",void 0),this.sdkLanguage=o,this.conditionValue=l,this.versionMatchType=s}evaluate(f){let{sdkInfo:o}=f;return this.checkCondition(o)}checkCondition(f){const{type:o,version:l}=f;if(!this.sdkLanguage)return(0,u.Ok)(!1);if(typeof this.conditionValue!="string")return(0,u.Ok)(o===this.sdkLanguage);if(!this.versionMatchType)return(0,u.Ok)(!1);const s=h.Utilities.compareSemVer({version:l,compareVersion:this.conditionValue,operator:this.versionMatchType});return s.ok?(0,u.Ok)(o===this.sdkLanguage&&s.data):(0,u.Err)(s.error)}}a.SdkLanguage=O}(tc)),tc}var ic={},Yy;function zp(){return Yy||(Yy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VisitorCode=void 0;var u=ve(),h=tt(),v=ze(),C=_e();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l){let{visitorCode:s,matchType:d}=l;p(this,"matchType",void 0),p(this,"conditionValue",void 0),this.matchType=d,this.conditionValue=s}evaluate(l){let{visitorCode:s}=l;return(0,u.Ok)(this.checkCondition(s))}checkCondition(l){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case v.MatchType.CONTAINS:return l.includes(this.conditionValue);case v.MatchType.EXACT:return l===this.conditionValue;case v.MatchType.REGULAR_EXPRESSION:return h.Parser.parseRegExp(this.conditionValue).test(l);default:return C.KameleoonLogger.error`Unexpected comparing operation for VisitorCode condition: ${this.matchType}`,!1}}}a.VisitorCode=f}(ic)),ic}var nc={},xy;function $p(){return xy||(xy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Cookie=void 0;var u=ve(),h=Vp(),v=de(),C=xe(),p=ze(),O=tt(),g=_e();function f(d,m,y){return(m=o(m))in d?Object.defineProperty(d,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[m]=y,d}function o(d){var m=l(d,"string");return typeof m=="symbol"?m:m+""}function l(d,m){if(typeof d!="object"||!d)return d;var y=d[Symbol.toPrimitive];if(y!==void 0){var S=y.call(d,m);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(d)}class s{constructor(m){let{name:y,value:S,nameMatchType:b,valueMatchType:T}=m;f(this,"cookie",void 0),f(this,"keyMatchType",void 0),f(this,"valueMatchType",void 0),this.cookie={key:y??void 0,value:S??void 0},this.keyMatchType=b,this.valueMatchType=T}evaluate(m){var y;let{targetingData:S}=m;const b=!this.cookie.key&&!this.cookie.value,T=!!this.valueMatchType&&!!this.keyMatchType;if(b||!T)return(0,u.Ok)(!1);const _=this.extractCookie(),D=(S==null||(y=S[v.KameleoonData.Cookie])===null||y===void 0?void 0:y.cookie)||[];return(0,u.Ok)(_.some(M=>this.checkCondition(M))||D.some(M=>this.checkCondition(M)))}extractCookie(){return typeof document<"u"&&document.cookie?h.Cookie.fromString(document.cookie).data.cookie:[]}checkCondition(m){const y=this.keyMatchType,{key:S,value:b}=m;if(y===p.NameMatchType.OPTIONAL){const M=this.cookie;return!!this.isOptionalCookie(M)&&this.compareCookieValue(b,M.value)}const{key:T,value:_}=this.cookie;let D;return y===p.NameMatchType.EXACT?D=S===T:y===p.NameMatchType.CONTAINS?D=S.includes(T):y===p.NameMatchType.REGULAR_EXPRESSION?D=O.Parser.parseRegExp(T).test(S):(g.KameleoonLogger.error`Unexpected comparing operation for Cookie condition: ${y}`,(0,C.exhaustCheck)(y)),D&&this.compareCookieValue(b,_)}compareCookieValue(m,y){const S=this.valueMatchType;return S===p.ValueMatchType.EXACT?m===y:S===p.ValueMatchType.CONTAINS?m.includes(y):S===p.ValueMatchType.REGULAR_EXPRESSION?O.Parser.parseRegExp(y).test(m):(g.KameleoonLogger.error`Unexpected comparing operation for Cookie condition: ${S}`,!1)}isOptionalCookie(m){const{value:y}=m;return typeof y<"u"}}a.Cookie=s}(nc)),nc}var rc={},Xy;function Fp(){return Xy||(Xy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.OperatingSystem=void 0;var u=ve(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{os:o}=f;v(this,"operatingSystem",void 0),this.operatingSystem=o}evaluate(f){let{targetingData:o}=f;const l=o==null?void 0:o[h.KameleoonData.OperatingSystem];if(l){const{operatingSystem:s}=l;return(0,u.Ok)(s===this.operatingSystem)}return(0,u.Ok)(!1)}}a.OperatingSystem=O}(rc)),rc}var ac={},Qy;function Gp(){return Qy||(Qy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.GeolocationCondition=void 0;var u=ve(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{country:o,region:l,city:s}=f;v(this,"country",void 0),v(this,"region",void 0),v(this,"city",void 0),this.country=o,this.region=l,this.city=s}evaluate(f){let{targetingData:o}=f;const l=o==null?void 0:o[h.KameleoonData.GeolocationData];if(l){const{country:s,region:d,city:m}=l,[y,S,b]=[this.country,this.region,this.city];if(!y||!s)return(0,u.Ok)(!1);const T=s.toLowerCase()===y.toLowerCase()&&(!S||(d==null?void 0:d.toLowerCase())===S.toLowerCase())&&(!b||(m==null?void 0:m.toLowerCase())===b.toLowerCase());return(0,u.Ok)(T)}return(0,u.Ok)(!1)}}a.GeolocationCondition=O}(ac)),ac}var oc={},Zy;function Hp(){return Zy||(Zy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Segment=void 0;var u=ve(),h=Ap();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{segmentId:o}=f;v(this,"segmentId",void 0),this.segmentId=o}evaluate(f){const{segments:o,trees:l}=f;if(!this.segmentId)return(0,u.Ok)(!1);const s=o==null?void 0:o.get(this.segmentId.toString());if(!s)return(0,u.Ok)(!1);const d=l==null?void 0:l.get(this.segmentId.toString());return d?d.evaluate(f):new h.Tree(s).evaluate(f)}}a.Segment=O}(oc)),oc}var uc={},Jy;function Bp(){return Jy||(Jy=1,function(a){var u=ve();Object.defineProperty(a,"__esModule",{value:!0}),a.TargetFeatureFlag=void 0;function h(O,g,f){return(g=v(g))in O?Object.defineProperty(O,g,{value:f,enumerable:!0,configurable:!0,writable:!0}):O[g]=f,O}function v(O){var g=C(O,"string");return typeof g=="symbol"?g:g+""}function C(O,g){if(typeof O!="object"||!O)return O;var f=O[Symbol.toPrimitive];if(f!==void 0){var o=f.call(O,g);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(O)}class p{constructor(g){let{featureFlagId:f,variationKey:o,ruleId:l}=g;h(this,"featureId",void 0),h(this,"ruleId",void 0),h(this,"variationKey",void 0),this.featureId=f,this.ruleId=l,this.variationKey=o}evaluate(g){let{variationData:f,ruleMap:o}=g;if(!this.featureId||!o)return(0,u.Ok)(!1);if(this.featureId&&!this.ruleId&&!this.variationKey){for(const[y,S]of o){var l;const{featureId:b,experimentId:T}=S;if(b===this.featureId&&typeof((l=f[T])===null||l===void 0?void 0:l.variationId)=="number")return(0,u.Ok)(!0)}return(0,u.Ok)(!1)}if(this.featureId&&this.ruleId){var s;const y=o.get(this.ruleId);if(!y)return(0,u.Ok)(!1);const{experimentId:S,variations:b}=y;if(this.variationKey){var d;const T=b.get(this.variationKey);return(0,u.Ok)(!!T&&((d=f[S])===null||d===void 0?void 0:d.variationId)===T)}return(0,u.Ok)((s=f[y.experimentId])!==null&&s!==void 0&&s.variationId)}if(this.featureId&&!this.ruleId&&this.variationKey)for(const[y,S]of o){const{featureId:b,experimentId:T,variations:_}=S;if(b===this.featureId&&_.has(this.variationKey)){var m;const D=_.get(this.variationKey);return(0,u.Ok)(!!D&&((m=f[T])===null||m===void 0?void 0:m.variationId)===D)}}return(0,u.Ok)(!1)}}a.TargetFeatureFlag=p}(uc)),uc}var lc={},Wy;function Yp(){return Wy||(Wy=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.PreviousPage=void 0;var u=ve(),h=tt(),v=de(),C=ze(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){let{matchType:d,url:m}=s;O(this,"conditionValue",void 0),O(this,"matchType",void 0),this.conditionValue=m,this.matchType=d}evaluate(s){let{targetingData:d}=s;const m=d==null?void 0:d[v.KameleoonData.PageView];if(!m)return(0,u.Ok)(!1);const y=this.getSecondLatestPageView(Object.values(m));if(!y)return(0,u.Ok)(!1);const S=y.urlAddress;return(0,u.Ok)(this.checkCondition(S))}checkCondition(s){if(!this.matchType||!this.conditionValue)return!1;switch(this.matchType){case C.MatchType.CONTAINS:return s.includes(this.conditionValue);case C.MatchType.EXACT:return s===this.conditionValue;case C.MatchType.REGULAR_EXPRESSION:return h.Parser.parseRegExp(this.conditionValue).test(s);default:return p.KameleoonLogger.error`Unexpected comparing operation for PreviousPage condition: ${this.matchType}`,!1}}getSecondLatestPageView(s){if(2>s.length)return;let d,m;return s.forEach(y=>{const S=y.timestamps[y.timestamps.length-1].time;if(!d)return void(d=y);const b=d.timestamps[d.timestamps.length-1].time;if(S>b)return m=d,void(d=y);const T=m?m.timestamps[m.timestamps.length-1].time:0;S>T&&(m=y)}),m}}a.PreviousPage=o}(lc)),lc}var sc={},eh;function xp(){return eh||(eh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VisitedPages=void 0;var u=ve(),h=de(),v=ze(),C=_e();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l){let{matchType:s,pageCount:d}=l;p(this,"conditionValue",void 0),p(this,"matchType",void 0),this.matchType=s,this.conditionValue=d}evaluate(l){let{targetingData:s}=l;const d=s==null?void 0:s[h.KameleoonData.PageView];if(!d)return(0,u.Ok)(!1);let m=0;return Object.values(d).forEach(y=>{m+=y.timestamps.length}),(0,u.Ok)(this.checkCondition(m))}checkCondition(l){if(!this.matchType||typeof this.conditionValue!="number")return!1;switch(this.matchType){case v.MatchType.EQUAL:return l===this.conditionValue;case v.MatchType.GREATER:return l>this.conditionValue;case v.MatchType.LOWER:return l<this.conditionValue;default:return C.KameleoonLogger.error`Unexpected comparing operation for VisitedPages condition: ${this.matchType}`,!1}}}a.VisitedPages=f}(sc)),sc}var cc={},th;function Xp(){return th||(th=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FirstVisit=void 0;var u=ve(),h=de(),v=tt(),C=ze(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){let{matchType:d,count:m,unitOfTime:y}=s;O(this,"matchType",void 0),O(this,"conditionValue",void 0),O(this,"timeUnit",void 0),this.matchType=d,this.conditionValue=m,this.timeUnit=y}evaluate(s){let{targetingData:d}=s;const m=d==null?void 0:d[h.KameleoonData.VisitsData];if(!(m!=null&&m.visits.length))return(0,u.Ok)(!1);const y=m.visits[0];return(0,u.Ok)(this.checkCondition(y))}checkCondition(s){if(!this.matchType||typeof this.conditionValue!="number"||!this.timeUnit)return!1;const d=Date.now()-s,m=v.Utilities.convertTimeUnit(d,this.timeUnit);switch(this.matchType){case C.MatchType.GREATER:return m>this.conditionValue;case C.MatchType.LOWER:return m<this.conditionValue;default:return p.KameleoonLogger.error`Unexpected comparing operation for FirstVisit condition: ${this.matchType}`,!1}}}a.FirstVisit=o}(cc)),cc}var fc={},ih;function Qp(){return ih||(ih=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.LastVisit=void 0;var u=ve(),h=de(),v=tt(),C=ze(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){let{matchType:d,count:m,unitOfTime:y}=s;O(this,"matchType",void 0),O(this,"conditionValue",void 0),O(this,"timeUnit",void 0),this.matchType=d,this.conditionValue=m,this.timeUnit=y}evaluate(s){let{targetingData:d}=s;const m=d==null?void 0:d[h.KameleoonData.VisitsData];if(!(m!=null&&m.visits.length))return(0,u.Ok)(!1);const{visits:y}=m,S=y[y.length-1];return(0,u.Ok)(this.checkCondition(S))}checkCondition(s){if(!this.matchType||typeof this.conditionValue!="number"||!this.timeUnit)return!1;const d=Date.now()-s,m=v.Utilities.convertTimeUnit(d,this.timeUnit);switch(this.matchType){case C.MatchType.GREATER:return m>this.conditionValue;case C.MatchType.LOWER:return m<this.conditionValue;default:return p.KameleoonLogger.error`Unexpected comparing operation for LastVisit condition: ${this.matchType}`,!1}}}a.LastVisit=o}(fc)),fc}var dc={},nh;function Zp(){return nh||(nh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SameDayVisits=void 0;var u=ve(),h=de(),v=ze(),C=_e();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l){let{matchType:s,visitCount:d}=l;p(this,"matchType",void 0),p(this,"conditionValue",void 0),this.matchType=s,this.conditionValue=d}evaluate(l){let{targetingData:s}=l;const d=s==null?void 0:s[h.KameleoonData.VisitsData];if(!d)return(0,u.Ok)(!1);let m=0;const y=new Date().setHours(0,0,0,0),{visits:S}=d;return S.forEach(b=>{b>y&&m++}),m+=1,(0,u.Ok)(this.checkCondition(m))}checkCondition(l){if(!this.matchType||typeof this.conditionValue!="number")return!1;switch(this.matchType){case v.MatchType.EQUAL:return l===this.conditionValue;case v.MatchType.GREATER:return l>this.conditionValue;case v.MatchType.LOWER:return l<this.conditionValue;default:return C.KameleoonLogger.error`Unexpected comparing operation for SameDayVisits condition: ${this.matchType}`,!1}}}a.SameDayVisits=f}(dc)),dc}var gc={},rh;function Jp(){return rh||(rh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Visits=void 0;var u=ve(),h=de(),v=ze(),C=_e();function p(o,l,s){return(l=O(l))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o}function O(o){var l=g(o,"string");return typeof l=="symbol"?l:l+""}function g(o,l){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var d=s.call(o,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}class f{constructor(l){let{matchType:s,visitCount:d}=l;p(this,"matchType",void 0),p(this,"conditionValue",void 0),this.matchType=s,this.conditionValue=d}evaluate(l){let{targetingData:s}=l;const d=s==null?void 0:s[h.KameleoonData.VisitsData];if(!d)return(0,u.Ok)(!1);const m=d.visits.length+1;return(0,u.Ok)(this.checkCondition(m))}checkCondition(l){if(!this.matchType||typeof this.conditionValue!="number")return!1;switch(this.matchType){case v.MatchType.EQUAL:return l===this.conditionValue;case v.MatchType.GREATER:return l>this.conditionValue;case v.MatchType.LOWER:return l<this.conditionValue;default:return C.KameleoonLogger.error`Unexpected comparing operation for Visits condition: ${this.matchType}`,!1}}}a.Visits=f}(gc)),gc}var vc={},ah;function Wp(){return ah||(ah=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.NewVisitor=void 0;var u=ve(),h=de(),v=xe(),C=ze(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){let{visitorType:d}=s;O(this,"visitorType",void 0),this.visitorType=d}evaluate(s){let{targetingData:d}=s;const m=d==null?void 0:d[h.KameleoonData.VisitsData];if(!m||!this.visitorType)return(0,u.Ok)(!1);const{visits:y}=m,S=!y.length;switch(this.visitorType){case C.VisitorType.NEW:return(0,u.Ok)(S);case C.VisitorType.RETURNING:return(0,u.Ok)(!S);default:p.KameleoonLogger.error`Unexpected visitor type for NewVisitor condition: ${this.visitorType}`,(0,v.exhaustCheck)(this.visitorType)}}}a.NewVisitor=o}(vc)),vc}var mc={},oh;function eb(){return oh||(oh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ApplicationVersion=void 0;var u=ve(),h=Op(),v=de();function C(f,o,l){return(o=p(o))in f?Object.defineProperty(f,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[o]=l,f}function p(f){var o=O(f,"string");return typeof o=="symbol"?o:o+""}function O(f,o){if(typeof f!="object"||!f)return f;var l=f[Symbol.toPrimitive];if(l!==void 0){var s=l.call(f,o);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(f)}class g{constructor(o){let{version:l,versionMatchType:s}=o;C(this,"conditionValue",void 0),C(this,"versionMatchType",void 0),this.conditionValue=l,this.versionMatchType=s}evaluate(o){var l;let{targetingData:s}=o;const d=s==null||(l=s[v.KameleoonData.ApplicationVersion])===null||l===void 0?void 0:l.version;if(!d||!this.conditionValue||!this.versionMatchType)return(0,u.Ok)(!1);const m=h.Utilities.compareSemVer({version:d,compareVersion:this.conditionValue,operator:this.versionMatchType});return m.ok?(0,u.Ok)(m.data):(0,u.Err)(m.error)}}a.ApplicationVersion=g}(mc)),mc}var yc={},uh;function tb(){return uh||(uh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ConversionLikelihood=void 0;var u=ve(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{lowerBound:o,upperBound:l,keyMomentId:s,goalId:d}=f;v(this,"lowerBound",void 0),v(this,"upperBound",void 0),v(this,"keyMomentId",void 0),v(this,"goalId",void 0),this.lowerBound=o,this.upperBound=l,this.keyMomentId=s,this.goalId=d}evaluate(f){var o;let{targetingData:l}=f;const s=l==null?void 0:l[h.KameleoonData.KameleoonConversionScore];if(typeof this.keyMomentId!="number"||typeof this.goalId!="number"||typeof this.lowerBound!="number"||typeof this.upperBound!="number"||!s)return(0,u.Ok)(!1);const d=(o=s.kcs[this.keyMomentId.toString()])===null||o===void 0?void 0:o[this.goalId.toString()];return typeof d=="number"?(0,u.Ok)(d>=this.lowerBound&&d<=this.upperBound):(0,u.Ok)(!1)}}a.ConversionLikelihood=O}(yc)),yc}var hc={},lh;function f0(){return lh||(lh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ExclusiveExperimentCondition=void 0;var u=ze(),h=ve();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{campaignType:o}=f;v(this,"campaignType",void 0),this.campaignType=o}evaluate(f){return(0,h.Ok)(this.checkCondition(f))}checkCondition(f){var o;const l=Object.values(f.variationData),s=Object.values(((o=f.targetingData)===null||o===void 0?void 0:o.personalization)||{}),d=l.length===1&&f.experimentId!==null&&f.variationData[f.experimentId]!==void 0,m=l.length===0,y=s.length===0;switch(this.campaignType){case u.CampaignType.Experiment:return m||d;case u.CampaignType.Personalization:return y;case u.CampaignType.Any:return y&&(m||d);default:return!1}}}a.ExclusiveExperimentCondition=O}(hc)),hc}var pc={},sh;function d0(){return sh||(sh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TargetExperimentCondition=void 0;var u=ze(),h=ve();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{variationMatchType:o,variation:l,experiment:s}=f;v(this,"variationMatchType",void 0),v(this,"variationId",void 0),v(this,"experimentId",void 0),this.variationMatchType=o,this.variationId=l||-1,this.experimentId=s||-1}evaluate(f){return(0,h.Ok)(this.checkCondition(f))}checkCondition(f){const o=f.variationData[this.experimentId];if(!o)return!1;switch(this.variationMatchType){case u.MatchTypeVariation.ANY:return!0;case u.MatchTypeVariation.EXACT:return o.variationId===this.variationId;default:return!1}}}a.TargetExperimentCondition=O}(pc)),pc}var bc={},ch;function g0(){return ch||(ch=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TargetPersonalizationCondition=void 0;var u=ve(),h=de();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{personalizationId:o}=f;v(this,"personalizationId",void 0),this.personalizationId=o}evaluate(f){return f.targetingData?(0,u.Ok)(this.checkCondition(f)):(0,u.Ok)(!1)}checkCondition(f){var o;if(!this.personalizationId)return!1;const l=(o=f.targetingData)===null||o===void 0?void 0:o[h.KameleoonData.Personalization];return(l==null?void 0:l[this.personalizationId])!==void 0}}a.TargetPersonalizationCondition=O}(bc)),bc}var fh;function v0(){return fh||(fh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ConditionFactory=void 0;var u=ve(),h=xe(),v=ze(),C=jp(),p=Up(),O=wp(),g=Pp(),f=Np(),o=Lp(),l=Ip(),s=qp(),d=zp(),m=$p(),y=Fp(),S=Gp(),b=Hp(),T=Bp(),_=Yp(),D=xp(),M=Xp(),A=Qp(),N=Zp(),L=Jp(),V=Wp(),K=eb(),j=tb(),k=_e(),H=f0(),x=d0(),ie=g0(),ee=Kp();class q{createCondition(J){const{targetingType:ne}=J;return ne===v.TargetingType.CUSTOM_DATUM?(0,u.Ok)(new O.CustomData(J)):ne===v.TargetingType.EXCLUSIVE_EXPERIMENT?(0,u.Ok)(new H.ExclusiveExperimentCondition(J)):ne===v.TargetingType.EXCLUSIVE_FEATURE_FLAG?(0,u.Ok)(new f.ExclusiveCampaign):ne===v.TargetingType.TARGET_EXPERIMENT?(0,u.Ok)(new x.TargetExperimentCondition(J)):ne===v.TargetingType.TARGET_FEATURE_FLAG?(0,u.Ok)(new T.TargetFeatureFlag(J)):ne===v.TargetingType.TARGET_PERSONALIZATION?(0,u.Ok)(new ie.TargetPersonalizationCondition(J)):ne===v.TargetingType.DEVICE_TYPE?(0,u.Ok)(new g.Device(J)):ne===v.TargetingType.BROWSER?(0,u.Ok)(new C.Browser(J)):ne===v.TargetingType.PAGE_URL?(0,u.Ok)(new l.PageUrl(J)):ne===v.TargetingType.PAGE_TITLE?(0,u.Ok)(new o.PageTitle(J)):ne===v.TargetingType.CONVERSIONS?(0,u.Ok)(new p.Conversion(J)):ne===v.TargetingType.VISITOR_CODE?(0,u.Ok)(new d.VisitorCode(J)):ne===v.TargetingType.SDK_LANGUAGE?(0,u.Ok)(new s.SdkLanguage(J)):ne===v.TargetingType.COOKIE?(0,u.Ok)(new m.Cookie(J)):ne===v.TargetingType.OPERATING_SYSTEM?(0,u.Ok)(new y.OperatingSystem(J)):ne===v.TargetingType.GEOLOCATION?(0,u.Ok)(new S.GeolocationCondition(J)):ne===v.TargetingType.SEGMENT?(0,u.Ok)(new b.Segment(J)):ne===v.TargetingType.APPLICATION_VERSION?(0,u.Ok)(new K.ApplicationVersion(J)):ne===v.TargetingType.PREVIOUS_PAGE?(0,u.Ok)(new _.PreviousPage(J)):ne===v.TargetingType.PAGE_VIEWS?(0,u.Ok)(new D.VisitedPages(J)):ne===v.TargetingType.LAST_VISIT?(0,u.Ok)(new A.LastVisit(J)):ne===v.TargetingType.FIRST_VISIT?(0,u.Ok)(new M.FirstVisit(J)):ne===v.TargetingType.SAME_DAY_VISITS?(0,u.Ok)(new N.SameDayVisits(J)):ne===v.TargetingType.VISITS?(0,u.Ok)(new L.Visits(J)):ne===v.TargetingType.NEW_VISITORS?(0,u.Ok)(new V.NewVisitor(J)):ne===v.TargetingType.HEAT_SLICE?(0,u.Ok)(new j.ConversionLikelihood(J)):(k.KameleoonLogger.error`Unsupported targeted condition type found: ${ne}`,(0,u.Err)(new h.KameleoonError(h.KameleoonException.TargetingCondition,ne)))}}a.ConditionFactory=q,ee.ConditionFactoryInstance.setConditionFactoryInstance(new q)}(Ys)),Ys}var Tc={},dh;function m0(){return dh||(dh=1,Object.defineProperty(Tc,"__esModule",{value:!0})),Tc}var gh;function y0(){return gh||(gh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ApplicationVersion",{enumerable:!0,get:function(){return V.ApplicationVersion}}),Object.defineProperty(a,"Browser",{enumerable:!0,get:function(){return O.Browser}}),Object.defineProperty(a,"ConditionDataType",{enumerable:!0,get:function(){return v.ConditionDataType}}),Object.defineProperty(a,"ConditionFactory",{enumerable:!0,get:function(){return h.ConditionFactory}}),Object.defineProperty(a,"ConditionType",{enumerable:!0,get:function(){return v.ConditionType}}),Object.defineProperty(a,"Conversion",{enumerable:!0,get:function(){return o.Conversion}}),Object.defineProperty(a,"ConversionLikelihood",{enumerable:!0,get:function(){return K.ConversionLikelihood}}),Object.defineProperty(a,"Cookie",{enumerable:!0,get:function(){return m.Cookie}}),Object.defineProperty(a,"CustomData",{enumerable:!0,get:function(){return C.CustomData}}),Object.defineProperty(a,"Device",{enumerable:!0,get:function(){return u.Device}}),Object.defineProperty(a,"ExclusiveCampaign",{enumerable:!0,get:function(){return p.ExclusiveCampaign}}),Object.defineProperty(a,"FirstVisit",{enumerable:!0,get:function(){return D.FirstVisit}}),Object.defineProperty(a,"GeolocationCondition",{enumerable:!0,get:function(){return S.GeolocationCondition}}),Object.defineProperty(a,"LastVisit",{enumerable:!0,get:function(){return M.LastVisit}}),Object.defineProperty(a,"NewVisitor",{enumerable:!0,get:function(){return L.NewVisitor}}),Object.defineProperty(a,"OperatingSystem",{enumerable:!0,get:function(){return y.OperatingSystem}}),Object.defineProperty(a,"PageTitle",{enumerable:!0,get:function(){return f.PageTitle}}),Object.defineProperty(a,"PageUrl",{enumerable:!0,get:function(){return g.PageUrl}}),Object.defineProperty(a,"PreviousPage",{enumerable:!0,get:function(){return T.PreviousPage}}),Object.defineProperty(a,"SameDayVisits",{enumerable:!0,get:function(){return N.SameDayVisits}}),Object.defineProperty(a,"SdkLanguage",{enumerable:!0,get:function(){return s.SdkLanguage}}),Object.defineProperty(a,"Segment",{enumerable:!0,get:function(){return b.Segment}}),Object.defineProperty(a,"TargetFeatureFlag",{enumerable:!0,get:function(){return d.TargetFeatureFlag}}),Object.defineProperty(a,"VisitedPages",{enumerable:!0,get:function(){return _.VisitedPages}}),Object.defineProperty(a,"VisitorCode",{enumerable:!0,get:function(){return l.VisitorCode}}),Object.defineProperty(a,"Visits",{enumerable:!0,get:function(){return A.Visits}});var u=Pp(),h=v0(),v=m0(),C=wp(),p=Np(),O=jp(),g=Ip(),f=Lp(),o=Up(),l=zp(),s=qp(),d=Bp(),m=$p(),y=Fp(),S=Gp(),b=Hp(),T=Yp(),_=xp(),D=Xp(),M=Qp(),A=Jp(),N=Zp(),L=Wp(),V=eb(),K=tb()}(Hs)),Hs}var vh;function h0(){return vh||(vh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"Browser",{enumerable:!0,get:function(){return v.Browser}}),Object.defineProperty(a,"ConditionFactory",{enumerable:!0,get:function(){return v.ConditionFactory}}),Object.defineProperty(a,"Conversion",{enumerable:!0,get:function(){return v.Conversion}}),Object.defineProperty(a,"ConversionLikelihood",{enumerable:!0,get:function(){return v.ConversionLikelihood}}),Object.defineProperty(a,"Cookie",{enumerable:!0,get:function(){return v.Cookie}}),Object.defineProperty(a,"CustomData",{enumerable:!0,get:function(){return v.CustomData}}),Object.defineProperty(a,"DereferencedTargetingDataType",{enumerable:!0,get:function(){return h.DereferencedTargetingDataType}}),Object.defineProperty(a,"Device",{enumerable:!0,get:function(){return v.Device}}),Object.defineProperty(a,"EvaluationDataType",{enumerable:!0,get:function(){return h.EvaluationDataType}}),Object.defineProperty(a,"ExclusiveCampaign",{enumerable:!0,get:function(){return v.ExclusiveCampaign}}),Object.defineProperty(a,"FirstVisit",{enumerable:!0,get:function(){return v.FirstVisit}}),Object.defineProperty(a,"GeolocationCondition",{enumerable:!0,get:function(){return v.GeolocationCondition}}),Object.defineProperty(a,"LastVisit",{enumerable:!0,get:function(){return v.LastVisit}}),Object.defineProperty(a,"MatchType",{enumerable:!0,get:function(){return h.MatchType}}),Object.defineProperty(a,"MatchTypeVariation",{enumerable:!0,get:function(){return h.MatchTypeVariation}}),Object.defineProperty(a,"NewVisitor",{enumerable:!0,get:function(){return v.NewVisitor}}),Object.defineProperty(a,"OperatingSystem",{enumerable:!0,get:function(){return v.OperatingSystem}}),Object.defineProperty(a,"Operator",{enumerable:!0,get:function(){return h.Operator}}),Object.defineProperty(a,"PageTitle",{enumerable:!0,get:function(){return v.PageTitle}}),Object.defineProperty(a,"PageUrl",{enumerable:!0,get:function(){return v.PageUrl}}),Object.defineProperty(a,"PreviousPage",{enumerable:!0,get:function(){return v.PreviousPage}}),Object.defineProperty(a,"SameDayVisits",{enumerable:!0,get:function(){return v.SameDayVisits}}),Object.defineProperty(a,"SdkLanguage",{enumerable:!0,get:function(){return v.SdkLanguage}}),Object.defineProperty(a,"Segment",{enumerable:!0,get:function(){return v.Segment}}),Object.defineProperty(a,"SegmentType",{enumerable:!0,get:function(){return h.SegmentType}}),Object.defineProperty(a,"TargetFeatureFlag",{enumerable:!0,get:function(){return v.TargetFeatureFlag}}),Object.defineProperty(a,"TargetingDataType",{enumerable:!0,get:function(){return h.TargetingDataType}}),Object.defineProperty(a,"TargetingType",{enumerable:!0,get:function(){return h.TargetingType}}),Object.defineProperty(a,"Tree",{enumerable:!0,get:function(){return u.Tree}}),Object.defineProperty(a,"ValueMatchType",{enumerable:!0,get:function(){return h.ValueMatchType}}),Object.defineProperty(a,"VersionMatchType",{enumerable:!0,get:function(){return h.VersionMatchType}}),Object.defineProperty(a,"VisitedPages",{enumerable:!0,get:function(){return v.VisitedPages}}),Object.defineProperty(a,"VisitorCode",{enumerable:!0,get:function(){return v.VisitorCode}}),Object.defineProperty(a,"VisitorReference",{enumerable:!0,get:function(){return h.VisitorReference}}),Object.defineProperty(a,"Visits",{enumerable:!0,get:function(){return v.Visits}});var u=Ap(),h=ze(),v=y0()}(zs)),zs}var Ec={},mh;function p0(){return mh||(mh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DataProcessor=void 0;var u=tt(),h=Ef(),v=de();function C(l,s){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(l);s&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(l,y).enumerable})),d.push.apply(d,m)}return d}function p(l){for(var s,d=1;d<arguments.length;d++)s=arguments[d]==null?{}:arguments[d],d%2?C(Object(s),!0).forEach(function(m){O(l,m,s[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(m){Object.defineProperty(l,m,Object.getOwnPropertyDescriptor(s,m))});return l}function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(){let s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,d=1<arguments.length?arguments[1]:void 0;O(this,"cleanupInterval",void 0),O(this,"packageInfo",void 0),this.cleanupInterval=s,this.packageInfo=d}mutUpdateData(s){let{infoData:d,visitorCode:m,mutData:y,dataItem:S}=s,{visitorReference:b,data:T,isReference:_}=this.dereferenceData(y,m);this.packageInfo.isServer&&_&&!y[b]&&(d.mappingIdentifiers&&delete d.mappingIdentifiers[m],delete y[m],b=m);const D=this.cleanupInterval?Date.now()+this.cleanupInterval:0;switch(S.data.type){case v.KameleoonData.CustomData:{this.updateCustomData({expirationTime:D,customData:S,visitorCode:b,mutData:T});break}case v.KameleoonData.PageView:{this.updatePageView({expirationTime:D,pageView:S,visitorCode:b,mutData:T});break}case v.KameleoonData.Conversion:{this.updateConversion({expirationTime:D,conversion:S,visitorCode:b,mutData:T});break}case v.KameleoonData.VisitsData:{this.updateVisitsData({expirationTime:D,visitsData:S,visitorCode:b,mutData:T});break}case v.KameleoonData.Personalization:{this.updatePersonalization({expirationTime:D,personalization:S,visitorCode:b,mutData:T});break}default:this.updateCommonData({expirationTime:D,commonData:S,visitorCode:b,mutData:T})}return D}mutCleanupData(s,d){if(!this.cleanupInterval)return null;let m=0;for(const[S,b]of Object.entries(s)){if(typeof b=="string"){this.removeReference({mutData:s,visitorCode:S,linkedVisitor:b,infoData:d});continue}let T=0;for(const _ of Object.keys(b)){const D=_;let M;switch(D){case v.KameleoonData.CustomData:case v.KameleoonData.PageView:case v.KameleoonData.Conversion:case v.KameleoonData.Personalization:{M=this.deleteNestedExpiredField(b,D);break}default:M=this.deleteExpiredField(b,D)}(!T||M&&M<T)&&(T=M)}if(Object.keys(s[S]).length)(!m||T&&T<m)&&(m=T);else if(delete s[S],this.packageInfo.isServer){var y;(y=d.mappingIdentifiers)!==null&&y!==void 0||(d.mappingIdentifiers={}),delete d.mappingIdentifiers[S]}}return m}mutAddUnsentData(s){let{mutData:d,visitorCode:m,dataType:y}=s;const S=d.unsentData[m];if(!S||!S.length)d.unsentData[m]=[y];else{const b=new Set([...S]);b.add(y),d.unsentData[m]=Array.from(b)}}createReference(s){let{mutData:d,visitorCode:m,linkedVisitor:y}=s;d[y]=m}removeReference(s){let{mutData:d,visitorCode:m,linkedVisitor:y,infoData:S}=s;this.packageInfo.isServer&&!d[y]&&(delete d[m],S.mappingIdentifiers&&delete S.mappingIdentifiers[m])}updatePageView(s){let{visitorCode:d,mutData:m,pageView:y,expirationTime:S}=s;const{data:b}=y,T=m[d]&&v.KameleoonData.PageView in m[d]&&b.urlAddress in m[d][v.KameleoonData.PageView],_={expirationTime:S,visitorCode:d,data:m,key:v.KameleoonData.PageView,nestedKey:b.urlAddress,value:b};if(T){const D=m[d][v.KameleoonData.PageView][b.urlAddress],M=D.timestamps;for(const A of M){const{time:N}=A;if(b.timestamps.some(V=>{let{time:K}=V;return K===N}))continue;const L=b.timestamps.findIndex(V=>{let{time:K}=V;return K>=N});L===-1?b.timestamps.push(A):b.timestamps.splice(L,0,A)}this.updateNestedField(_)}else this.createNestedField(_)}updateCustomData(s){let{visitorCode:d,customData:m,mutData:y,expirationTime:S}=s;const{data:b}=m,T=y[d]&&v.KameleoonData.CustomData in y[d],_={expirationTime:S,visitorCode:d,data:y,key:v.KameleoonData.CustomData,nestedKey:b.index.toString(),value:b};T?this.updateNestedField(_):this.createNestedField(_)}updateConversion(s){let{conversion:d,mutData:m,visitorCode:y,expirationTime:S}=s;const{data:b}=d,T=m[y]&&v.KameleoonData.Conversion in m[y],_={expirationTime:S,visitorCode:y,data:m,key:v.KameleoonData.Conversion,nestedKey:b.id.toString(),value:b};T?this.updateNestedField(_):this.createNestedField(_)}updateVisitsData(s){let{visitorCode:d,mutData:m,visitsData:y,expirationTime:S}=s;const{data:b}=y,T=m[d]&&v.KameleoonData.VisitsData in m[d],_={expirationTime:S,data:m,key:v.KameleoonData.VisitsData,value:b,visitorCode:d};T?(m[d][v.KameleoonData.VisitsData].visits.forEach(M=>{h.ListUtilities.insertInOrderedListMutably({list:b.visits,element:M,order:u.Order.Ascending})}),this.updateField(p(p({},_),{},{value:p(p({},b),{},{visits:b.visits})}))):this.createField(_)}updatePersonalization(s){let{visitorCode:d,mutData:m,personalization:y,expirationTime:S}=s;const{data:b}=y,T=m[d]&&v.KameleoonData.Personalization in m[d],_={expirationTime:S,visitorCode:d,data:m,key:v.KameleoonData.Personalization,nestedKey:b.id.toString(),value:b};T?this.updateNestedField(_):this.createNestedField(_)}updateCommonData(s){let{visitorCode:d,mutData:m,commonData:y,expirationTime:S}=s;const{data:b}=y,T=m[d]&&b.type in m[d],_={expirationTime:S,data:m,key:b.type,visitorCode:d,value:b};T?this.updateField(_):this.createField(_)}dereferenceData(s,d){return typeof s[d]=="string"?{visitorReference:s[d],data:s,isReference:!0}:{visitorReference:d,data:s,isReference:!1}}deleteExpiredField(s,d){if(!s)return 0;const m=d;return s[m].expirationTime<Date.now()?(delete s[m],0):s[m].expirationTime}deleteNestedExpiredField(s,d){if(!s[d])return 0;const m=s[d];let y;for(const[S,b]of Object.entries(m)){if(!b)continue;b.expirationTime<Date.now()?delete m[S]:(!y||b.expirationTime<y)&&(y=b.expirationTime)}return Object.keys(m).length||delete s[d],y}updateField(s){let{key:d,value:m,data:y,visitorCode:S,expirationTime:b}=s;y[S][d]=p(p({},m),{},{expirationTime:b})}createField(s){let{key:d,value:m,data:y,visitorCode:S,expirationTime:b}=s;y[S]=p(p({},y[S]),{},{[d]:p(p({},m),{},{expirationTime:b})})}updateNestedField(s){let{key:d,nestedKey:m,value:y,data:S,visitorCode:b,expirationTime:T}=s;S[b][d][m]=p(p({},y),{},{expirationTime:T})}createNestedField(s){var d;let{key:m,nestedKey:y,value:S,data:b,visitorCode:T,expirationTime:_}=s;b[T]=(d=b[T])!==null&&d!==void 0&&d[m]?p(p({},b[T]),{},{[m]:p(p({},b[T][m]),{},{[y]:p(p({},S),{},{expirationTime:_})})}):p(p({},b[T]),{},{[m]:{[y]:p(p({},S),{},{expirationTime:_})}})}}a.DataProcessor=o}(Ec)),Ec}var Cc={},Sc={},yh;function Vf(){return yh||(yh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VISIT_DURATION=a.KameleoonStorageKey=a.DEFAULT_CLIENT_CONFIGURATION=void 0;var u=oo(),h=Ae();a.KameleoonStorageKey=function(v){return v.ClientData="kameleoonClientData",v.TargetingData="kameleoonTargetingData",v.TrackingData="kameleoonTrackingData",v.VariationData="kameleoonVariationData",v.VisitorCode="kameleoonVisitorCode",v.ConsentData="kameleoonConsentData",v.DataInfo="kameleoonDataInfo",v.KameleoonSimulationFFData="kameleoonSimulationFFData",v.ForcedFeatureVariation="kameleoonForcedFeatureVariation",v.ForcedExperimentVariation="kameleoonForcedExperimentVariation",v}({}),a.DEFAULT_CLIENT_CONFIGURATION={data:{customData:[],featureFlags:[],configuration:{realTimeUpdate:!1,consentType:u.ConsentType.NotRequired,dataApiDomain:"data.kameleoon.io"}},lastUpdate:""},a.VISIT_DURATION=29*h.Milliseconds.Minute}(Sc)),Sc}var _c={},Oc={},hh;function ib(){return hh||(hh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.IntegrityChecker=void 0;var u=Vf(),h=de(),v=xe();function C(l,s){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(l);s&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(l,y).enumerable})),d.push.apply(d,m)}return d}function p(l){for(var s,d=1;d<arguments.length;d++)s=arguments[d]==null?{}:arguments[d],d%2?C(Object(s),!0).forEach(function(m){O(l,m,s[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(m){Object.defineProperty(l,m,Object.getOwnPropertyDescriptor(s,m))});return l}function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(s){O(this,"key",void 0),this.key=s}isDataValid(s){switch(this.key){case u.KameleoonStorageKey.ClientData:return this.checkClientDataIntegrity(s);case u.KameleoonStorageKey.TargetingData:return this.checkTargetingDataIntegrity(s);case u.KameleoonStorageKey.DataInfo:return this.checkDataInfoIntegrity(s);case u.KameleoonStorageKey.VariationData:return this.checkVariationDataIntegrity(s);case u.KameleoonStorageKey.TrackingData:return this.checkTrackingDataIntegrity(s);default:return!0}}getDefaultData(){switch(this.key){case u.KameleoonStorageKey.ClientData:return this.getDefaultClientData();case u.KameleoonStorageKey.DataInfo:return{unsentData:{},nextVisitTime:0,mappingIdentifiers:{}};case u.KameleoonStorageKey.TrackingData:return{scheduledVisitors:{}};case u.KameleoonStorageKey.TargetingData:case u.KameleoonStorageKey.VariationData:case u.KameleoonStorageKey.ConsentData:return{};case u.KameleoonStorageKey.VisitorCode:return"";case u.KameleoonStorageKey.KameleoonSimulationFFData:return"";case u.KameleoonStorageKey.ForcedExperimentVariation:return{};case u.KameleoonStorageKey.ForcedFeatureVariation:return{};default:(0,v.exhaustCheck)(this.key)}}checkTrackingDataIntegrity(s){return this.hasFields(s,["scheduledVisitors"])}checkDataInfoIntegrity(s){return this.hasFields(s,["unsentData","nextVisitTime"])}checkVariationDataIntegrity(s){const d=Object.values(s);if(!d.length)return!0;const m=y=>!this.hasFields(y,["status"])||this.hasFields(y,["isSent"]);for(const y of d)for(const S of Object.values(y))if(m(S))return!1;return!0}checkClientDataIntegrity(s){return this.hasFields(s,Object.keys(u.DEFAULT_CLIENT_CONFIGURATION))}checkTargetingDataIntegrity(s){const d=Object.values(s);if(!d.length)return!0;for(const m of d){if(typeof m=="string")continue;const y=S=>!this.hasFields(S,["status"])||this.hasFields(S,["sent"])||this.hasFields(S,["timestampList"]);for(const[S,b]of Object.entries(m)){if(Array.isArray(b))return!1;switch(S){case h.KameleoonData.PageView:case h.KameleoonData.Conversion:case h.KameleoonData.CustomData:{if(Object.values(b).some(_=>y(_)))return!1;continue}default:if(y(b))return!1}}}return!0}getDefaultClientData(){return p(p({},u.DEFAULT_CLIENT_CONFIGURATION),{},{lastUpdate:new Date().toString()})}hasFields(s,d){const m=Object.keys(s);return!!(m.length&&d.length)&&d.every(y=>m.includes(y))}}a.IntegrityChecker=o}(Oc)),Oc}var ph;function b0(){return ph||(ph=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DataStorage=void 0;var u=ve(),h=xe(),v=ib(),C=_e();function p(s,d){var m=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(s,S).enumerable})),m.push.apply(m,y)}return m}function O(s){for(var d,m=1;m<arguments.length;m++)d=arguments[m]==null?{}:arguments[m],m%2?p(Object(d),!0).forEach(function(y){g(s,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):p(Object(d)).forEach(function(y){Object.defineProperty(s,y,Object.getOwnPropertyDescriptor(d,y))});return s}function g(s,d,m){return(d=f(d))in s?Object.defineProperty(s,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[d]=m,s}function f(s){var d=o(s,"string");return typeof d=="symbol"?d:d+""}function o(s,d){if(typeof s!="object"||!s)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var y=m.call(s,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}class l{constructor(d,m){g(this,"externalStorage",void 0),g(this,"storageKey",void 0),this.externalStorage=d,this.storageKey=m;const y=new v.IntegrityChecker(m),S=this.read();if(!S.ok){if(S.error.type===h.KameleoonException.StorageEmpty){const T=y.getDefaultData();this.write(T)}return}const b=S.data;if(!y.isDataValid(b)){const T=y.getDefaultData();this.write(T)}}read(){try{const d=this.externalStorage.read(this.storageKey);return d===null?(0,u.Err)(new h.KameleoonError(h.KameleoonException.StorageEmpty)):(0,u.Ok)(d)}catch{return C.KameleoonLogger.error`Failed to read data from storage: ${this.storageKey}`,(0,u.Err)(new h.KameleoonError(h.KameleoonException.StorageRead,this.storageKey))}}write(d){try{return this.externalStorage.write(this.storageKey,d),(0,u.Ok)()}catch{return C.KameleoonLogger.error`Failed to write data to storage: ${this.storageKey}`,(0,u.Err)(new h.KameleoonError(h.KameleoonException.StorageWrite,this.storageKey))}}update(d){const m=this.read();if(!m.ok)return m.error.type===h.KameleoonException.StorageEmpty?this.write(d):m;const y=m.data;let S;return S=typeof y=="string"?d:O(O({},y),d),this.write(S)}}a.DataStorage=l}(_c)),_c}var Dc={},bh;function T0(){return bh||(bh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StorageCleanupManager=void 0;var u=_e(),h=Vf();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f,o){v(this,"cleanupInterval",void 0),v(this,"externalStorage",void 0),this.externalStorage=f,this.cleanupInterval=o,0<o&&this.initCleanupInterval()}initCleanupInterval(){for(const f of Object.values(h.KameleoonStorageKey)){let o=null;try{switch(f){case h.KameleoonStorageKey.ForcedFeatureVariation:case h.KameleoonStorageKey.ForcedExperimentVariation:case h.KameleoonStorageKey.VariationData:case h.KameleoonStorageKey.ConsentData:u.KameleoonLogger.info`Starting cleanup for ${f} with interval ${this.cleanupInterval}`,o=setInterval(()=>this.cleanupData(f),this.cleanupInterval);break;case h.KameleoonStorageKey.ClientData:case h.KameleoonStorageKey.TargetingData:case h.KameleoonStorageKey.TrackingData:case h.KameleoonStorageKey.VisitorCode:case h.KameleoonStorageKey.DataInfo:case h.KameleoonStorageKey.KameleoonSimulationFFData:break;default:u.KameleoonLogger.error`Unknown storage key: ${f} for initCleanupInterval.`}}catch{o&&clearInterval(o),u.KameleoonLogger.error`Error while starting cleanup for ${f} with interval ${this.cleanupInterval}`}}}cleanupData(f){const o=this.externalStorage.read(f);if(o){const l=Date.now();switch(f){case h.KameleoonStorageKey.VariationData:this.cleanupVariationData(o,l);break;case h.KameleoonStorageKey.ForcedFeatureVariation:this.cleanupForcedFeatureVariationData(o,l);break;case h.KameleoonStorageKey.ForcedExperimentVariation:this.cleanupForcedExperimentVariationData(o,l);break;case h.KameleoonStorageKey.ConsentData:this.cleanupConsentData(o,l);break;case h.KameleoonStorageKey.ClientData:case h.KameleoonStorageKey.TargetingData:case h.KameleoonStorageKey.TrackingData:case h.KameleoonStorageKey.VisitorCode:case h.KameleoonStorageKey.DataInfo:case h.KameleoonStorageKey.KameleoonSimulationFFData:break;default:u.KameleoonLogger.error`Unknown storage key: ${f} for cleanupData.`}this.externalStorage.write(f,o)}}cleanupConsentData(f,o){for(const[l,s]of Object.entries(f)){if(typeof s=="boolean"){f[l]={consent:s,expirationTime:o+this.cleanupInterval};continue}const d=s;typeof d.expirationTime=="number"?d.expirationTime<o&&delete f[l]:d.expirationTime=o+this.cleanupInterval}}cleanupVariationData(f,o){for(const[l,s]of Object.entries(f))this.cleanupObjectValues(s,o),Object.keys(f[l]).length===0&&delete f[l]}cleanupForcedFeatureVariationData(f,o){for(const[l,s]of Object.entries(f))for(const[d,m]of Object.entries(s))this.cleanupObjectValues(m,o),Object.keys(f[+l][d]).length===0&&delete f[+l][d]}cleanupForcedExperimentVariationData(f,o){for(const[l,s]of Object.entries(f))this.cleanupObjectValues(s,o),Object.keys(f[l]).length===0&&delete f[l]}cleanupObjectValues(f,o){for(const[l,s]of Object.entries(f))typeof s.expirationTime=="number"?s.expirationTime<o&&delete f[l]:s.expirationTime=o+this.cleanupInterval}}a.StorageCleanupManager=O}(Dc)),Dc}var Rc={},Th;function E0(){return Th||(Th=1,Object.defineProperty(Rc,"__esModule",{value:!0})),Rc}var Eh;function so(){return Eh||(Eh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ClientDataType",{enumerable:!0,get:function(){return p.ClientDataType}}),Object.defineProperty(a,"ConsentDataType",{enumerable:!0,get:function(){return p.ConsentDataType}}),Object.defineProperty(a,"DataInfoType",{enumerable:!0,get:function(){return p.DataInfoType}}),Object.defineProperty(a,"DataStorage",{enumerable:!0,get:function(){return h.DataStorage}}),Object.defineProperty(a,"FeatureFlagVariationsType",{enumerable:!0,get:function(){return p.FeatureFlagVariationsType}}),Object.defineProperty(a,"IExternalStorage",{enumerable:!0,get:function(){return p.IExternalStorage}}),Object.defineProperty(a,"IStorage",{enumerable:!0,get:function(){return p.IStorage}}),Object.defineProperty(a,"IntegrityChecker",{enumerable:!0,get:function(){return v.IntegrityChecker}}),Object.defineProperty(a,"KameleoonStorageKey",{enumerable:!0,get:function(){return u.KameleoonStorageKey}}),Object.defineProperty(a,"StorageCleanupManager",{enumerable:!0,get:function(){return C.StorageCleanupManager}}),Object.defineProperty(a,"StorageDataType",{enumerable:!0,get:function(){return p.StorageDataType}}),Object.defineProperty(a,"TrackingDataType",{enumerable:!0,get:function(){return p.TrackingDataType}}),Object.defineProperty(a,"VISIT_DURATION",{enumerable:!0,get:function(){return u.VISIT_DURATION}}),Object.defineProperty(a,"VariationDataType",{enumerable:!0,get:function(){return p.VariationDataType}});var u=Vf(),h=b0(),v=ib(),C=T0(),p=E0()}(Cc)),Cc}var Ch;function C0(){return Ch||(Ch=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DataManager=void 0;var u=h0(),h=p0(),v=lo(),C=de(),p=so(),O=oo(),g=tt(),f=Sf(),o=Cf(),l=_f(),s=Of(),d=Rf(),m=Ae(),y=Df(),S=_e();function b(M,A,N){return(A=T(A))in M?Object.defineProperty(M,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[A]=N,M}function T(M){var A=_(M,"string");return typeof A=="symbol"?A:A+""}function _(M,A){if(typeof M!="object"||!M)return M;var N=M[Symbol.toPrimitive];if(N!==void 0){var L=N.call(M,A);if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(M)}class D{constructor(A){let{dataStorage:N,infoStorage:L,cleanupInterval:V,packageInfo:K}=A;if(b(this,"dataStorage",void 0),b(this,"infoStorage",void 0),b(this,"dataProcessor",void 0),b(this,"targetingTrees",new Map),b(this,"mappingIdentifierCustomDataIndex",null),b(this,"persistentCustomDataIndexes",new Set),b(this,"localCustomDataIndexes",new Set),b(this,"cleanupIntervalId",null),b(this,"packageInfo",void 0),S.KameleoonLogger.debug`CALL: new DataManager(dataStorage, infoStorage, cleanupInterval: ${V})`,this.dataStorage=N,this.infoStorage=L,this.dataProcessor=new h.DataProcessor(V,K),this.packageInfo=K,V){const j=()=>{this.cleanupData()};try{this.cleanupIntervalId=setInterval(j,V)}catch(k){throw this.cleanupIntervalId&&clearInterval(this.cleanupIntervalId),S.KameleoonLogger.error`Failed to set cleanup interval: ${V}`,k}}S.KameleoonLogger.debug`RETURN: new DataManager(dataStorage, infoStorage, cleanupInterval: ${V})`}getUnsentData(A){const N=this.infoStorage.read();if(!N.ok)return[];const L=N.data,V=this.getVisitorData(A);if(!L.unsentData[A]||!V)return[];const K=L.unsentData[A],j=L.nextVisitTime<=Date.now(),k=H=>{let{status:x,key:ie,cdIndex:ee}=H;return!!(typeof ee=="number"&&this.persistentCustomDataIndexes.has(ee)&&j)||K.includes(ie)&&x===m.TrackingStatus.Unsent};return j&&(L.nextVisitTime=Date.now()+p.VISIT_DURATION,this.infoStorage.write(L)),this.getDataFromRaw(V,k)}getPendingData(A){const N=this.getVisitorData(A);return N?this.getDataFromRaw(N,L=>{let{status:V}=L;return V===m.TrackingStatus.Pending}):[]}getDataFromRaw(A,N){const L=[];for(const[V,K]of Object.entries(A))if(K)switch(V){case C.KameleoonData.CustomData:{for(const j of Object.values(K)){if(!j)continue;const{status:k,index:H}=j;if(N({status:k,key:V,cdIndex:H})){const x=v.CustomData._fromRaw(j);L.push(x)}}break}case C.KameleoonData.Conversion:{for(const j of Object.values(K))if(j&&N({status:j.status,key:V})){const k=f.Conversion._fromRaw(j);L.push(k)}break}case C.KameleoonData.PageView:{for(const j of Object.values(K))if(N({status:j.status,key:V})){const k=o.PageView._fromRaw(j);L.push(k)}break}case C.KameleoonData.GeolocationData:{const j=K;if(!K)continue;if(N({status:j.status,key:V})){const k=d.GeolocationData._fromRaw(j);L.push(k)}break}case C.KameleoonData.Browser:{const j=K;if(N({status:j.status,key:V})){const k=l.Browser._fromRaw(j);L.push(k)}break}case C.KameleoonData.Device:{const j=K;if(N({status:j.status,key:V})){const k=s.Device._fromRaw(j);L.push(k)}break}case C.KameleoonData.OperatingSystem:{const j=K;if(N({status:j.status,key:V})){const k=y.OperatingSystem._fromRaw(j);L.push(k)}}}return L}storeTrackedData(A){this.storeData(A);const N=this.infoStorage.read();if(N.ok){const L=N.data.unsentData;for(const[V,K]of Object.entries(A)){if(!L[V])return;const j=new Set(L[V]);K.forEach(H=>{let{data:x}=H;j.has(x.type)&&j.delete(x.type)}),K.some(H=>{let{data:x}=H;if(x.type!==C.KameleoonData.CustomData)return!1;const{index:ie}=x;return this.persistentCustomDataIndexes.has(ie)||this.mappingIdentifierCustomDataIndex===ie})&&j.add(C.KameleoonData.CustomData),L[V]=Array.from(j),L[V].length||delete L[V]}this.infoStorage.write(N.data)}}storeData(A){for(var N=arguments.length,L=Array(1<N?N-1:0),V=1;V<N;V++)L[V-1]=arguments[V];S.KameleoonLogger.debug`CALL: DataManager.storeData(visitorCode: ${A}, data: ${L})`;const K=this.dataStorage.read(),j=this.infoStorage.read();if(!K.ok)return K;if(!j.ok)return j;const k=K.data,H=j.data;if(typeof A=="string")this.mutUpdateTargetingData({infoData:H,targetingData:k,visitorCode:A,kameleoonData:L});else for(const[ie,ee]of Object.entries(A))this.mutUpdateTargetingData({infoData:H,targetingData:k,visitorCode:ie,kameleoonData:ee});this.cleanupData(),this.infoStorage.write(j.data);const x=this.dataStorage.write(k);return S.KameleoonLogger.debug`RETURN: DataManager.storeData(visitorCode: ${A}, data: ${L}) -> (writeResult: ${x})`,x}getTree(A){if(this.targetingTrees.has(A.id))return this.targetingTrees.get(A.id);const N=new u.Tree(A);return this.targetingTrees.set(A.id,N),N}clearTrees(){this.targetingTrees.clear()}isPersistentCustomData(A){return!!this.persistentCustomDataIndexes.size&&!!g.Utilities.isCustomData(A)&&this.persistentCustomDataIndexes.has(A.data.index)}isUniqueIdentifier(A){var N;const L=this.getVisitorData(A),V=L==null?void 0:L[C.KameleoonData.UniqueIdentifier];return!((N=V==null?void 0:V.value)===null||N===void 0)&&N}getVisitorIdentifier(A){var N,L,V;const K=this.infoStorage.read();if(!K.ok)return A;const j=K.data;return(N=j.mappingIdentifiers)!==null&&N!==void 0||(j.mappingIdentifiers={}),(L=(V=j.mappingIdentifiers[A])===null||V===void 0?void 0:V.mappingIdentifier)!==null&&L!==void 0?L:A}setMappingIdentifier(A,N){var L;const V=this.infoStorage.read();if(V.ok){const K=V.data;(L=K.mappingIdentifiers)!==null&&L!==void 0||(K.mappingIdentifiers={});const j=K.mappingIdentifiers[A];(!j||j.timestamp<N.timestamp)&&(K.mappingIdentifiers[A]=N,this.infoStorage.write(K))}}getVisitorData(A){this.cleanupData();const N=this.dataStorage.read();if(!N.ok)return;let{visitorReference:L,data:V,isReference:K}=this.dataProcessor.dereferenceData(N.data,A);if(this.packageInfo.isServer&&K&&!V[L]){const j=this.infoStorage.read();j.ok&&j.data.mappingIdentifiers&&delete j.data.mappingIdentifiers[A],delete V[A],L=A}return V[L]}getVisitorStoredDataTypes(A){const N=this.getVisitorData(A);return N?new Set(Object.keys(N)):new Set}getLinkedVisitor(A){const N=this.dataStorage.read();if(!N.ok)return null;if(typeof N.data[A]=="string")return N.data[A];if(this.mappingIdentifierCustomDataIndex===null)return null;const L=N.data[A];if(!L)return null;const V=L[C.KameleoonData.CustomData];return V&&V[this.mappingIdentifierCustomDataIndex]?V[this.mappingIdentifierCustomDataIndex].value[0]:null}mutUpdateTargetingData(A){let{infoData:N,visitorCode:L,kameleoonData:V,targetingData:K}=A;for(const j of V){j.data.type===C.KameleoonData.CustomData&&this.processCustomData({infoData:N,customData:j,mutData:K,visitorCode:L});const k=this.dataProcessor.mutUpdateData({infoData:N,visitorCode:L,mutData:K,dataItem:j}),H=N.nextDataCleanup;(!H||H&&k<H)&&(N.nextDataCleanup=k),j.data.status===m.TrackingStatus.Unsent&&this.dataProcessor.mutAddUnsentData({mutData:N,visitorCode:L,dataType:j.data.type})}}cleanupData(){const A=this.dataStorage.read(),N=this.infoStorage.read();if(!A.ok||!N.ok)return;const L=A.data,V=N.data,K=V.nextDataCleanup;if(K&&K<Date.now()){const j=this.dataProcessor.mutCleanupData(L,V);V.nextDataCleanup=j||void 0,this.infoStorage.write(V),this.dataStorage.write(L)}}processCustomData(A){let{infoData:N,mutData:L,customData:V,visitorCode:K}=A;const{data:j}=V,k=!!(j.value.length&&j.value[0].length);if(this.mappingIdentifierCustomDataIndex===j.index&&k){V._isMappingIdentifier=!0;const x=j.value[0];if(K!==x){var H;S.KameleoonLogger.info`Linked anonymous visitor ${K} with user ${x}`,this.dataProcessor.createReference({infoData:N,mutData:L,visitorCode:K,linkedVisitor:j.value[0]}),(H=N.mappingIdentifiers)!==null&&H!==void 0||(N.mappingIdentifiers={}),N.mappingIdentifiers[x]={mappingIdentifier:K,timestamp:Date.now()}}}this.localCustomDataIndexes.has(j.index)&&(V.status=m.TrackingStatus.Sent)}get unsentDataVisitors(){const A=this.infoStorage.read();return A.ok?Object.keys(A.data.unsentData):[]}get identifierCustomDataIndex(){return this.mappingIdentifierCustomDataIndex}get trees(){return this.targetingTrees}get storedCustomDataIndexes(){const A=this.dataStorage.read();if(!A.ok)return new Set;const N=A.data;if(!(C.KameleoonData.CustomData in N))return new Set;const L=new Set;for(const V in Object.keys(N[C.KameleoonData.CustomData]))L.add(+V);return L}set customDataIndexes(A){var N;const[L,V]=[[],[]];A.forEach(K=>{K.localOnly&&L.push(K.index),K.scope===O.CustomDataScope.Visitor&&V.push(K.index)}),this.mappingIdentifierCustomDataIndex=((N=A.find(K=>K.isMappingIdentifier))===null||N===void 0?void 0:N.index)||null,this.localCustomDataIndexes=new Set(L),this.persistentCustomDataIndexes=new Set(V)}}a.DataManager=D}(qs)),qs}var Sh;function co(){return Sh||(Sh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ApplicationVersion",{enumerable:!0,get:function(){return s.ApplicationVersion}}),Object.defineProperty(a,"ApplicationVersionDataType",{enumerable:!0,get:function(){return y.ApplicationVersionDataType}}),Object.defineProperty(a,"Browser",{enumerable:!0,get:function(){return v.Browser}}),Object.defineProperty(a,"BrowserDataType",{enumerable:!0,get:function(){return y.BrowserDataType}}),Object.defineProperty(a,"BrowserIndexMap",{enumerable:!0,get:function(){return y.BrowserIndexMap}}),Object.defineProperty(a,"BrowserType",{enumerable:!0,get:function(){return y.BrowserType}}),Object.defineProperty(a,"Conversion",{enumerable:!0,get:function(){return g.Conversion}}),Object.defineProperty(a,"ConversionDataType",{enumerable:!0,get:function(){return y.ConversionDataType}}),Object.defineProperty(a,"ConversionParametersType",{enumerable:!0,get:function(){return y.ConversionParametersType}}),Object.defineProperty(a,"Cookie",{enumerable:!0,get:function(){return h.Cookie}}),Object.defineProperty(a,"CookieType",{enumerable:!0,get:function(){return y.CookieType}}),Object.defineProperty(a,"CustomData",{enumerable:!0,get:function(){return O.CustomData}}),Object.defineProperty(a,"CustomDataType",{enumerable:!0,get:function(){return y.CustomDataType}}),Object.defineProperty(a,"DataManager",{enumerable:!0,get:function(){return S.DataManager}}),Object.defineProperty(a,"Device",{enumerable:!0,get:function(){return u.Device}}),Object.defineProperty(a,"DeviceDataType",{enumerable:!0,get:function(){return y.DeviceDataType}}),Object.defineProperty(a,"DeviceType",{enumerable:!0,get:function(){return y.DeviceType}}),Object.defineProperty(a,"GeolocationData",{enumerable:!0,get:function(){return f.GeolocationData}}),Object.defineProperty(a,"GeolocationInfoType",{enumerable:!0,get:function(){return y.GeolocationInfoType}}),Object.defineProperty(a,"IdentifierDataType",{enumerable:!0,get:function(){return y.IdentifierDataType}}),Object.defineProperty(a,"KameleoonConversionScore",{enumerable:!0,get:function(){return m.KameleoonConversionScore}}),Object.defineProperty(a,"KameleoonData",{enumerable:!0,get:function(){return y.KameleoonData}}),Object.defineProperty(a,"KameleoonDataItemType",{enumerable:!0,get:function(){return y.KameleoonDataItemType}}),Object.defineProperty(a,"KameleoonDataType",{enumerable:!0,get:function(){return y.KameleoonDataType}}),Object.defineProperty(a,"OperatingSystem",{enumerable:!0,get:function(){return o.OperatingSystem}}),Object.defineProperty(a,"OperatingSystemType",{enumerable:!0,get:function(){return y.OperatingSystemType}}),Object.defineProperty(a,"PageView",{enumerable:!0,get:function(){return C.PageView}}),Object.defineProperty(a,"PageViewDataType",{enumerable:!0,get:function(){return y.PageViewDataType}}),Object.defineProperty(a,"PageViewParametersType",{enumerable:!0,get:function(){return y.PageViewParametersType}}),Object.defineProperty(a,"UniqueIdentifier",{enumerable:!0,get:function(){return l.UniqueIdentifier}}),Object.defineProperty(a,"UserAgent",{enumerable:!0,get:function(){return p.UserAgent}}),Object.defineProperty(a,"UserAgentDataType",{enumerable:!0,get:function(){return y.UserAgentDataType}}),Object.defineProperty(a,"VisitsData",{enumerable:!0,get:function(){return d.VisitsData}}),Object.defineProperty(a,"VisitsDataType",{enumerable:!0,get:function(){return y.VisitsDataType}});var u=Of(),h=Vp(),v=_f(),C=Cf(),p=u0(),O=lo(),g=Sf(),f=Rf(),o=Df(),l=l0(),s=s0(),d=Mf(),m=Dp(),y=de(),S=C0()}(ws)),ws}var Mc={},Vc={},Kc={},Ac={},io={exports:{}};function S0(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var no={exports:{}};const _0={},O0=Object.freeze(Object.defineProperty({__proto__:null,default:_0},Symbol.toStringTag,{value:"Module"})),D0=KE(O0);var R0=no.exports,_h;function M0(){return _h||(_h=1,function(a,u){(function(h,v){a.exports=v()})(R0,function(){var h=h||function(v,C){var p;if(typeof window<"u"&&window.crypto&&(p=window.crypto),typeof self<"u"&&self.crypto&&(p=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(p=globalThis.crypto),!p&&typeof window<"u"&&window.msCrypto&&(p=window.msCrypto),!p&&typeof _l<"u"&&_l.crypto&&(p=_l.crypto),!p&&typeof S0=="function")try{p=D0}catch{}var O=function(){if(p){if(typeof p.getRandomValues=="function")try{return p.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof p.randomBytes=="function")try{return p.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function _(){}return function(D){var M;return _.prototype=D,M=new _,_.prototype=null,M}}(),f={},o=f.lib={},l=o.Base=function(){return{extend:function(_){var D=g(this);return _&&D.mixIn(_),(!D.hasOwnProperty("init")||this.init===D.init)&&(D.init=function(){D.$super.init.apply(this,arguments)}),D.init.prototype=D,D.$super=this,D},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var D in _)_.hasOwnProperty(D)&&(this[D]=_[D]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=o.WordArray=l.extend({init:function(_,D){_=this.words=_||[],D!=C?this.sigBytes=D:this.sigBytes=_.length*4},toString:function(_){return(_||m).stringify(this)},concat:function(_){var D=this.words,M=_.words,A=this.sigBytes,N=_.sigBytes;if(this.clamp(),A%4)for(var L=0;L<N;L++){var V=M[L>>>2]>>>24-L%4*8&255;D[A+L>>>2]|=V<<24-(A+L)%4*8}else for(var K=0;K<N;K+=4)D[A+K>>>2]=M[K>>>2];return this.sigBytes+=N,this},clamp:function(){var _=this.words,D=this.sigBytes;_[D>>>2]&=4294967295<<32-D%4*8,_.length=v.ceil(D/4)},clone:function(){var _=l.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var D=[],M=0;M<_;M+=4)D.push(O());return new s.init(D,_)}}),d=f.enc={},m=d.Hex={stringify:function(_){for(var D=_.words,M=_.sigBytes,A=[],N=0;N<M;N++){var L=D[N>>>2]>>>24-N%4*8&255;A.push((L>>>4).toString(16)),A.push((L&15).toString(16))}return A.join("")},parse:function(_){for(var D=_.length,M=[],A=0;A<D;A+=2)M[A>>>3]|=parseInt(_.substr(A,2),16)<<24-A%8*4;return new s.init(M,D/2)}},y=d.Latin1={stringify:function(_){for(var D=_.words,M=_.sigBytes,A=[],N=0;N<M;N++){var L=D[N>>>2]>>>24-N%4*8&255;A.push(String.fromCharCode(L))}return A.join("")},parse:function(_){for(var D=_.length,M=[],A=0;A<D;A++)M[A>>>2]|=(_.charCodeAt(A)&255)<<24-A%4*8;return new s.init(M,D)}},S=d.Utf8={stringify:function(_){try{return decodeURIComponent(escape(y.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return y.parse(unescape(encodeURIComponent(_)))}},b=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=S.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var D,M=this._data,A=M.words,N=M.sigBytes,L=this.blockSize,V=L*4,K=N/V;_?K=v.ceil(K):K=v.max((K|0)-this._minBufferSize,0);var j=K*L,k=v.min(j*4,N);if(j){for(var H=0;H<j;H+=L)this._doProcessBlock(A,H);D=A.splice(0,j),M.sigBytes-=k}return new s.init(D,k)},clone:function(){var _=l.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});o.Hasher=b.extend({cfg:l.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var D=this._doFinalize();return D},blockSize:16,_createHelper:function(_){return function(D,M){return new _.init(M).finalize(D)}},_createHmacHelper:function(_){return function(D,M){return new T.HMAC.init(_,M).finalize(D)}}});var T=f.algo={};return f}(Math);return h})}(no)),no.exports}var V0=io.exports,Oh;function K0(){return Oh||(Oh=1,function(a,u){(function(h,v){a.exports=v(M0())})(V0,function(h){return function(v){var C=h,p=C.lib,O=p.WordArray,g=p.Hasher,f=C.algo,o=[],l=[];(function(){function m(T){for(var _=v.sqrt(T),D=2;D<=_;D++)if(!(T%D))return!1;return!0}function y(T){return(T-(T|0))*4294967296|0}for(var S=2,b=0;b<64;)m(S)&&(b<8&&(o[b]=y(v.pow(S,1/2))),l[b]=y(v.pow(S,1/3)),b++),S++})();var s=[],d=f.SHA256=g.extend({_doReset:function(){this._hash=new O.init(o.slice(0))},_doProcessBlock:function(m,y){for(var S=this._hash.words,b=S[0],T=S[1],_=S[2],D=S[3],M=S[4],A=S[5],N=S[6],L=S[7],V=0;V<64;V++){if(V<16)s[V]=m[y+V]|0;else{var K=s[V-15],j=(K<<25|K>>>7)^(K<<14|K>>>18)^K>>>3,k=s[V-2],H=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;s[V]=j+s[V-7]+H+s[V-16]}var x=M&A^~M&N,ie=b&T^b&_^T&_,ee=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),q=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),Z=L+q+x+l[V]+s[V],J=ee+ie;L=N,N=A,A=M,M=D+Z|0,D=_,_=T,T=b,b=Z+J|0}S[0]=S[0]+b|0,S[1]=S[1]+T|0,S[2]=S[2]+_|0,S[3]=S[3]+D|0,S[4]=S[4]+M|0,S[5]=S[5]+A|0,S[6]=S[6]+N|0,S[7]=S[7]+L|0},_doFinalize:function(){var m=this._data,y=m.words,S=this._nDataBytes*8,b=m.sigBytes*8;return y[b>>>5]|=128<<24-b%32,y[(b+64>>>9<<4)+14]=v.floor(S/4294967296),y[(b+64>>>9<<4)+15]=S,m.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var m=g.clone.call(this);return m._hash=this._hash.clone(),m}});C.SHA256=g._createHelper(d),C.HmacSHA256=g._createHmacHelper(d)}(Math),h.SHA256})}(io)),io.exports}var Dh;function A0(){return Dh||(Dh=1,function(a){var u=h(K0());Object.defineProperty(a,"__esModule",{value:!0}),a.Hasher=void 0;function h(C){return C&&C.__esModule?C:{default:C}}class v{static getHashDoubleForMEGroup(p,O){return this.calculateHash(p+O)}static getHashDouble(p){let{visitorIdentifier:O,id:g,respoolTime:f}=p,o="";return f&&(o+=f+""),this.calculateHash(O+g+o)}static calculateHash(p){const O=(0,u.default)(p).toString();return parseInt(O,16)/Math.pow(2,256)}}a.Hasher=v}(Ac)),Ac}var Rh;function nb(){return Rh||(Rh=1,function(a){var u=A0();Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"Hasher",{enumerable:!0,get:function(){return u.Hasher}})}(Kc)),Kc}var Mh;function P0(){return Mh||(Mh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VariationConfiguration=void 0;var u=ve(),h=nb(),v=xe(),C=tt(),p=ao(),O=Ae(),g=_e(),f=Rp();function o(S,b){var T=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);b&&(_=_.filter(function(D){return Object.getOwnPropertyDescriptor(S,D).enumerable})),T.push.apply(T,_)}return T}function l(S){for(var b,T=1;T<arguments.length;T++)b=arguments[T]==null?{}:arguments[T],T%2?o(Object(b),!0).forEach(function(_){s(S,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(b)):o(Object(b)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(b,_))});return S}function s(S,b,T){return(b=d(b))in S?Object.defineProperty(S,b,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[b]=T,S}function d(S){var b=m(S,"string");return typeof b=="symbol"?b:b+""}function m(S,b){if(typeof S!="object"||!S)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var _=T.call(S,b);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(S)}class y{constructor(b,T,_,D,M){s(this,"storage",void 0),s(this,"storageForcedExperimentVariations",void 0),s(this,"storageForcedFeatureVariations",void 0),s(this,"visitorCodeManager",void 0),s(this,"clientConfiguration",void 0),this.storage=b,this.storageForcedExperimentVariations=T,this.storageForcedFeatureVariations=_,this.visitorCodeManager=D,this.clientConfiguration=M,D.setVariationConfiguration(this)}updateDataStatus(b){let{visitorCode:T,experimentIdList:_,status:D}=b;const M=this.storage.read();if(!M.ok)return M;let A=M.data;A[T]||(A[T]={});for(const N of _)A[T][N]=l(l({},A[T][N]),{},{status:D});return this.storage.write(A)}getUnsentData(b){return this.getVariationData(b,T=>T===O.TrackingStatus.Unsent)}getPendingData(b){return this.getVariationData(b,T=>T===O.TrackingStatus.Pending)}getStoredVariations(b){const T=this.storage.read();if(!T.ok)return T;const _=T.data[b];return _?(0,u.Ok)(_):(0,u.Err)(new v.KameleoonError(v.KameleoonException.StorageRead,b))}getVariation(b){let{visitorCode:T,visitorIdentifier:_,featureFlag:D,targetingData:M,packageInfo:A,clientConfiguration:N,dataManager:L,track:V=!0,withAssignment:K=!1}=b;g.KameleoonLogger.debug`CALL: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K})`;const{rules:j,featureKey:k,id:H,defaultVariationKey:x}=D;for(const ee of j){const{segment:q,experimentId:Z,id:J,exposition:ne,respoolTime:U,variationByExposition:Q}=ee,te=this.getForcedExperimentVariation(T,ee.experimentId);let W=null;if(te.ok&&(W=te.data,W&&W.forceTargeting)){g.KameleoonLogger.info`Visitor ${T} has been forced targeted for ${ee}`;const ae=this.createAndSaveForcedTargetedVariation(T,D,ee,W,V,K);return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K}) -> (targetedVariation: ${ae})`,(0,u.Ok)(ae)}const oe=C.Utilities.checkTargeting({segment:q,visitorCode:T,experimentId:Z,targetingData:M,packageInfo:A,clientConfiguration:N,dataManager:L,variationConfiguration:this});if(!oe.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K}) -> (targetedVariation: ${oe})`,oe;if(!oe.data)continue;if(g.KameleoonLogger.info`Visitor ${T} has been targeted for ${ee}`,W){const ae=this.createAndSaveForcedTargetedVariation(T,D,ee,W,V,K);return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K}) -> (targetedVariation: ${ae})`,(0,u.Ok)(ae)}const ye=h.Hasher.getHashDouble({visitorIdentifier:_,respoolTime:U,id:J+""});if(g.KameleoonLogger.debug`Calculated ruleHash: ${ye} for visitorCode: ${T}`,ye<=ne){let ae=this.evaluateCBScores(ee,_,M);if(!ae){const Ne=h.Hasher.getHashDouble({visitorIdentifier:_,respoolTime:U,id:Z+""});g.KameleoonLogger.debug`Calculated variationHash: ${Ne} for visitorCode: ${T}`,ae=C.Utilities.getVariationByHash(Q,Ne)}if(ae){K&&this.updateStoredVariations(T,{[Z]:{variationId:ae.variationId,isTargetedRule:ee.type===p.RuleType.TARGETED_DELIVERY,status:V?O.TrackingStatus.Unsent:O.TrackingStatus.Sent}});const Ne={variationId:ae.variationId,variationKey:ae.variationKey,rule:ee,featureFlagId:H,featureKey:k,experimentId:Z,isTargetedRule:ee.type===p.RuleType.TARGETED_DELIVERY};return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K}) -> (targetedVariation: ${Ne})`,(0,u.Ok)(Ne)}}if(ee.type===p.RuleType.TARGETED_DELIVERY){const ae={featureKey:k,featureFlagId:H,experimentId:null,variationKey:x,variationId:null,rule:null,isTargetedRule:!0};return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K}) -> (targetedVariation: ${ae})`,(0,u.Ok)(ae)}}const ie={featureKey:k,featureFlagId:H,experimentId:null,variationKey:x,variationId:null,rule:null,isTargetedRule:!1};return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getVariation(visitorCode: ${T}, visitorIdentifier: ${_}, featureFlag: ${D}, targetingData: ${M}, packageInfo: ${A}, clientConfiguration, dataManager, withAssignment: ${K}) -> (targetedVariation: ${ie})`,(0,u.Ok)(ie)}createAndSaveForcedTargetedVariation(b,T,_,D,M,A){const N={variationKey:D.varByExp.variationKey,variationId:D.varByExp.variationId,rule:_,featureFlagId:T.id,featureKey:T.featureKey,experimentId:_.experimentId,isTargetedRule:_.type===p.RuleType.TARGETED_DELIVERY};return A&&this.updateStoredVariations(b,{[_.experimentId]:{variationId:N.variationId,isTargetedRule:_.type===p.RuleType.TARGETED_DELIVERY,status:M?O.TrackingStatus.Unsent:O.TrackingStatus.Sent}}),N}updateStoredVariations(b,T){g.KameleoonLogger.debug`CALL: VariationConfiguration.updateStoredVariations(visitorCode: ${b}, variationData: ${T})`;const _=this.storage.read();if(!_.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.updateStoredVariations(visitorCode: ${b}, variationData: ${T}) -> (result: ${_})`,_;let D=_.data;for(const A in D[b]||(D[b]={}),T)D[b][A]=T[A];const M=this.storage.write(D);return g.KameleoonLogger.debug`RETURN: VariationConfiguration.updateStoredVariations(visitorCode: ${b}, variationData: ${T}) -> (resultWrite: ${M})`,M}getVariationData(b,T){const _=this.getStoredVariations(b);if(!_.ok)return[];const D=[];for(const[M,A]of Object.entries(_.data))T(A.status)&&D.push({experimentId:+M,variationId:A.variationId,isTargetedRule:A.isTargetedRule});return D}updateForcedExperimentVariation(b,T,_){g.KameleoonLogger.debug`CALL: VariationConfiguration.updateForcedExperimentVariation(visitorCode: ${b}, experimentId: ${T}, forcedExperimentVariation: ${_})`;const D=this.storageForcedExperimentVariations.read();if(!D.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.updateForcedExperimentVariation(visitorCode: ${b}, experimentId: ${T}, forcedExperimentVariation: ${_}) -> (result: ${D})`,D;let M=D.data;M[b]||(M[b]={}),_?M[b][T]=_:delete M[b][T];const A=this.storageForcedExperimentVariations.write(M);return g.KameleoonLogger.debug`RETURN: VariationConfiguration.updateForcedExperimentVariation(visitorCode: ${b}, experimentId: ${T}, forcedExperimentVariation: ${_}) -> (resultWrite: ${A})`,A}updateForcedFeatureVariations(b,T){g.KameleoonLogger.debug`CALL: VariationConfiguration.updateForcedFeatureVariations(visitorCode: ${b}, forcedFeatureVariations: ${T})`;const _=this.storageForcedFeatureVariations.read();if(!_.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.updateForcedFeatureVariations(visitorCode: ${b}, forcedFeatureVariations: ${T}) -> (result: ${_})`,_;let D=_.data;D[0]||(D[0]={}),D[1]||(D[1]={});const M=D[0],A=D[1];M[b]||(M[b]={}),A[b]||(A[b]={}),T.forEach(L=>{const V=L.simulated?A[b]:M[b];V[L.featureKey]=L});const N=this.storageForcedFeatureVariations.write(D);return g.KameleoonLogger.debug`RETURN: VariationConfiguration.updateForcedFeatureVariations(visitorCode: ${b}, forcedFeatureVariations: ${T}) -> (resultWrite: ${N})`,N}clearSimulatedVariations(b){var T;g.KameleoonLogger.debug`CALL: VariationConfiguration.clearSimulatedVariations(visitorCode: ${b})`;const _=this.storageForcedFeatureVariations.read();if(!_.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.clearSimulatedVariations(visitorCode: ${b}) -> (result: ${_})`,_;let D;const M=_.data;return M!=null&&(T=M[1])!==null&&T!==void 0&&T[b]?(delete M[1][b],D=this.storageForcedFeatureVariations.write(M)):D=(0,u.Ok)(),g.KameleoonLogger.debug`RETURN: VariationConfiguration.clearSimulatedVariations(visitorCode: ${b}) -> (resultWrite: ${D})`,D}getForcedFeatureVariation(b,T){var _,D,M,A;g.KameleoonLogger.debug`CALL: VariationConfiguration.getForcedFeatureVariation(visitorCode: ${b}, featureKey: ${T})`;const N=this.storageForcedFeatureVariations.read();if(!N.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getForcedFeatureVariation(visitorCode: ${b}, featureKey: ${T}) -> (simulatedResult: ${N})`,N;const L=(_=N.data[1])===null||_===void 0||(D=_[b])===null||D===void 0?void 0:D[T];if(L)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getForcedFeatureVariation(visitorCode: ${b}, featureKey: ${T}) -> (simulatedData: ${L})`,(0,u.Ok)(L);const V=(M=N.data[0])===null||M===void 0||(A=M[b])===null||A===void 0?void 0:A[T];return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getForcedFeatureVariation(visitorCode: ${b}, featureKey: ${T}) -> (forcedData: ${V})`,(0,u.Ok)(V)}getForcedExperimentVariation(b,T){var _;g.KameleoonLogger.debug`CALL: VariationConfiguration.getForcedExperimentVariation(visitorCode: ${b}, experimentId: ${T})`;const D=this.storageForcedExperimentVariations.read();if(!D.ok)return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getForcedExperimentVariation(visitorCode: ${b}, experimentId: ${T}) -> (forcedResult: ${D})`,D;const M=(_=D.data[b])===null||_===void 0?void 0:_[T];return g.KameleoonLogger.debug`RETURN: VariationConfiguration.getForcedExperimentVariation(visitorCode: ${b}, experimentId: ${T}) -> (forcedExperiment: ${M})`,(0,u.Ok)(M)}parseForcedVariationData(b){let T=1<arguments.length&&arguments[1]!==void 0&&arguments[1];const _=this.clientConfiguration.featureFlags.get(b.featureKey);if(!_)return g.KameleoonLogger.error`Simulated feature flag '${b.featureKey}' not found`,null;let D=null;if(b.experimentId===0)return D={featureKey:b.featureKey,rule:null,varByExp:null,simulated:T},D;for(const M of _.rules){if(b.experimentId!==M.experimentId)continue;const A=M.variationByExposition.find(N=>N.variationId===b.variationId);if(A)return D={featureKey:b.featureKey,rule:{type:M.type,experimentId:M.experimentId},varByExp:{variationKey:A.variationKey,variationId:A.variationId},simulated:T},D}return g.KameleoonLogger.error`Simulated variation ${b.variationId} not found`,null}simulatedVariationFromJson(b,T){if(g.KameleoonLogger.debug`CALL: VariationConfiguration.simulatedVariationFromJson(featureKey: ${b}, data: ${T})`,!this.isSimulatedVariationJson(T))return null;const _=this.parseForcedVariationData({featureKey:b,variationId:T.varId,experimentId:T.expId},!0);return g.KameleoonLogger.debug`RETURN: VariationConfiguration.simulatedVariationFromJson(featureKey: ${b}, data: ${T}) -> (forcedVariation: ${_})`,_}isSimulatedVariationJson(b){return b&&(typeof b.expId=="number"||b.expId===null)}evaluateCBScores(b,T,_){if(!_||!_.cbScores)return null;g.KameleoonLogger.debug`CALL: KameleoonClientImpl.evaluateCBScores(rule: ${b}, targetingData: ${_}, visitorIdentifier: ${T})`;const D=b.experimentId,M=new f.CBScores(_.cbScores.cbs).getValues().get(D);let A=null;if(M!==void 0){const N=b.variationByExposition,L=M.map(V=>N.filter(K=>V.ids.includes(K.variationId))).find(V=>0<V.length);if(L){let V=0;if(1<L.length){const K=h.Hasher.getHashDouble({visitorIdentifier:T,respoolTime:b.respoolTime,id:D+""});g.KameleoonLogger.debug`Calculated cbs hash ${K} for code ${T}`,V=Math.min(Math.floor(K*L.length),L.length-1)}A=L[V]}}return g.KameleoonLogger.debug`RETURN: KameleoonClientImpl.evaluateCBScores(rule: ${b}, targetingData: ${_}, visitorIdentifier: ${T}) -> (variation: ${A})`,A}}a.VariationConfiguration=y}(Vc)),Vc}var Pc={},Vh;function j0(){return Vh||(Vh=1,Object.defineProperty(Pc,"__esModule",{value:!0})),Pc}var Kh;function U0(){return Kh||(Kh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"FeatureFlagVariationType",{enumerable:!0,get:function(){return h.FeatureFlagVariationType}}),Object.defineProperty(a,"VariationConfiguration",{enumerable:!0,get:function(){return u.VariationConfiguration}});var u=P0(),h=j0()}(Mc)),Mc}var jc={},Uc={},Ah;function w0(){return Ah||(Ah=1,Object.defineProperty(Uc,"__esModule",{value:!0})),Uc}var wc={},Nc={},Ph;function rb(){return Ph||(Ph=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.REAL_TIME_EVENT=void 0,a.REAL_TIME_EVENT="configuration-update-event"}(Nc)),Nc}var jh;function N0(){return jh||(jh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonEventSource=void 0;var u=yf(),h=rb();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(f){let{siteCode:o,externalEventSource:l,urlProvider:s}=f;v(this,"eventSource",void 0),v(this,"siteCode",void 0),v(this,"url",void 0),v(this,"isConnectionOpen",void 0),this.url=s.getEventSourceUrl(),this.siteCode=o,this.eventSource=l,this.isConnectionOpen=!1}get isOpen(){return this.isConnectionOpen}open(f){this.eventSource.open({onEvent:this.handleMessage(f),url:this.url,eventType:h.REAL_TIME_EVENT}),this.isConnectionOpen=!0,u.KameleoonLogger.info`Established a new SSE connection with: ${this.url}`}close(){this.eventSource.close(),this.isConnectionOpen=!1,u.KameleoonLogger.info`SSE connection: '${this.url}' was successfully closed`}onError(f){return this.eventSource.onError?void this.eventSource.onError(f):void u.KameleoonLogger.warning("EventSource does not have `onError` method provided. Real-time errors won't be handled.")}handleMessage(f){return l=>{u.KameleoonLogger.debug`Received new message from: ${this.url}`;const s=JSON.parse(l.data),{siteCode:d,ts:m}=s;this.siteCode===d&&f(m)}}}a.KameleoonEventSource=O}(wc)),wc}var Uh;function ab(){return Uh||(Uh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"EventSourceOpenParametersType",{enumerable:!0,get:function(){return u.EventSourceOpenParametersType}}),Object.defineProperty(a,"IEventSource",{enumerable:!0,get:function(){return h.IEventSource}}),Object.defineProperty(a,"IExternalEventSource",{enumerable:!0,get:function(){return u.IExternalEventSource}}),Object.defineProperty(a,"KameleoonEventSource",{enumerable:!0,get:function(){return h.KameleoonEventSource}}),Object.defineProperty(a,"REAL_TIME_EVENT",{enumerable:!0,get:function(){return v.REAL_TIME_EVENT}}),Object.defineProperty(a,"RealTimeEventType",{enumerable:!0,get:function(){return u.RealTimeEventType}});var u=w0(),h=N0(),v=rb()}(jc)),jc}var kc={},Lc={},wh;function k0(){return wh||(wh=1,Object.defineProperty(Lc,"__esModule",{value:!0})),Lc}var Ic={},Nh;function ob(){return Nh||(Nh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ZERO_MAX_AGE=a.VISITOR_CODE_MAX_LENGTH=a.VISITOR_CODE_LENGTH=a.PATH=a.DEFAULT_MAX_AGE=void 0,a.VISITOR_CODE_LENGTH=16,a.VISITOR_CODE_MAX_LENGTH=255,a.DEFAULT_MAX_AGE=31536e3,a.ZERO_MAX_AGE=0,a.PATH="/"}(Ic)),Ic}var qc={},kh;function L0(){return kh||(kh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.VisitorCodeManager=void 0;var u=ve(),h=so(),v=xe(),C=ob(),p=_e();function O(l,s,d){return(s=g(s))in l?Object.defineProperty(l,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[s]=d,l}function g(l){var s=f(l,"string");return typeof s=="symbol"?s:s+""}function f(l,s){if(typeof l!="object"||!l)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var m=d.call(l,s);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(l)}class o{constructor(){O(this,"variationConfiguration",void 0),O(this,"isConsentRequired",!1),O(this,"setDataCallback",void 0),O(this,"getDataCallback",void 0)}set consentRequired(s){this.isConsentRequired=s}get consentRequired(){return this.isConsentRequired}set getData(s){this.getDataCallback=s}set setData(s){this.setDataCallback=s}get setData(){if(this.setDataCallback)return this.setDataCallback;throw new Error("Missing setDataCallback!")}validateVisitorCode(s){return s.length===0?(0,u.Err)(new v.KameleoonError(v.KameleoonException.VisitorCodeEmpty)):s.length>C.VISITOR_CODE_MAX_LENGTH?(0,u.Err)(new v.KameleoonError(v.KameleoonException.VisitorCodeMaxLength)):(0,u.Ok)()}getVisitorCode(s){if(p.KameleoonLogger.debug`CALL: VisitorCodeManager.getVisitorCode(defaultVisitorCode: ${s})`,!this.getDataCallback||!this.setDataCallback)throw new Error("Missing getDataCallback or setDataCallback methods in getVisitorCode!");let d;const m=this.getDataCallback(h.KameleoonStorageKey.VisitorCode);return m&&(d=m),d||(s?(this.validateVisitorCode(s).throw(),d=s,p.KameleoonLogger.debug`Used default visitor code: ${d}`):(d=this.generateVisitorCode(),p.KameleoonLogger.debug`Generated new visitor code: ${d}`)),this.processSimulatedVariations(d),this.isConsentRequired||this.setDataCallback({visitorCode:d,key:h.KameleoonStorageKey.VisitorCode,maxAge:C.DEFAULT_MAX_AGE,path:C.PATH}),p.KameleoonLogger.debug`RETURN: VisitorCodeManager.getVisitorCode(defaultVisitorCode: ${s}) -> (visitorCode: ${d})`,d}processSimulatedVariations(s){if(this.variationConfiguration){const d=this.getSimulatedVariations(s);try{this.variationConfiguration.clearSimulatedVariations(s).throw(),d!==null&&0<d.length&&this.variationConfiguration.updateForcedFeatureVariations(s,d).throw()}catch(m){m instanceof Error&&p.KameleoonLogger.error`Failed to process simulated variations: ${m.message}`}}}getSimulatedVariations(s){p.KameleoonLogger.debug`CALL: VisitorCodeManager.getSimulatedVariations(visitorCode: ${s})`;const d=this.getDataCallback(h.KameleoonStorageKey.KameleoonSimulationFFData);let m=null;if(typeof d=="string"&&0<d.length)try{const y=JSON.parse(decodeURIComponent(d));y&&typeof y=="object"&&(m=Object.entries(y).map(S=>{let[b,T]=S;return this.variationConfiguration.simulatedVariationFromJson(b,T)}).filter(S=>S!==null))}catch(y){y instanceof Error&&p.KameleoonLogger.error`Failed to parse simulated variations: ${y.message}`}return p.KameleoonLogger.debug`RETURN: VisitorCodeManager.getSimulatedVariations(visitorCode: ${s}) -> (variations: ${m})`,m}generateVisitorCode(){const s="abcdefghijklmnopqrstuvwxyz0123456789",d=[];for(let m=0;m<C.VISITOR_CODE_LENGTH;m++)d.push(s[Math.floor(Math.random()*s.length)]);return d.join("")}setVariationConfiguration(s){this.variationConfiguration||(this.variationConfiguration=s)}}a.VisitorCodeManager=o}(qc)),qc}var Lh;function ub(){return Lh||(Lh=1,function(a){var u={VisitorCodeManager:!0},h=k0(),v=ob(),C=L0();Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"VisitorCodeManager",{enumerable:!0,get:function(){return C.VisitorCodeManager}}),Object.keys(h).forEach(function(p){p==="default"||p==="__esModule"||Object.prototype.hasOwnProperty.call(u,p)||p in a&&a[p]===h[p]||Object.defineProperty(a,p,{enumerable:!0,get:function(){return h[p]}})}),Object.keys(v).forEach(function(p){p==="default"||p==="__esModule"||Object.prototype.hasOwnProperty.call(u,p)||p in a&&a[p]===v[p]||Object.defineProperty(a,p,{enumerable:!0,get:function(){return v[p]}})})}(kc)),kc}var zc={},$c={},Fc={},Gc={},Ih;function I0(){return Ih||(Ih=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SYMBOL_SIZE=a.MAX_BODY_SIZE=void 0;var u=function(h){return h[h.Kb=1e3]="Kb",h[h.Mb=1e3*h.Kb]="Mb",h[h.Gb=1e3*h.Mb]="Gb",h}(u||{});a.MAX_BODY_SIZE=10*u.Mb,a.SYMBOL_SIZE=4}(Gc)),Gc}var qh;function q0(){return qh||(qh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.BodyProvider=void 0;var u=ve(),h=co(),v=Vt(),C=tt(),p=I0(),O=_e();function g(s,d,m){return(d=f(d))in s?Object.defineProperty(s,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[d]=m,s}function f(s){var d=o(s,"string");return typeof d=="symbol"?d:d+""}function o(s,d){if(typeof s!="object"||!s)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var y=m.call(s,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}class l{constructor(d){g(this,"prng",void 0),g(this,"currentSize",0),g(this,"resultBody",[]),g(this,"hasUserAgent",!1),g(this,"trackingVisitors",{}),this.prng=d}getTrackingBody(){const d={body:this.resultBody.join(`
`),hasUserAgent:this.hasUserAgent};return this.cleanup(),d}addData(d){let{visitorCode:m,variationData:y,visitorData:S,userAgent:b,isConsentProvided:T,isMappingIdentifier:_}=d;const D=[],M=this.getVariationDataLines(y),A=this.getVisitorDataLines(S);return D.push(...M,...A),this.addVisitorTrackingLines({visitorCode:m,lines:D,userAgent:b,isConsentProvided:T,isMappingIdentifier:_})}getVisitorDataLines(d){const m=[];for(const y of d){let S;if(y.data.type===h.KameleoonData.Conversion||y.data.type===h.KameleoonData.PageView){const b=y.data.nonce;b?S=b:(S=C.Utilities.getNonce(this.prng),y.data.nonce=S)}S||(S=C.Utilities.getNonce(this.prng)),m.push(y.url+v.UrlParameter.Nonce+S)}return m}getVariationDataLines(d){const m=[];return d.forEach(y=>{m.push(v.UrlEventType.Experiment+v.UrlParameter.Id+y.experimentId+v.UrlParameter.VariationId+y.variationId+v.UrlParameter.Nonce+C.Utilities.getNonce(this.prng))}),m}prepareVisitorBody(d){const m=this.trackingVisitors[d];if(!m)return(0,u.Err)();const{lines:y,userAgent:S,isMappingIdentifier:b,isConsentProvided:T}=m,_=this.getIdentifier(d,b);if(y.length)y.forEach((M,A)=>{y[A]=M+_}),O.KameleoonLogger.debug`Sending tracking request for unsent data ${y} of visitor ${d} with given (or not required) consent ${T}`;else if(T){const M=this.getActivityLine();y.push(M+_),O.KameleoonLogger.debug`Sending tracking request for activity of visitor ${d} with given consent`}else O.KameleoonLogger.debug`No data to send for visitor ${d} with no consent`;S&&y.length&&(y[0]+=v.UrlParameter.UserAgent+S,this.hasUserAgent=!0);const D=this.checkSize(y);return D.ok&&this.resultBody.push(...y),D}cleanup(){this.currentSize=0,this.resultBody=[],this.hasUserAgent=!1,this.trackingVisitors={}}checkSize(d){let m=0;return m+=d.reduce((y,S)=>y+S.length*p.SYMBOL_SIZE,0),m+this.currentSize>p.MAX_BODY_SIZE?(0,u.Err)():(this.currentSize+=m,(0,u.Ok)())}addVisitorTrackingLines(d){let{visitorCode:m,lines:y,userAgent:S,isConsentProvided:b,isMappingIdentifier:T}=d;return this.trackingVisitors[m]?(S&&(this.trackingVisitors[m].userAgent=S),this.trackingVisitors[m].lines.push(...y)):this.trackingVisitors[m]={isMappingIdentifier:T,isConsentProvided:b,userAgent:S,lines:y},this.prepareVisitorBody(m)}getActivityLine(){return v.UrlEventType.Activity+v.UrlParameter.Nonce+C.Utilities.getNonce(this.prng)}getIdentifier(d,m){return(m?v.UrlParameter.MappingValue:v.UrlParameter.VisitorCode)+d}}a.BodyProvider=l}(Fc)),Fc}var zh;function z0(){return zh||(zh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Tracker=void 0;var u=co(),h=Ae(),v=q0(),C=_e();function p(s,d){var m=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(s,S).enumerable})),m.push.apply(m,y)}return m}function O(s){for(var d,m=1;m<arguments.length;m++)d=arguments[m]==null?{}:arguments[m],m%2?p(Object(d),!0).forEach(function(y){g(s,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(d)):p(Object(d)).forEach(function(y){Object.defineProperty(s,y,Object.getOwnPropertyDescriptor(d,y))});return s}function g(s,d,m){return(d=f(d))in s?Object.defineProperty(s,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[d]=m,s}function f(s){var d=o(s,"string");return typeof d=="symbol"?d:d+""}function o(s,d){if(typeof s!="object"||!s)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var y=m.call(s,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}class l{constructor(d){let{dataManager:m,trackingStorage:y,variationConfiguration:S,trackingInterval:b,requester:T,prng:_}=d;g(this,"dataManager",void 0),g(this,"variationConfiguration",void 0),g(this,"requester",void 0),g(this,"bodyProvider",void 0),g(this,"intervalId",null),g(this,"trackingStorage",void 0),C.KameleoonLogger.debug`CALL: new Tracker(dataManager, trackingStorage, variationConfiguration, trackingInterval: ${b}, requester, prng)`,this.dataManager=m,this.trackingStorage=y,this.variationConfiguration=S,this.requester=T,this.bodyProvider=new v.BodyProvider(_);try{this.intervalId=setInterval(()=>{this.sendData()},b)}catch(D){throw this.intervalId&&clearInterval(this.intervalId),D}C.KameleoonLogger.debug`RETURN: new Tracker(dataManager, trackingStorage, variationConfiguration, trackingInterval: ${b}, requester, prng)`}scheduleVisitor(d,m){C.KameleoonLogger.debug`CALL: Tracker.scheduleVisitor(visitorCode: ${d}, isConsentProvided: ${m})`,this.trackingStorage.read().and(y=>{y.scheduledVisitors[d]={isConsentProvided:m},this.trackingStorage.write(y)}),C.KameleoonLogger.debug`RETURN: Tracker.scheduleVisitor(visitorCode: ${d}, isConsentProvided: ${m})`}checkIsIdentifier(d){const m=this.dataManager.isUniqueIdentifier(d);let y=!1;if(m){const S=this.dataManager.getLinkedVisitor(d),b=this.dataManager.identifierCustomDataIndex;S||typeof b!="number"?y=!0:this.dataManager.storeData(d,new u.CustomData(b,d))}return y}getUserAgent(d){const m=this.dataManager.getVisitorData(d);if(m){const y=m[u.KameleoonData.UserAgent];if(y)return y.value}}async sendData(){const d={},m=this.trackingStorage.read();if(!m.ok)return;const{scheduledVisitors:y}=m.data,S=[];for(const[M,{isConsentProvided:A}]of Object.entries(y)){const N=this.checkIsIdentifier(M),L=this.getUserAgent(M),V=this.getUnsentVisitorData(M,A),K=this.getUnsentVariationData(M,A);if(this.bodyProvider.addData({visitorCode:M,variationData:K,visitorData:V,userAgent:L,isConsentProvided:A,isMappingIdentifier:N}).ok)d[M]={visitorData:V,variationData:K},S.push(M);else{C.KameleoonLogger.warning("Visitor data to be tracked exceeded the request size limit. Some visitor data is kept to be sent later. If it is not caused by the peak load, decreasing the tracking interval is recommended.");break}}const{body:b,hasUserAgent:T}=this.bodyProvider.getTrackingBody();if(!b)return;let _=O({},y);if(S.length===Object.keys(y).length?_={}:S.forEach(M=>{delete _[M]}),this.trackingStorage.write({scheduledVisitors:_}),(await this.requester.track(b,T)).ok)C.KameleoonLogger.info`Successful request for tracking visitors: ${S}, data: ${d}`,this.updateDataStatus(d,h.TrackingStatus.Sent);else{C.KameleoonLogger.error("Tracking request failed"),C.KameleoonLogger.info`Failed request for tracking visitors: ${S}, data: ${d}`,this.updateDataStatus(d,h.TrackingStatus.Unsent);let M={};for(const A of S)M[A]={isConsentProvided:y[A].isConsentProvided};this.addNotTrackedVisitors(M)}}addNotTrackedVisitors(d){const m=this.trackingStorage.read();if(!m.ok)return;const{scheduledVisitors:y}=m.data;Object.entries(d).forEach(S=>{let[b,{isConsentProvided:T}]=S;y[b]||(y[b]={isConsentProvided:T})}),this.trackingStorage.write({scheduledVisitors:y})}updateDataStatus(d,m){let y={};for(const[S,{visitorData:b,variationData:T}]of Object.entries(d)){y[S]=b.map(D=>(D.status=m,D));const _=T.map(D=>D.experimentId+"");this.variationConfiguration.updateDataStatus({visitorCode:S,experimentIdList:_,status:m})}m===h.TrackingStatus.Sent?this.dataManager.storeTrackedData(y):this.dataManager.storeData(y)}getUnsentVisitorData(d,m){const y=this.dataManager.getUnsentData(d),S=[];if(!y.length)return[];for(const b of y)b.url&&(b.data.type===u.KameleoonData.Conversion||m)&&S.push(b);if(S.length){const b=S.map(T=>(T.status=h.TrackingStatus.Pending,T));this.dataManager.storeTrackedData({[d]:b})}return S}getUnsentVariationData(d,m){const y=this.variationConfiguration.getUnsentData(d),S=new Set;if(!y.length)return[];const b=y.filter(T=>{const _=T.isTargetedRule||m;return _&&S.add(T.experimentId+""),_});return this.variationConfiguration.updateDataStatus({visitorCode:d,experimentIdList:Array.from(S),status:h.TrackingStatus.Pending}),b}}a.Tracker=l}($c)),$c}var $h;function $0(){return $h||($h=1,function(a){var u=z0();Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"Tracker",{enumerable:!0,get:function(){return u.Tracker}})}(zc)),zc}var Fh;function F0(){return Fh||(Fh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonClient=void 0;var u=ve(),h=XE(),v=oo(),C=o0(),p=bf(),O=co(),g=xe(),f=Vt(),o=so(),l=Ae(),s=tt(),d=U0(),m=ab(),y=ub(),S=pf(),b=$0(),T=_e(),_=nb();function D(L,V,K){return(V=M(V))in L?Object.defineProperty(L,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):L[V]=K,L}function M(L){var V=A(L,"string");return typeof V=="symbol"?V:V+""}function A(L,V){if(typeof L!="object"||!L)return L;var K=L[Symbol.toPrimitive];if(K!==void 0){var j=K.call(L,V);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(L)}class N{constructor(V){var K;let{siteCode:j,dependencies:k,configuration:H,internalConfiguration:x,stubMode:ie}=V;if(D(this,"variationConfiguration",void 0),D(this,"clientConfiguration",void 0),D(this,"dataManager",void 0),D(this,"consentDataStorage",void 0),D(this,"trackingCache",void 0),D(this,"requester",void 0),D(this,"externalPackageInfo",void 0),D(this,"initialized",!1),D(this,"visitorCodeManager",void 0),D(this,"eventManager",void 0),D(this,"tracker",void 0),D(this,"environment",void 0),D(this,"stubMode",void 0),this.stubMode=ie,ie)return this.variationConfiguration={},this.clientConfiguration={},this.dataManager={},this.consentDataStorage={},this.trackingCache={},this.requester={},this.externalPackageInfo={},this.visitorCodeManager={},this.eventManager={},this.tracker={},void(this.environment="");const ee=x==null?void 0:x.externals.externalLogger;ee&&T.KameleoonLogger.setLogger(ee),T.KameleoonLogger.debug`CALL: new KameleoonClient(siteCode: ${j}, dependencies: ${k}, configuration: ${H})`;const{settings:q}=new C.ClientSettings(j,H);this.environment=q.environment;const{externalStorage:Z,externalEventSource:J,externalPackageInfo:ne,externalVisitorCodeManager:U,externalRequester:Q,externalPRNG:te}=x.externals,{useAbortController:W}=x.settings,oe=new h.CacheManager(p.CACHE_CLEANUP_TIMEOUT),ye=new o.DataStorage(Z,o.KameleoonStorageKey.ClientData),ae=new o.DataStorage(Z,o.KameleoonStorageKey.TargetingData),Ne=new o.DataStorage(Z,o.KameleoonStorageKey.DataInfo),Ve=new o.DataStorage(Z,o.KameleoonStorageKey.VariationData),jt=new o.DataStorage(Z,o.KameleoonStorageKey.ForcedExperimentVariation),jn=new o.DataStorage(Z,o.KameleoonStorageKey.ForcedFeatureVariation),Bi=new o.DataStorage(Z,o.KameleoonStorageKey.ConsentData),Un=new o.DataStorage(Z,o.KameleoonStorageKey.TrackingData),Oi=new O.DataManager({dataStorage:ae,infoStorage:Ne,cleanupInterval:q.cleanupInterval,packageInfo:ne}),ei=(K=k==null?void 0:k.urlProvider)!==null&&K!==void 0?K:new f.UrlProvider;ei.initialize({domain:q.networkDomain,siteCode:q.siteCode,packageInfo:ne,environment:q.environment});const wn=new f.Requester({urlProvider:ei,useAbortController:W,packageInfo:ne,externalRequester:Q,requestTimeout:q.requestTimeout,trackRetryDelay:q.trackRetryDelay}),fo=new m.KameleoonEventSource({siteCode:q.siteCode,externalEventSource:J,urlProvider:ei}),st=new S.EventManager,Ir=new v.ClientConfiguration({urlProvider:ei,storage:ye,updateInterval:q.updateInterval,dataManager:Oi,eventManager:st,requester:wn,eventSource:fo,externalVisitorCodeManager:U}),Nn=new d.VariationConfiguration(Ve,jt,jn,U,Ir),qr=new b.Tracker({dataManager:Oi,trackingStorage:Un,variationConfiguration:Nn,requester:wn,trackingInterval:q.trackingInterval,prng:te});this.tracker=qr,this.variationConfiguration=Nn,this.requester=wn,this.trackingCache=oe,this.dataManager=Oi,this.clientConfiguration=Ir,this.externalPackageInfo=ne,this.consentDataStorage=Bi,this.visitorCodeManager=U,this.eventManager=st,q.cleanupInterval!==null&&new o.StorageCleanupManager(Z,q.cleanupInterval),T.KameleoonLogger.debug`RETURN: new KameleoonClient(siteCode: ${j}, dependencies: ${k}, configuration: ${H})`}async initialize(){if(this.stubMode)return!1;T.KameleoonLogger.info("CALL: KameleoonClient.initialize()");const V=await this.clientConfiguration.initialize();return V.throw(),this.initialized=!0,T.KameleoonLogger.info`RETURN: KameleoonClient.initialize() -> (result: ${V.ok})`,V.ok}addData(V){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);for(var K=arguments.length,j=Array(1<K?K-1:0),k=1;k<K;k++)j[k-1]=arguments[k];if(T.KameleoonLogger.info`CALL: KameleoonClient.addData(visitorCode: ${V}, data: ${j})`,this.visitorCodeManager.validateVisitorCode(V).throw(),!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);this.dataManager.storeData(V,...j).throw(),T.KameleoonLogger.info`RETURN: KameleoonClient.addData(visitorCode: ${V}, data: ${j})`}async getRemoteVisitorData(V){let{visitorCode:K,shouldAddData:j=!0,filters:k=p.DEFAULT_VISITOR_DATA_FILTERS}=V;if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);if(T.KameleoonLogger.info`CALL: KameleoonClient.getRemoteVisitorData(visitorCode: ${K}, shouldAddData: ${j}, filters: ${k})`,!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);this.visitorCodeManager.validateVisitorCode(K).throw();const{previousVisitAmount:H}=k;if(typeof H=="number"&&(1>H||25<H))throw new g.KameleoonError(g.KameleoonException.VisitAmount);const x=this.dataManager.isUniqueIdentifier(K),ie=await this.requester.getVisitorData({visitorCode:K,filters:k,isMappingIdentifier:x}),ee=ie.throw(),{visitorData:q,storageVisitorData:Z,visitsData:J,mappingIdentifier:ne}=s.Parser.parseVisitorData({data:ee,filters:k,visitorCode:K,dataManager:this.dataManager,variationConfiguration:this.variationConfiguration});for(const U of Z)(j||this.dataManager.isPersistentCustomData(U))&&this.addData(K,U);return J&&j&&this.addData(K,J),k!=null&&k.visitorCode&&ne&&this.dataManager.setMappingIdentifier(K,ne),T.KameleoonLogger.info`RETURN: KameleoonClient.getRemoteVisitorData(visitorCode: ${K}, shouldAddData: ${j}, filters: ${k}) -> (visitorData: ${q})`,q}trackConversion(V){let{visitorCode:K,goalId:j,negative:k,revenue:H,metadata:x}=V;this.stubMode||(T.KameleoonLogger.info`CALL: KameleoonClient.trackConversion(visitorCode: ${K}, goalId: ${j}, negative: ${k}, revenue: ${H}, metadata: ${x})`,this.addData(K,new O.Conversion({goalId:j,revenue:H,negative:k,metadata:x})),this.flush(K),T.KameleoonLogger.info`RETURN: KameleoonClient.trackConversion(visitorCode: ${K}, goalId: ${j}, negative: ${k}, revenue: ${H}, metadata: ${x})`)}flush(V){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);if(T.KameleoonLogger.info`CALL: KameleoonClient.flush(visitorCode: ${V})`,!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);if(typeof V=="string")return this.visitorCodeManager.validateVisitorCode(V).throw(),this.tracker.scheduleVisitor(V,this._isConsentProvided(V)),void T.KameleoonLogger.info`RETURN: KameleoonClient.flush(visitorCode: ${V})`;for(const K of this.dataManager.unsentDataVisitors)this.tracker.scheduleVisitor(K,this._isConsentProvided(K));T.KameleoonLogger.info`RETURN: KameleoonClient.flush(visitorCode: ${V})`}getFeatureFlags(){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);if(T.KameleoonLogger.info("CALL: KameleoonClient.getFeatureFlags()"),!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);const V=this.clientConfiguration.featureFlags,K=[];return V.forEach(j=>{let{id:k,featureKey:H}=j;K.push({id:k,key:H})}),T.KameleoonLogger.info`RETURN: KameleoonClient.getFeatureFlags() -> (FeatureFlags: ${K})`,K}getVisitorFeatureFlags(V){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);if(T.KameleoonLogger.info`CALL: KameleoonClient.getVisitorFeatureFlags(visitorCode: ${V})`,!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);this.visitorCodeManager.validateVisitorCode(V).throw();const K=this._getActiveFeatureVariations(V),j=[];return K.forEach(k=>{let{featureFlagId:H,featureKey:x}=k;j.push({id:H,key:x})}),T.KameleoonLogger.info`RETURN: KameleoonClient.getVisitorFeatureFlags(visitorCode: ${V}) -> (FeatureFlags: ${j})`,j}getVariation(V){let{visitorCode:K,featureKey:j,track:k=!0}=V;if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);T.KameleoonLogger.info`CALL: KameleoonClient.getVariation(visitorCode: ${K}, featureKey: ${j}, track: ${k})`,this.visitorCodeManager.validateVisitorCode(K).throw();const H=this._getFeatureVariation({visitorCode:K,featureKey:j,track:k}).throw();return T.KameleoonLogger.info`RETURN: KameleoonClient.getVariation(visitorCode: ${K}, featureKey: ${j}, track: ${k}) -> (variation: ${H})`,H}getVariations(V){let{visitorCode:K,onlyActive:j=!1,track:k=!0}=V;if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);T.KameleoonLogger.info`CALL: KameleoonClient.getVariations(visitorCode: ${K}, onlyActive: ${j}, track: ${k})`,this.visitorCodeManager.validateVisitorCode(K).throw();const H=new Map,x=this.clientConfiguration.featureFlags;for(const ie of x.values()){const ee=this._getFeatureVariation({visitorCode:K,featureKey:ie.featureKey,track:k});ee.ok&&(!j||ee.data.key!==p.OFF_VARIATION_KEY)&&H.set(ie.featureKey,ee.data)}return T.KameleoonLogger.info`RETURN: KameleoonClient.getVariations(visitorCode: ${K}, onlyActive: ${j}, track: ${k}) -> (variations: ${H})`,H}getActiveFeatureFlags(V){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);if(T.KameleoonLogger.info`CALL: KameleoonClient.getActiveFeatureFlags(visitorCode: ${V})`,!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);this.visitorCodeManager.validateVisitorCode(V).throw();const K=this._getActiveFeatureVariations(V),j=new Map;return K.forEach(k=>{const{variationKey:H,featureKey:x,variationId:ie,experimentId:ee}=k;let q=[];ie!==null&&ee!==null&&(q=this._getFeatureVariables({visitorCode:V,featureKey:x,variationKey:H}));const Z=q.map(J=>s.Parser.parseFeatureVariable(J).throw());j.set(k.featureKey,{key:H,id:ie,experimentId:ee,variables:Z})}),T.KameleoonLogger.info`RETURN: KameleoonClient.getActiveFeatureFlags(visitorCode: ${V}) -> (FeatureFlags: ${j})`,j}getFeatureFlagVariationKey(V,K){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);T.KameleoonLogger.info`CALL: KameleoonClient.getFeatureFlagVariationKey(visitorCode: ${V}, featureKey: ${K})`,this.visitorCodeManager.validateVisitorCode(V).throw();const{key:j}=this._getFeatureVariation({visitorCode:V,featureKey:K,track:!0}).throw();return T.KameleoonLogger.info`RETURN: KameleoonClient.getFeatureFlagVariationKey(visitorCode: ${V}, featureKey: ${K}) -> (variationKey: ${j})`,j}getFeatureFlagVariable(V){let{visitorCode:K,featureKey:j,variableKey:k}=V;if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);T.KameleoonLogger.info`CALL: KameleoonClient.getFeatureFlagVariable(visitorCode: ${K}, featureKey: ${j}, variableKey: ${k})`,this.visitorCodeManager.validateVisitorCode(K).throw();const{key:H}=this._getFeatureVariation({visitorCode:K,featureKey:j,track:!0}).throw(),x=this._getFeatureVariables({visitorCode:K,featureKey:j,variationKey:H}),ie=x.find(J=>J.key===k);if(!ie)throw new g.KameleoonError(g.KameleoonException.FeatureFlagVariableNotFound,k,K);const{type:ee,value:q}=s.Parser.parseFeatureVariable(ie).throw(),Z={type:ee,value:q};return T.KameleoonLogger.info`RETURN: KameleoonClient.getFeatureFlagVariable(visitorCode: ${K}, featureKey: ${j}, variableKey: ${k}) -> (FeatureFlagVariable: ${Z})`,Z}getFeatureFlagVariables(V,K){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);T.KameleoonLogger.info`CALL: KameleoonClient.getFeatureFlagVariables(visitorCode: ${V}, featureKey: ${K})`,this.visitorCodeManager.validateVisitorCode(V).throw();const{key:j}=this._getFeatureVariation({visitorCode:V,featureKey:K,track:!0}).throw(),k=this._getFeatureVariables({visitorCode:V,featureKey:K,variationKey:j}),H=[];for(const x of k){const ie=s.Parser.parseFeatureVariable(x).throw();H.push(ie)}return T.KameleoonLogger.info`RETURN: KameleoonClient.getFeatureFlagVariables(visitorCode: ${V}, featureKey: ${K}) -> (FeatureFlagVariables: ${H})`,H}isFeatureFlagActive(V,K){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);let[j,k,H]=["","",!0];typeof V=="string"?(T.KameleoonLogger.info`CALL: KameleoonClient.isFeatureFlagActive(visitorCode: ${j}, featureKey: ${k})`,j=V,k=K):(T.KameleoonLogger.info`CALL: KameleoonClient.isFeatureFlagActive(visitorCode: ${j}, featureKey: ${k}, track ${H})`,[j,k]=[V.visitorCode,V.featureKey],V.track!==void 0&&(H=V.track)),this.visitorCodeManager.validateVisitorCode(j).throw();try{const{key:x}=this._getFeatureVariation({visitorCode:j,featureKey:k,track:H}).throw(),ie=x!==p.OFF_VARIATION_KEY;return T.KameleoonLogger.info`RETURN: KameleoonClient.isFeatureFlagActive(visitorCode: ${j}, featureKey: ${k}, track: ${H}) -> (isActive: ${ie})`,ie}catch(x){if(x instanceof g.KameleoonError&&x.type===g.KameleoonException.FeatureFlagEnvironmentDisabled)return T.KameleoonLogger.info`RETURN: KameleoonClient.isFeatureFlagActive(visitorCode: ${j}, featureKey: ${k}, track: ${H}) -> (isActive: false)`,!1;throw x}}async getRemoteData(V){if(this.stubMode)return null;T.KameleoonLogger.info`CALL: KameleoonClient.getRemoteData(key: ${V})`;const K=await this.requester.getRemoteData(V);return T.KameleoonLogger.info`RETURN: KameleoonClient.getRemoteData(key: ${V}) -> (remoteData: ${K})`,K.throw()}async getVisitorWarehouseAudience(V){let{visitorCode:K,customDataIndex:j,warehouseKey:k}=V;if(this.stubMode)return null;T.KameleoonLogger.info`CALL: KameleoonClient.getVisitorWarehouseAudience(visitorCode: ${K}, customDataIndex: ${j}, warehouseKey: ${k})`,this.visitorCodeManager.validateVisitorCode(K).throw();const H=await this.getRemoteData(k||K);if(!H)throw new g.KameleoonError(g.KameleoonException.RemoteData,`No data found for ${k||K} key`);if(!H[p.WAREHOUSE_AUDIENCE_KEY]||Object.keys(H[p.WAREHOUSE_AUDIENCE_KEY]).length===0)return T.KameleoonLogger.info`RETURN: KameleoonClient.getVisitorWarehouseAudience(visitorCode: ${K}, customDataIndex: ${j}, warehouseKey: ${k}) -> (customData: null)`,null;const x=new O.CustomData(j,...Object.keys(H[p.WAREHOUSE_AUDIENCE_KEY]));return this.dataManager.storeData(K,x),T.KameleoonLogger.info`RETURN: KameleoonClient.getVisitorWarehouseAudience(visitorCode: ${K}, customDataIndex: ${j}, warehouseKey: ${k}) -> (customData: ${x})`,x}onEvent(V,K){if(this.stubMode)throw new g.KameleoonError(g.KameleoonException.Initialization);if(T.KameleoonLogger.info`CALL: KameleoonClient.onEvent(event: ${V}, callback)`,!this.initialized)throw new g.KameleoonError(g.KameleoonException.Initialization);this.eventManager.addEventHandler(V,K),T.KameleoonLogger.info`RETURN: KameleoonClient.onEvent(event: ${V}, callback)`}getEngineTrackingCode(V){if(this.stubMode)return"";T.KameleoonLogger.info`CALL: KameleoonClient.getEngineTrackingCode(visitorCode: ${V})`,this.visitorCodeManager.validateVisitorCode(V).throw();const K=s.Utilities.getTrackingCode(this.trackingCache,V);return T.KameleoonLogger.info`RETURN: KameleoonClient.getEngineTrackingCode(visitorCode: ${V}) -> (trackingCode: ${K})`,K}isInitialized(){return T.KameleoonLogger.debug`CALL/RETURN: KameleoonClient.isInitialized() -> (initialized: ${this.initialized})`,this.initialized}setLogLevel(V){T.KameleoonLogger.setLogLevel(V)}setForcedVariation(V){let{visitorCode:K,experimentId:j,variationKey:k,forceTargeting:H=!0}=V;this.stubMode||(T.KameleoonLogger.info`CALL: KameleoonClient.setForcedVariation(visitorCode: '${K}', experimentId: ${j}, variationKey: '${k}', forceTargeting: ${H})`,this.visitorCodeManager.validateVisitorCode(K).throw(),this._setForcedVariation({visitorCode:K,experimentId:j,variationKey:k,forceTargeting:H}).throw(),T.KameleoonLogger.info`RETURN: KameleoonClient.setForcedVariation(visitorCode: '${K}', experimentId: ${j}, variationKey: '${k}', forceTargeting: ${H})`)}setUserConsent(V){let{visitorCode:K,consent:j,setData:k}=V;this.stubMode||(T.KameleoonLogger.info`CALL: KameleoonClient.setUserConsent(visitorCode: ${K}, consent: ${j}, setData: ${k})`,this.visitorCodeManager.validateVisitorCode(K).throw(),this.updateConsentData(K,j),j?k({visitorCode:K,key:o.KameleoonStorageKey.VisitorCode,maxAge:y.DEFAULT_MAX_AGE,path:y.PATH}):this.visitorCodeManager.consentRequired&&k({visitorCode:"",key:o.KameleoonStorageKey.VisitorCode,maxAge:y.ZERO_MAX_AGE,path:y.PATH}),T.KameleoonLogger.info`RETURN: KameleoonClient.setUserConsent(visitorCode: ${K}, consent: ${j}, setData: ${k})`)}updateConsentData(V,K){const j=this.consentDataStorage.read();if(!j.ok)return void(j.error.type===g.KameleoonException.StorageEmpty&&this.consentDataStorage.write({[V]:{consent:K}}));const k=j.data;k[V]={consent:K},this.consentDataStorage.write(k)}_isConsentProvided(V){T.KameleoonLogger.debug`CALL: KameleoonClient._isConsentProvided(visitorCode: ${V})`;const{isConsentRequired:K}=this.clientConfiguration,j=this.consentDataStorage.read();let k=!1;if(!K)k=!0;else if(j.ok){const H=j.data[V];k=typeof H=="boolean"?H:H&&H.consent}return T.KameleoonLogger.debug`RETURN: KameleoonClient._isConsentProvided(visitorCode: ${V}) -> (isConsentProvided: ${k})`,k}_getFeatureVariables(V){let{visitorCode:K,featureKey:j,variationKey:k}=V;T.KameleoonLogger.debug`CALL: KameleoonClient._getFeatureVariables(visitorCode: ${K}, featureKey: ${j}, variationKey: ${k})`;const H=this.clientConfiguration.featureFlags,x=H.get(j);if(!x)throw new g.KameleoonError(g.KameleoonException.FeatureFlagConfigurationNotFound,j);const ie=x.variations.find(ee=>ee.key===k);if(!ie)throw new g.KameleoonError(g.KameleoonException.FeatureFlagVariationNotFound,k,K);return T.KameleoonLogger.debug`RETURN: KameleoonClient._getFeatureVariables(visitorCode: ${K}, featureKey: ${j}, variationKey: ${k}) -> (variables: ${ie.variables})`,ie.variables}_getActiveFeatureVariations(V){T.KameleoonLogger.debug`CALL: KameleoonClient._getActiveFeatureVariations(visitorCode: ${V})`;const K=this.clientConfiguration.featureFlags,j=[];for(const k of K.values()){if(!k.environmentEnabled)continue;const H=this._evaluate({visitorCode:V,featureFlag:k,track:!1,save:!1});H.variationKey!==p.OFF_VARIATION_KEY&&j.push({variationKey:H.variationKey,variationId:H.variationId,experimentId:H.experimentId,featureFlagId:k.id,featureKey:k.featureKey,rule:null,isTargetedRule:H.ruleType===v.RuleType.TARGETED_DELIVERY})}return T.KameleoonLogger.debug`RETURN: KameleoonClient._getActiveFeatureVariations(visitorCode: ${V}) -> (activeVariations: ${j})`,j}_evaluate(V){let{visitorCode:K,featureFlag:j,track:k,save:H}=V;T.KameleoonLogger.debug`CALL: KameleoonClient._evaluate(visitorCode: ${K}, featureFlag: ${j}, track: ${k}, save: ${H})`;let x,ie=null;const ee=this.variationConfiguration.getForcedFeatureVariation(K,j.featureKey);if(ee.ok&&(ie=ee.data),ie)x=N.EvaluatedExperiment.fromForcedFeatureVariation(j.defaultVariationKey,ie);else if(this._isVisitorNotInHoldout(K,k,H)&&this._isFFUnrestrictedByMEGroup(K,j)){const q=this.dataManager.getVisitorData(K),Z=this.dataManager.getVisitorIdentifier(K),J=this.variationConfiguration.getVariation({visitorCode:K,visitorIdentifier:Z,featureFlag:j,track:k,withAssignment:H,targetingData:q,clientConfiguration:this.clientConfiguration,dataManager:this.dataManager,packageInfo:this.externalPackageInfo}).throw();x=N.EvaluatedExperiment.fromVariationData(J)}else x=N.EvaluatedExperiment.fromDefaultVariationKey(j.defaultVariationKey);return H&&!x.isSimulated&&x.experimentId!==null&&x.variationId!==null&&this.variationConfiguration.updateStoredVariations(K,{[x.experimentId]:{variationId:x.variationId,isTargetedRule:x.ruleType===v.RuleType.TARGETED_DELIVERY,status:k?l.TrackingStatus.Unsent:l.TrackingStatus.Sent}}),this.eventManager.fireEvent(S.EventType.Evaluation,{featureKey:j.featureKey,variation:{key:x.variationKey,experimentId:x.experimentId,id:x.variationId}}),T.KameleoonLogger.debug`RETURN: KameleoonClient._evaluate(visitorCode: ${K}, featureFlag: ${j}, track: ${k}, save: ${H}) -> (evalExp: ${x})`,x}_isFFUnrestrictedByMEGroup(V,K){const j=K.mutuallyExclusiveGroup;if(!j)return!0;T.KameleoonLogger.debug`CALL: KameleoonClient._isFFUnrestrictedByMEGroup(visitorCode: ${V}, featureFlag: ${K})`;let k=!0;const H=this.clientConfiguration.meGroups.get(j);if(H){const x=this.dataManager.getVisitorIdentifier(V),ie=_.Hasher.getHashDoubleForMEGroup(x,j);T.KameleoonLogger.debug`Calculated meGroup hash ${ie} for code: '${x}', meGroup: '${j}'`,k=H.getFeatureFlagByHash(ie)===K}return T.KameleoonLogger.debug`RETURN: KameleoonClient._isFFUnrestrictedByMEGroup(visitorCode: '${V}', featureFlag: ${K}) -> (selected: ${k})`,k}_getFeatureVariation(V){let{visitorCode:K,featureKey:j,track:k}=V;if(T.KameleoonLogger.debug`CALL: KameleoonClient._getFeatureVariation(visitorCode: ${K}, featureKey: ${j}, track: ${k})`,!this.initialized)return(0,u.Err)(new g.KameleoonError(g.KameleoonException.Initialization));const H=this.clientConfiguration.featureFlags,x=H.get(j);if(!x)return(0,u.Err)(new g.KameleoonError(g.KameleoonException.FeatureFlagConfigurationNotFound,j));if(!x.environmentEnabled)return(0,u.Err)(new g.KameleoonError(g.KameleoonException.FeatureFlagEnvironmentDisabled,x.featureKey,this.environment));const ie=this._evaluate({visitorCode:K,featureFlag:x,track:k,save:!0}),{experimentId:ee,variationId:q,variationKey:Z,isSimulated:J}=ie;let ne=new Map,U=!1;try{this._getFeatureVariables({visitorCode:K,featureKey:j,variationKey:Z}).forEach(W=>{U||W.type!==l.VariableType.JS&&W.type!==l.VariableType.CSS||(U=!0);const oe=s.Parser.parseFeatureVariable(W).throw();ne.set(W.key,oe)})}catch{}ee&&typeof q=="number"&&!J&&s.Utilities.updateCache({cacheManager:this.trackingCache,hasJsCssVariables:U,visitorCode:K,experimentId:ee,variationId:q}),k&&!J&&this.tracker.scheduleVisitor(K,this._isConsentProvided(K));const Q={key:Z,id:q,experimentId:ee,variables:ne};return T.KameleoonLogger.debug`RETURN: KameleoonClient._getFeatureVariation(visitorCode: ${K}, featureKey: ${j}, track: ${k}) -> (variation: ${Q})`,(0,u.Ok)(Q)}_isVisitorNotInHoldout(V,K,j){const k=this.clientConfiguration.holdout;if(!k)return!0;T.KameleoonLogger.debug`CALL: KameleoonClient._isVisitorNotInHoldout(visitorCode: ${V}, track: ${K}, save: ${j})`;let H=!0;const x=this.dataManager.getVisitorIdentifier(V),ie=_.Hasher.getHashDouble({visitorIdentifier:x,respoolTime:null,id:k.experimentId+""});T.KameleoonLogger.debug`Calculated holdoutHash: ${ie} for visitorCode: ${x}`;let ee=s.Utilities.getVariationByHash(k.variationByExposition,ie);return ee!==null&&(H=ee.variationKey!==p.IN_HOLDOUT_VARIATION_KEY,j&&this.variationConfiguration.updateStoredVariations(V,{[k.experimentId]:{variationId:ee.variationId,isTargetedRule:!1,status:K?l.TrackingStatus.Unsent:l.TrackingStatus.Sent}})),T.KameleoonLogger.debug`RETURN: KameleoonClient._isVisitorNotInHoldout(visitorCode: ${V}, track: ${K}, save: ${j}) -> (isNotInHoldout: ${H})`,H}_setForcedVariation(V){let{visitorCode:K,experimentId:j,variationKey:k,forceTargeting:H=!0}=V;if(T.KameleoonLogger.debug`CALL: KameleoonClient._setForcedVariation(visitorCode: '${K}', experimentId: ${j}, variationKey: '${k}', forceTargeting: ${H})`,k===null){const q=this.variationConfiguration.updateForcedExperimentVariation(K,j,null);return T.KameleoonLogger.debug`RETURN: KameleoonClient._setForcedVariation(visitorCode: '${K}', experimentId: ${j}, variationKey: '${k}', forceTargeting: ${H}) -> (writeResult: ${q})`,q}let x=null,ie=null;if(x=this.clientConfiguration.experimentMap.get(j),!x)return T.KameleoonLogger.error`Experiment with id ${j} not found for visitor ${K}`,(0,u.Err)(new g.KameleoonError(g.KameleoonException.FeatureFlagExperimentNotFound,j,K));if(ie=x.variations.get(k),ie===void 0)return T.KameleoonLogger.error`Variation with key ${k} not found in experiment ${x} for visitor ${K}`,(0,u.Err)(new g.KameleoonError(g.KameleoonException.FeatureFlagVariationNotFound,k,K));x={type:x.type,experimentId:j},ie={variationKey:k,variationId:ie};const ee=this.variationConfiguration.updateForcedExperimentVariation(K,j,{rule:x,varByExp:ie,forceTargeting:H});return T.KameleoonLogger.debug`RETURN: KameleoonClient._setForcedVariation(visitorCode: '${K}', experimentId: ${j}, variationKey: '${k}', forceTargeting: ${H}) -> (writeResult: ${ee})`,ee}}a.KameleoonClient=N,D(N,"EvaluatedExperiment",class{static fromForcedFeatureVariation(L,V){var K,j,k;let H=L;return V.varByExp?H=V.varByExp.variationKey:V.rule&&V.rule.type===v.RuleType.EXPERIMENTATION&&(H=p.OFF_VARIATION_KEY),{variationKey:H,variationId:((K=V.varByExp)===null||K===void 0?void 0:K.variationId)||null,experimentId:((j=V.rule)===null||j===void 0?void 0:j.experimentId)||null,ruleType:((k=V.rule)===null||k===void 0?void 0:k.type)||null,isSimulated:V.simulated}}static fromVariationData(L){var V,K;return{variationKey:L.variationKey,variationId:L.variationId,experimentId:L.experimentId,ruleType:(V=(K=L.rule)===null||K===void 0?void 0:K.type)!==null&&V!==void 0?V:null,isSimulated:!1}}static fromDefaultVariationKey(L){return{variationKey:L,variationId:null,experimentId:null,ruleType:null,isSimulated:!1}}})}(wl)),wl}var Hc={},Gh;function G0(){return Gh||(Gh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonUtils=void 0;var u=xe(),h=Vt();class v{static simulateSuccessRequest(p,O){switch(p){case h.RequestType.Tracking:return new Promise(g=>{g({status:204,json:()=>new Promise(f=>f(null)),text:()=>new Promise(f=>f("")),ok:!0})});case h.RequestType.Configuration:case h.RequestType.RemoteData:return new Promise(g=>{g({status:200,json:()=>new Promise(f=>f(O)),text:()=>new Promise(f=>f("")),ok:!0})});default:(0,u.exhaustCheck)(p)}}static getCookieValue(p,O){const g=p.split("; "),f=g.find(o=>{const[l,s]=o.split("=");return l===O&&s!==""});return f?f.split("=")[1]:null}}a.KameleoonUtils=v}(Hc)),Hc}var Bc={},Hh;function H0(){return Hh||(Hh=1,Object.defineProperty(Bc,"__esModule",{value:!0})),Bc}var Bh;function Nr(){return Bh||(Bh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ApplicationVersion",{enumerable:!0,get:function(){return b.ApplicationVersion}}),Object.defineProperty(a,"ApplicationVersionDataType",{enumerable:!0,get:function(){return b.ApplicationVersionDataType}}),Object.defineProperty(a,"BooleanVariableType",{enumerable:!0,get:function(){return y.BooleanVariableType}}),Object.defineProperty(a,"Browser",{enumerable:!0,get:function(){return b.Browser}}),Object.defineProperty(a,"BrowserType",{enumerable:!0,get:function(){return b.BrowserType}}),Object.defineProperty(a,"ConfigurationDataType",{enumerable:!0,get:function(){return m.ConfigurationDataType}}),Object.defineProperty(a,"ConfigurationUpdateEventDataType",{enumerable:!0,get:function(){return f.ConfigurationUpdateEventDataType}}),Object.defineProperty(a,"Conversion",{enumerable:!0,get:function(){return b.Conversion}}),Object.defineProperty(a,"ConversionParametersType",{enumerable:!0,get:function(){return b.ConversionParametersType}}),Object.defineProperty(a,"Cookie",{enumerable:!0,get:function(){return b.Cookie}}),Object.defineProperty(a,"CookieType",{enumerable:!0,get:function(){return b.CookieType}}),Object.defineProperty(a,"CustomData",{enumerable:!0,get:function(){return b.CustomData}}),Object.defineProperty(a,"Device",{enumerable:!0,get:function(){return b.Device}}),Object.defineProperty(a,"DeviceType",{enumerable:!0,get:function(){return b.DeviceType}}),Object.defineProperty(a,"Environment",{enumerable:!0,get:function(){return S.Environment}}),Object.defineProperty(a,"Err",{enumerable:!0,get:function(){return u.Err}}),Object.defineProperty(a,"EvaluationEventDataType",{enumerable:!0,get:function(){return f.EvaluationEventDataType}}),Object.defineProperty(a,"EventCallbackType",{enumerable:!0,get:function(){return f.EventCallbackType}}),Object.defineProperty(a,"EventDataType",{enumerable:!0,get:function(){return f.EventDataType}}),Object.defineProperty(a,"EventSourceOpenParametersType",{enumerable:!0,get:function(){return T.EventSourceOpenParametersType}}),Object.defineProperty(a,"EventType",{enumerable:!0,get:function(){return f.EventType}}),Object.defineProperty(a,"ExternalPackageInfoType",{enumerable:!0,get:function(){return S.ExternalPackageInfoType}}),Object.defineProperty(a,"FeatureFlagType",{enumerable:!0,get:function(){return y.FeatureFlagType}}),Object.defineProperty(a,"FeatureFlagVariableType",{enumerable:!0,get:function(){return y.FeatureFlagVariableType}}),Object.defineProperty(a,"FeatureFlagVariationsType",{enumerable:!0,get:function(){return g.FeatureFlagVariationsType}}),Object.defineProperty(a,"FeatureVariableResultType",{enumerable:!0,get:function(){return y.FeatureVariableResultType}}),Object.defineProperty(a,"GeolocationData",{enumerable:!0,get:function(){return b.GeolocationData}}),Object.defineProperty(a,"GeolocationInfoType",{enumerable:!0,get:function(){return b.GeolocationInfoType}}),Object.defineProperty(a,"GetFeatureFlagVariableParamsType",{enumerable:!0,get:function(){return y.GetFeatureFlagVariableParamsType}}),Object.defineProperty(a,"GetVariationParamsType",{enumerable:!0,get:function(){return y.GetVariationParamsType}}),Object.defineProperty(a,"GetVariationsParamsType",{enumerable:!0,get:function(){return y.GetVariationsParamsType}}),Object.defineProperty(a,"GetVisitorWarehouseAudienceParamsType",{enumerable:!0,get:function(){return y.GetVisitorWarehouseAudienceParamsType}}),Object.defineProperty(a,"Header",{enumerable:!0,get:function(){return _.Header}}),Object.defineProperty(a,"HeadersType",{enumerable:!0,get:function(){return _.HeadersType}}),Object.defineProperty(a,"HttpMethod",{enumerable:!0,get:function(){return _.HttpMethod}}),Object.defineProperty(a,"IExternalEventSource",{enumerable:!0,get:function(){return T.IExternalEventSource}}),Object.defineProperty(a,"IExternalLogger",{enumerable:!0,get:function(){return l.IExternalLogger}}),Object.defineProperty(a,"IExternalPRNG",{enumerable:!0,get:function(){return O.IExternalPRNG}}),Object.defineProperty(a,"IExternalRequester",{enumerable:!0,get:function(){return _.IExternalRequester}}),Object.defineProperty(a,"IExternalStorage",{enumerable:!0,get:function(){return g.IExternalStorage}}),Object.defineProperty(a,"IKameleoonCore",{enumerable:!0,get:function(){return C.IKameleoonClient}}),Object.defineProperty(a,"IVisitorCodeManager",{enumerable:!0,get:function(){return o.IVisitorCodeManager}}),Object.defineProperty(a,"InternalSDKConfigurationType",{enumerable:!0,get:function(){return y.InternalSDKConfigurationType}}),Object.defineProperty(a,"InternalsType",{enumerable:!0,get:function(){return y.InternalsType}}),Object.defineProperty(a,"IsFeatureFlagActiveParamsType",{enumerable:!0,get:function(){return y.IsFeatureFlagActiveParamsType}}),Object.defineProperty(a,"JSONType",{enumerable:!0,get:function(){return m.JSONType}}),Object.defineProperty(a,"JSONVariableType",{enumerable:!0,get:function(){return y.JSONVariableType}}),Object.defineProperty(a,"KameleoonCore",{enumerable:!0,get:function(){return h.KameleoonClient}}),Object.defineProperty(a,"KameleoonData",{enumerable:!0,get:function(){return b.KameleoonData}}),Object.defineProperty(a,"KameleoonDataType",{enumerable:!0,get:function(){return b.KameleoonDataType}}),Object.defineProperty(a,"KameleoonError",{enumerable:!0,get:function(){return p.KameleoonError}}),Object.defineProperty(a,"KameleoonException",{enumerable:!0,get:function(){return p.KameleoonException}}),Object.defineProperty(a,"KameleoonLogger",{enumerable:!0,get:function(){return l.KameleoonLogger}}),Object.defineProperty(a,"KameleoonResponseType",{enumerable:!0,get:function(){return _.KameleoonResponseType}}),Object.defineProperty(a,"KameleoonStorageKey",{enumerable:!0,get:function(){return g.KameleoonStorageKey}}),Object.defineProperty(a,"KameleoonUtils",{enumerable:!0,get:function(){return v.KameleoonUtils}}),Object.defineProperty(a,"KameleoonVariableType",{enumerable:!0,get:function(){return y.KameleoonVariableType}}),Object.defineProperty(a,"KameleoonVariationType",{enumerable:!0,get:function(){return y.KameleoonVariationType}}),Object.defineProperty(a,"LogLevel",{enumerable:!0,get:function(){return l.LogLevel}}),Object.defineProperty(a,"Milliseconds",{enumerable:!0,get:function(){return y.Milliseconds}}),Object.defineProperty(a,"NUMBER_OF_RETRIES",{enumerable:!0,get:function(){return _.NUMBER_OF_RETRIES}}),Object.defineProperty(a,"NumberVariableType",{enumerable:!0,get:function(){return y.NumberVariableType}}),Object.defineProperty(a,"Ok",{enumerable:!0,get:function(){return u.Ok}}),Object.defineProperty(a,"OperatingSystem",{enumerable:!0,get:function(){return b.OperatingSystem}}),Object.defineProperty(a,"OperatingSystemType",{enumerable:!0,get:function(){return b.OperatingSystemType}}),Object.defineProperty(a,"PageView",{enumerable:!0,get:function(){return b.PageView}}),Object.defineProperty(a,"PageViewParametersType",{enumerable:!0,get:function(){return b.PageViewParametersType}}),Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return s.Parser}}),Object.defineProperty(a,"RemoteVisitorDataParamsType",{enumerable:!0,get:function(){return y.RemoteVisitorDataParamsType}}),Object.defineProperty(a,"RequestParametersType",{enumerable:!0,get:function(){return _.RequestParametersType}}),Object.defineProperty(a,"RequestType",{enumerable:!0,get:function(){return _.RequestType}}),Object.defineProperty(a,"Result",{enumerable:!0,get:function(){return u.Result}}),Object.defineProperty(a,"RetryCountType",{enumerable:!0,get:function(){return _.RetryCountType}}),Object.defineProperty(a,"SDKConfigurationType",{enumerable:!0,get:function(){return y.SDKConfigurationType}}),Object.defineProperty(a,"SDKCoreParameters",{enumerable:!0,get:function(){return y.SDKCoreParameters}}),Object.defineProperty(a,"SdkLanguageType",{enumerable:!0,get:function(){return d.SdkLanguageType}}),Object.defineProperty(a,"SendRequestParametersType",{enumerable:!0,get:function(){return _.SendRequestParametersType}}),Object.defineProperty(a,"SetDataCallbackParametersType",{enumerable:!0,get:function(){return y.SetDataCallbackParametersType}}),Object.defineProperty(a,"SetForcedVariationParametersType",{enumerable:!0,get:function(){return y.SetForcedVariationParametersType}}),Object.defineProperty(a,"SimulateRequestDataType",{enumerable:!0,get:function(){return y.SimulateRequestDataType}}),Object.defineProperty(a,"StorageDataType",{enumerable:!0,get:function(){return g.StorageDataType}}),Object.defineProperty(a,"StringVariableType",{enumerable:!0,get:function(){return y.StringVariableType}}),Object.defineProperty(a,"TrackConversionParamsType",{enumerable:!0,get:function(){return y.TrackConversionParamsType}}),Object.defineProperty(a,"TrackingStatus",{enumerable:!0,get:function(){return y.TrackingStatus}}),Object.defineProperty(a,"UniqueIdentifier",{enumerable:!0,get:function(){return b.UniqueIdentifier}}),Object.defineProperty(a,"UserAgent",{enumerable:!0,get:function(){return b.UserAgent}}),Object.defineProperty(a,"VISITOR_CODE_LENGTH",{enumerable:!0,get:function(){return o.VISITOR_CODE_LENGTH}}),Object.defineProperty(a,"Validator",{enumerable:!0,get:function(){return O.Validator}}),Object.defineProperty(a,"VariableType",{enumerable:!0,get:function(){return y.VariableType}}),Object.defineProperty(a,"VariationType",{enumerable:!0,get:function(){return y.VariationType}}),Object.defineProperty(a,"VisitorCodeManager",{enumerable:!0,get:function(){return o.VisitorCodeManager}}),Object.defineProperty(a,"VisitorDataFiltersType",{enumerable:!0,get:function(){return O.VisitorDataFiltersType}});var u=ve(),h=F0(),v=G0(),C=H0(),p=xe(),O=tt(),g=so(),f=pf(),o=ub(),l=_e(),s=Mp(),d=bf(),m=oo(),y=Ae(),S=hf(),b=co(),T=ab(),_=Vt()}(jl)),jl}var Yc={},xc={},Yh;function B0(){return Yh||(Yh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Requester=void 0;class u{async sendRequest(v){let{url:C,parameters:p}=v;return await fetch(C,p)}}a.Requester=u}(xc)),xc}var Xc={},Qc={},Zc={},xh;function Y0(){return xh||(xh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.CookieParameter=void 0,a.CookieParameter=function(u){return u.PairsDelimiter="; ",u.KeyValueDelimiter="=",u.MaxAge="Max-Age",u.Path="Path",u.Domain="Domain",u}({})}(Zc)),Zc}var Xh;function lb(){return Xh||(Xh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonVisitorCodeManager=void 0;var u=Y0(),h=Nr();class v{getData(p){h.KameleoonLogger.debug`CALL: VisitorCodeManager.getData(key: ${p})`;const O=document.cookie;let g=null;return O&&(g=h.KameleoonUtils.getCookieValue(O,p)),h.KameleoonLogger.debug`RETURN: VisitorCodeManager.getData(key: ${p}) -> (visitorCode: ${g})`,g}setData(p){let{visitorCode:O,domain:g,maxAge:f,key:o,path:l}=p;const s=this.getResultCookie({domain:g,visitorCode:O,key:o,maxAge:f,path:l});document.cookie=s,h.KameleoonLogger.debug`Cookie ${s} was added for visitor ${O}`}getResultCookie(p){let{domain:O,visitorCode:g,maxAge:f,key:o,path:l}=p;const s=[o+u.CookieParameter.KeyValueDelimiter+g,u.CookieParameter.MaxAge+u.CookieParameter.KeyValueDelimiter+f,u.CookieParameter.Path+u.CookieParameter.KeyValueDelimiter+l];return O&&s.push(u.CookieParameter.Domain+u.CookieParameter.KeyValueDelimiter+O),s.join(u.CookieParameter.PairsDelimiter)}}a.KameleoonVisitorCodeManager=v}(Qc)),Qc}var Qh;function x0(){return Qh||(Qh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DataStorage=void 0;var u=Nr(),h=lb();function v(g,f,o){return(f=C(f))in g?Object.defineProperty(g,f,{value:o,enumerable:!0,configurable:!0,writable:!0}):g[f]=o,g}function C(g){var f=p(g,"string");return typeof f=="symbol"?f:f+""}function p(g,f){if(typeof g!="object"||!g)return g;var o=g[Symbol.toPrimitive];if(o!==void 0){var l=o.call(g,f);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(g)}class O{constructor(){v(this,"visitorCodeManager",void 0)}read(f){const o=localStorage.getItem(f);if(!o){if(f===u.KameleoonStorageKey.ConsentData){const l=this.getEngineConsentData();if(l)return l}return null}return JSON.parse(o)}write(f,o){localStorage.setItem(f,JSON.stringify(o))}getEngineConsentData(){this.visitorCodeManager||(this.visitorCodeManager=new h.KameleoonVisitorCodeManager);const f=this.visitorCodeManager.getData(u.KameleoonStorageKey.VisitorCode);if(!f)return null;try{var o;const l=localStorage.getItem("kameleoonLegalConsent");if(!l)return null;const s=JSON.parse(l);return typeof(s==null||(o=s.value)===null||o===void 0?void 0:o.AB_TESTING)=="boolean"?{[f]:s.value.AB_TESTING}:null}catch{return null}}}a.DataStorage=O}(Xc)),Xc}var Jc={},Zh;function X0(){return Zh||(Zh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonEventSource=void 0;function u(p,O,g){return(O=h(O))in p?Object.defineProperty(p,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[O]=g,p}function h(p){var O=v(p,"string");return typeof O=="symbol"?O:O+""}function v(p,O){if(typeof p!="object"||!p)return p;var g=p[Symbol.toPrimitive];if(g!==void 0){var f=g.call(p,O);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(p)}class C{constructor(){u(this,"eventSource",void 0)}open(O){let{eventType:g,onEvent:f,url:o}=O;const l=new EventSource(o);this.eventSource=l,this.eventSource.addEventListener(g,f)}close(){this.eventSource&&this.eventSource.close()}onError(O){this.eventSource&&(this.eventSource.onerror=O)}}a.KameleoonEventSource=C}(Jc)),Jc}var Wc={},Jh;function Q0(){return Jh||(Jh=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonPRNG=void 0;class u{getRandomNumber(){var v;if(typeof window<"u"&&(v=window)!==null&&v!==void 0&&v.crypto){const C=new Uint32Array(1);return window.crypto.getRandomValues(C),C[0]/4294967296}return Math.random()}}a.KameleoonPRNG=u}(Wc)),Wc}var ef={},Wh;function Z0(){return Wh||(Wh=1,function(a){var u=Nr();Object.defineProperty(a,"__esModule",{value:!0}),a.DefaultLogger=void 0;class h{log(C,p){p=`${new Date().toLocaleString("en-US",{timeZoneName:"short"})} ${p}`,C===u.LogLevel.DEBUG?console.debug(p):C===u.LogLevel.INFO?console.info(p):C===u.LogLevel.WARNING?console.warn(p):C===u.LogLevel.ERROR&&console.error(p)}}a.DefaultLogger=h}(ef)),ef}var ep;function J0(){return ep||(ep=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonClient=void 0;var u=Nr(),h=B0(),v=x0(),C=X0(),p=lb(),O=Q0(),g=Z0();function f(y,S){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(y);S&&(T=T.filter(function(_){return Object.getOwnPropertyDescriptor(y,_).enumerable})),b.push.apply(b,T)}return b}function o(y){for(var S,b=1;b<arguments.length;b++)S=arguments[b]==null?{}:arguments[b],b%2?f(Object(S),!0).forEach(function(T){l(y,T,S[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):f(Object(S)).forEach(function(T){Object.defineProperty(y,T,Object.getOwnPropertyDescriptor(S,T))});return y}function l(y,S,b){return(S=s(S))in y?Object.defineProperty(y,S,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[S]=b,y}function s(y){var S=d(y,"string");return typeof S=="symbol"?S:S+""}function d(y,S){if(typeof y!="object"||!y)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var T=b.call(y,S);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(y)}class m extends u.KameleoonCore{constructor(S){let{siteCode:b,configuration:T,externals:_,_internals:D,stubMode:M}=S;if(M)return super({siteCode:b,internalConfiguration:{},stubMode:M}),l(this,"domain",void 0),l(this,"internalVisitorCodeManager",void 0),l(this,"externalVisitorCodeManager",void 0),this.internalVisitorCodeManager={},void(this.externalVisitorCodeManager={});const A=(D==null?void 0:D.prng)||new O.KameleoonPRNG,N=(_==null?void 0:_.storage)||new v.DataStorage,L=(_==null?void 0:_.requester)||new h.Requester,V=(_==null?void 0:_.eventSource)||new C.KameleoonEventSource,K=new u.VisitorCodeManager,j=(_==null?void 0:_.visitorCodeManager)||new p.KameleoonVisitorCodeManager,k=(D==null?void 0:D.packageInfo)||{type:u.SdkLanguageType.JAVASCRIPT,version:"4.9.1",isServer:!1},H={externalPRNG:A,externalStorage:N,externalRequester:L,externalEventSource:V,externalVisitorCodeManager:K,externalPackageInfo:k,externalLogger:(_==null?void 0:_.logger)||new g.DefaultLogger};super({siteCode:b,configuration:T,internalConfiguration:{externals:H,settings:{useAbortController:!0}}}),l(this,"domain",void 0),l(this,"internalVisitorCodeManager",void 0),l(this,"externalVisitorCodeManager",void 0);const x=u.Validator.validateDomain(T==null?void 0:T.cookieDomain);this.domain=x.ok?x.data:void 0,this.internalVisitorCodeManager=K,this.externalVisitorCodeManager=j}getVisitorCode(S){if(this.stubMode)return"";u.KameleoonLogger.info`CALL KamaleoonClient.getVisitorCode(defaultVisitorCode: ${S})`,this.internalVisitorCodeManager.getData=T=>this.externalVisitorCodeManager.getData(T),this.internalVisitorCodeManager.setData=T=>{this.externalVisitorCodeManager.setData(o(o({},T),{},{domain:this.domain}))};const b=this.internalVisitorCodeManager.getVisitorCode(S);return u.KameleoonLogger.info`RETURN KamaleoonClient.getVisitorCode(defaultVisitorCode: ${S}) -> (visitorCode: ${b})`,b}setLegalConsent(S,b){this.stubMode||super.setUserConsent({visitorCode:S,consent:b,setData:T=>{this.externalVisitorCodeManager.setData(o(o({},T),{},{domain:this.domain}))}})}}a.KameleoonClient=m}(Yc)),Yc}var tp;function sb(){return tp||(tp=1,function(a){var u={KameleoonClient:!0},h=Nr(),v=J0();Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"KameleoonClient",{enumerable:!0,get:function(){return v.KameleoonClient}}),Object.keys(h).forEach(function(C){C==="default"||C==="__esModule"||Object.prototype.hasOwnProperty.call(u,C)||C in a&&a[C]===h[C]||Object.defineProperty(a,C,{enumerable:!0,get:function(){return h[C]}})})}(Pl)),Pl}var tf={},nf={},ip;function kr(){return ip||(ip=1,function(a){"use client";var u=h(Mt());Object.defineProperty(a,"__esModule",{value:!0}),a.KameleoonContext=void 0;function h(v){return v&&v.__esModule?v:{default:v}}a.KameleoonContext=u.default.createContext(null)}(nf)),nf}var np;function W0(){return np||(np=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=v(Mt()),h=kr();function v(p){return p&&p.__esModule?p:{default:p}}function C(p){let{client:O,children:g}=p;return u.default.createElement(h.KameleoonContext.Provider,{value:{kameleoonClient:O,sdkParameters:null}},g)}a.default=u.default.memo(C)}(tf)),tf}var rf={},rp;function eC(){return rp||(rp=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=v(Mt()),h=kr();function v(p){return p&&p.__esModule?p:{default:p}}function C(p){let{sdkParameters:O,children:g}=p;return u.default.createElement(h.KameleoonContext.Provider,{value:{kameleoonClient:null,sdkParameters:O}},g)}a.default=u.default.memo(C)}(rf)),rf}var af={},of={},uf={},ap;function cb(){return ap||(ap=1,function(a){var u=sb();Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=h;function h(v){let{siteCode:C,configuration:p,externals:O,stubMode:g}=v;return new u.KameleoonClient({siteCode:C,configuration:p,externals:O,_internals:{packageInfo:{type:u.SdkLanguageType.REACT,version:"10.10.1",isServer:!1},prng:O==null?void 0:O.prng},stubMode:g})}}(uf)),uf}var op;function Lr(){return op||(op=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.fetchClientFromContext=p,a.useKameleoonContext=C;var u=Mt(),h=kr(),v=cb();function C(){const O=(0,u.useContext)(h.KameleoonContext);if(!O)throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider");return O}function p(O){if(!O)throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider");if(!O.kameleoonClient){const g=O.sdkParameters;if(g)return g.stubMode=!1,O.kameleoonClient=(0,v.createClient)(g),O.kameleoonClient;throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider")}return O.kameleoonClient}}(of)),of}var up;function tC(){return up||(up=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.useData=v;var u=Mt(),h=Lr();function v(){const C=(0,h.useKameleoonContext)();let p=C?C.kameleoonClient:null;const O=(0,u.useCallback)(function(d){p=(0,h.fetchClientFromContext)(C);for(var m=arguments.length,y=Array(1<m?m-1:0),S=1;S<m;S++)y[S-1]=arguments[S];p.addData(d,...y)},[C]),g=(0,u.useCallback)(d=>{p=(0,h.fetchClientFromContext)(C),p.flush(d)},[C]),f=(0,u.useCallback)(d=>{let{visitorCode:m,goalId:y,revenue:S,negative:b,metadata:T}=d;p=(0,h.fetchClientFromContext)(C),p.trackConversion({visitorCode:m,goalId:y,revenue:S,negative:b,metadata:T})},[p]),o=(0,u.useCallback)(async d=>(p=(0,h.fetchClientFromContext)(C),await p.getRemoteData(d)),[C]),l=(0,u.useCallback)(async d=>(p=(0,h.fetchClientFromContext)(C),await p.getRemoteVisitorData(d)),[C]),s=(0,u.useCallback)(async d=>(p=(0,h.fetchClientFromContext)(C),await p.getVisitorWarehouseAudience(d)),[C]);return{getRemoteData:o,getRemoteVisitorData:l,getVisitorWarehouseAudience:s,trackConversion:f,addData:O,flush:g}}}(af)),af}var lf={},lp;function iC(){return lp||(lp=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.useFeatureFlag=v;var u=Mt(),h=Lr();function v(){const C=(0,h.useKameleoonContext)();let p=C?C.kameleoonClient:null;const O=(0,u.useCallback)((T,_)=>{if(p=(0,h.fetchClientFromContext)(C),typeof T=="string"){if(!_)throw new Error("[Kameleoon React SDK Error]: Overload is not used correctly. The second parameter must be provided when the first parameter is a string");return p.isFeatureFlagActive(T,_)}return p.isFeatureFlagActive(T)},[C]),g=(0,u.useCallback)(T=>{let{visitorCode:_,featureKey:D,track:M}=T;return p=(0,h.fetchClientFromContext)(C),p.getVariation({visitorCode:_,featureKey:D,track:M})},[C]),f=(0,u.useCallback)(T=>{let{visitorCode:_,onlyActive:D,track:M}=T;return p=(0,h.fetchClientFromContext)(C),p.getVariations({visitorCode:_,onlyActive:D,track:M})},[p]),o=(0,u.useCallback)((T,_)=>(p=(0,h.fetchClientFromContext)(C),p.getFeatureFlagVariationKey(T,_)),[C]),l=(0,u.useCallback)(T=>{let{visitorCode:_,featureKey:D,variableKey:M}=T;return p=(0,h.fetchClientFromContext)(C),p.getFeatureFlagVariable({visitorCode:_,featureKey:D,variableKey:M})},[C]),s=(0,u.useCallback)(T=>(p=(0,h.fetchClientFromContext)(C),p.getVisitorFeatureFlags(T)),[C]),d=(0,u.useCallback)(T=>(p=(0,h.fetchClientFromContext)(C),p.getActiveFeatureFlags(T)),[C]),m=(0,u.useCallback)(()=>(p=(0,h.fetchClientFromContext)(C),p.getFeatureFlags()),[C]),y=(0,u.useCallback)((T,_)=>(p=(0,h.fetchClientFromContext)(C),p.getFeatureFlagVariables(T,_)),[C]),S=(0,u.useCallback)(T=>(p=(0,h.fetchClientFromContext)(C),p.getEngineTrackingCode(T)),[C]),b=(0,u.useCallback)(T=>{let{visitorCode:_,experimentId:D,variationKey:M,forceTargeting:A}=T;return p=(0,h.fetchClientFromContext)(C),p.setForcedVariation({visitorCode:_,experimentId:D,variationKey:M,forceTargeting:A})},[C]);return{getActiveFeatureFlags:d,getVariation:g,getVariations:f,getFeatureFlags:m,isFeatureFlagActive:O,getEngineTrackingCode:S,getVisitorFeatureFlags:s,getFeatureFlagVariable:l,getFeatureFlagVariables:y,getFeatureFlagVariationKey:o,setForcedVariation:b}}}(lf)),lf}var sf={},sp;function nC(){return sp||(sp=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.useInitialize=v;var u=Mt(),h=Lr();function v(){const C=(0,h.useKameleoonContext)();let p=C?C.kameleoonClient:null;const O=(0,u.useCallback)(async()=>(p=(0,h.fetchClientFromContext)(C),await p.initialize()),[C]),g=(0,u.useCallback)((o,l)=>{p=(0,h.fetchClientFromContext)(C),p.onEvent(o,l)},[C]),f=(0,u.useCallback)(()=>(p=(0,h.fetchClientFromContext)(C),p.isInitialized()),[C]);return{onEvent:g,initialize:O,isInitialized:f}}}(sf)),sf}var cf={},cp;function rC(){return cp||(cp=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.useVisitorCode=v;var u=Mt(),h=Lr();function v(){const C=(0,h.useKameleoonContext)();let p=C?C.kameleoonClient:null;const O=(0,u.useCallback)((f,o)=>{p=(0,h.fetchClientFromContext)(C),p.setLegalConsent(f,o)},[C]),g=(0,u.useCallback)(f=>(p=(0,h.fetchClientFromContext)(C),p.getVisitorCode(f)),[C]);return{setLegalConsent:O,getVisitorCode:g}}}(cf)),cf}var fp={},dp;function aC(){return dp||(dp=1),fp}var gp={},vp;function oC(){return vp||(vp=1),gp}var mp={},yp;function uC(){return yp||(yp=1),mp}var hp={},pp;function lC(){return pp||(pp=1),hp}var ff={},bp;function sC(){return bp||(bp=1,function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),a.useKameleoon=C;var u=Mt(),h=kr(),v=Lr();function C(){const p=(0,u.useContext)(h.KameleoonContext);if(!p)throw new Error("Kameleoon SDK hooks must be used within a KameleoonProvider");return(0,v.fetchClientFromContext)(p)}}(ff)),ff}var df={},Tp;function cC(){return Tp||(Tp=1,Object.defineProperty(df,"__esModule",{value:!0})),df}var Ep;function fC(){return Ep||(Ep=1,function(a){var u={KameleoonProvider:!0,IKameleoonProviderProps:!0,KameleoonProviderSSR:!0,IKameleoonProviderSSRProps:!0,useData:!0,useFeatureFlag:!0,useInitialize:!0,useVisitorCode:!0,IUseData:!0,IUseInitialize:!0,IUseFeatureFlag:!0,IUseVisitorCode:!0,KameleoonContext:!0,useKameleoon:!0,createClient:!0,SDKParameters:!0,ExternalsType:!0},h=sb();Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ExternalsType",{enumerable:!0,get:function(){return b.ExternalsType}}),Object.defineProperty(a,"IKameleoonProviderProps",{enumerable:!0,get:function(){return v.IKameleoonProviderProps}}),Object.defineProperty(a,"IKameleoonProviderSSRProps",{enumerable:!0,get:function(){return C.IKameleoonProviderSSRProps}}),Object.defineProperty(a,"IUseData",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(a,"IUseFeatureFlag",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(a,"IUseInitialize",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(a,"IUseVisitorCode",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"KameleoonContext",{enumerable:!0,get:function(){return m.KameleoonContext}}),Object.defineProperty(a,"KameleoonProvider",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(a,"KameleoonProviderSSR",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(a,"SDKParameters",{enumerable:!0,get:function(){return b.SDKParameters}}),Object.defineProperty(a,"createClient",{enumerable:!0,get:function(){return S.createClient}}),Object.defineProperty(a,"useData",{enumerable:!0,get:function(){return p.useData}}),Object.defineProperty(a,"useFeatureFlag",{enumerable:!0,get:function(){return O.useFeatureFlag}}),Object.defineProperty(a,"useInitialize",{enumerable:!0,get:function(){return g.useInitialize}}),Object.defineProperty(a,"useKameleoon",{enumerable:!0,get:function(){return y.useKameleoon}}),Object.defineProperty(a,"useVisitorCode",{enumerable:!0,get:function(){return f.useVisitorCode}}),Object.keys(h).forEach(function(M){M==="default"||M==="__esModule"||Object.prototype.hasOwnProperty.call(u,M)||M in a&&a[M]===h[M]||Object.defineProperty(a,M,{enumerable:!0,get:function(){return h[M]}})});var v=D(W0()),C=D(eC()),p=tC(),O=iC(),g=nC(),f=rC(),o=T(aC()),l=T(oC()),s=T(uC()),d=T(lC()),m=kr(),y=sC(),S=cb(),b=cC();function T(M){return M&&M.__esModule?M:{default:M}}function _(M){if(typeof WeakMap!="function")return null;var A=new WeakMap,N=new WeakMap;return(_=function(L){return L?N:A})(M)}function D(M,A){if(M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var N=_(A);if(N&&N.has(M))return N.get(M);var L={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in M)if(K!="default"&&{}.hasOwnProperty.call(M,K)){var j=V?Object.getOwnPropertyDescriptor(M,K):null;j&&(j.get||j.set)?Object.defineProperty(L,K,j):L[K]=M[K]}return L.default=M,N&&N.set(M,L),L}}(Al)),Al}var Hi=fC();function dC(){const[a,u]=to.useState(0),{initialize:h}=Hi.useInitialize(),{addData:v}=Hi.useData(),{getVisitorCode:C}=Hi.useVisitorCode(),p=to.useCallback(async()=>{await h();const O=C();v(O,new Hi.CustomData(0,"my_value"))},[v,C,h]);return to.useEffect(()=>{p()},[p]),lt.jsx(lt.Fragment,{children:lt.jsxs("div",{className:"app-container",children:[lt.jsx("header",{className:"app-header",children:lt.jsx("h1",{children:"A Simple Page"})}),lt.jsxs("main",{className:"app-main",children:[lt.jsx("h2",{className:"app-title",children:"Welcome to My Page!"}),lt.jsx("img",{src:zE,className:"app-image",alt:"React Logo"}),lt.jsx("p",{className:"app-text",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Natus dolores tenetur similique soluta cupiditate accusamus placeat perferendis inventore architecto neque qui harum vero, cum commodi. Perspiciatis minus nulla modi! Itaque optio iste magnam odio minus error totam nulla mollitia veritatis ea facere alias natus eaque repellat, accusantium deserunt obcaecati qui expedita, beatae laudantium? Ipsa itaque enim amet quam. Sunt tenetur rerum tempora deserunt deleniti repellendus explicabo similique magnam, eius nostrum, sed ipsum corporis alias odio libero iste iure in voluptates, officiis cumque quos quasi. Obcaecati, ratione? Expedita explicabo tempora facere, ab iste aspernatur, libero, quae officia quas ipsum esse ipsam!"})]}),lt.jsx("button",{className:"app-button",onClick:()=>u(O=>O+1),children:"Click Me"}),lt.jsx("p",{children:a})]})})}const gC={updateInterval:60,environment:Hi.Environment.Production,cookieDomain:"jazhka.github.io"},vC=new Hi.KameleoonClient({siteCode:"wgkn3v9n27",configuration:gC});qE.createRoot(document.getElementById("root")).render(lt.jsx(to.StrictMode,{children:lt.jsx(Hi.KameleoonProvider,{client:vC,children:lt.jsx(dC,{})})}));
